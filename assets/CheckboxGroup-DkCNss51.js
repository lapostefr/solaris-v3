import{d as M,m as w,b as I,r as u,c as d,w as z,f as i,g as c,y as p,A as m,C as v,e as b,t as f,F as U,z as j,v as A,B as D,D as P}from"./vue.esm-bundler-BQVOD3cV.js";import{S as y}from"./Checkbox-Bz21hexC.js";import{S as x}from"./Message-COM7xYSp.js";import{f as F}from"./generateId-CVaf2GGW.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"checkbox-group"},T=["role","aria-describedby","aria-labelledby","aria-invalid"],H=["id"],J={class:"checkbox-nesting__labelParent"},K={class:"checkbox-nesting__labelOption"},h=M({__name:"CheckboxGroup",props:w({aria:{},nesting:{type:Boolean},options:{},disabled:{type:Boolean},layout:{default:"vertical"},readonly:{type:Boolean},color:{default:"emphasis"},error:{type:Boolean},dataError:{},message:{}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const r=g,s=I(g,"modelValue"),l=u(!1),k=u(null),n=u(F("lp-checkbox-group-id--")),_=d(()=>{var e;return{"checkbox-group__child":r.layout==="vertical nested"||r.nesting,"checkbox-group__option--horizontal":r.layout==="horizontal"&&!r.nesting,"checkbox-group__option--vertical":r.layout==="vertical"&&!r.nesting,"checkbox-group__with-message":r.message||((e=r.dataError)==null?void 0:e.message)}});z(l,()=>{L()});const E=d(()=>{const e=r.options.optionsList.filter(o=>s.value.includes(o.id)).length;return e!=0&&e!==r.options.optionsList.length}),V=(e,o)=>r.error||r.dataError&&r.dataError.active&&!(e||o),C=()=>r.options.legend||r.options.groupName?`${n.value}--legend`:void 0,q=()=>{var e;return(e=r.dataError)!=null&&e.active?!0:void 0},L=()=>{const e=r.options.optionsList.filter(a=>(a.disabled===!0||a.readonly===!0)&&!s.value.includes(a.id)).map(a=>a.id),o=r.options.optionsList.filter(a=>(a.disabled===!0||a.readonly===!0)&&s.value.includes(a.id)).map(a=>a.id);if(l.value)s.value=r.options.optionsList.filter(a=>!e.includes(a.id)).map(a=>a.id);else{const a=r.options.optionsList.filter(t=>!o.includes(t.id)).map(t=>t.id);s.value=r.options.optionsList.filter(t=>!a.includes(t.id)).map(t=>t.id)}},B=e=>{s.value.includes(e.id)?s.value=s.value.filter(o=>o!==e.id):s.value=[...s.value,e.id]},S=d(()=>{const e={},o=r.aria??{};return Object.keys(o).forEach(a=>e[`aria-${a}`]=o[a]),e}),N=d(()=>{var o,a;const e=[];return(o=r.aria)!=null&&o.describedby&&e.push(r.aria.describedby),(a=r.dataError)!=null&&a.active?e.push(`error-message--${n.value}`):r.message&&e.push(`message--${n.value}`),e.length>0?e.join(" "):void 0}),$=()=>r.options.legend?r.options.legend:r.options.groupName,G=()=>{var e;return(e=r.dataError)!=null&&e.active||r.error?"group":void 0};return(e,o)=>(i(),c("div",R,[p("fieldset",P({class:["checkbox-group__wrapper",[{"checkbox-group--error":e.error||e.dataError&&e.dataError.active}]],role:G()},S.value,{"aria-describedby":N.value,"aria-labelledby":C(),"aria-invalid":q()}),[e.options.legend||e.options.groupName?(i(),c("legend",{key:0,id:`${n.value}-legend`,ref_key:"legend",ref:k,class:"checkbox-group__name"},m($()),9,H)):v("",!0),e.options.parent&&(e.layout==="vertical nested"||e.nesting)?(i(),b(y,{key:1,id:e.options.parent.id,modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=a=>l.value=a),name:e.options.parent.name,color:e.color,disabled:e.disabled,readonly:e.readonly,"data-error":{active:e.dataError.active,message:""},indeterminate:E.value,aria:e.options.parent.aria,class:"checkbox-group__parent"},{default:f(()=>[p("span",J,m(e.options.parent.value),1)]),_:1},8,["id","modelValue","name","color","disabled","readonly","data-error","indeterminate","aria"])):v("",!0),(i(!0),c(U,null,j(e.options.optionsList,(a,t)=>(i(),b(y,{key:`${a.id}-${t}`,id:a.id,"model-value":s.value.includes(a.id),name:a.name,color:e.color,disabled:e.disabled||a.disabled,readonly:e.readonly||a.readonly,error:V(e.disabled||a.disabled,a.readonly),"data-error":{active:e.dataError.active,message:""},class:A(["checkbox-group__option",_.value]),aria:a.aria,"onUpdate:modelValue":Q=>B(a)},{default:f(()=>[p("span",K,m(a.id),1)]),_:2},1032,["id","model-value","name","color","disabled","readonly","error","data-error","class","aria","onUpdate:modelValue"]))),128)),D(x,{id:n.value,message:e.message,"data-error":e.dataError},null,8,["id","message","data-error"])],16,T)]))}}),ae=O(h,[["__scopeId","data-v-85765318"]]);h.__docgenInfo={exportName:"default",displayName:"CheckboxGroup",description:"",tags:{},props:[{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"nesting",required:!1,type:{name:"boolean"}},{name:"options",required:!0,type:{name:"Group"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"layout",required:!1,type:{name:"union",elements:[{name:'"vertical"'},{name:'"vertical nested"'},{name:'"horizontal"'}]},defaultValue:{func:!1,value:"'vertical'"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"color",required:!1,type:{name:"union",elements:[{name:'"emphasis"'},{name:'"quiet"'},{name:'"default"'},{name:'"error"'},{name:'"vsmp"'}]},defaultValue:{func:!1,value:"'emphasis'"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"message",required:!1,type:{name:"string"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/Checkbox/Group/CheckboxGroup.vue"]};export{ae as S};

import{r as p,w as A,g as P,u as k,h as C,j as I,c as w,k as W,l as $,n as q,s as B,p as M,q as L}from"./vue.esm-bundler-BHwbD8xO.js";function F(t,r){let n,i,a;const u=p(!0),l=()=>{u.value=!0,a()};A(t,l,{flush:"sync"});const f=typeof r=="function"?r:r.get,m=typeof r=="function"?void 0:r.set,c=P((e,s)=>(i=e,a=s,{get(){return u.value&&(n=f(),u.value=!1),i(),n},set(o){m==null||m(o)}}));return Object.isExtensible(c)&&(c.trigger=l),c}function x(t){return C()?(I(t),!0):!1}function E(t){return typeof t=="function"?t():k(t)}const j=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const N=Object.prototype.toString,G=t=>N.call(t)==="[object Object]",y=()=>{},V=R();function R(){var t,r;return j&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((r=window==null?void 0:window.navigator)==null?void 0:r.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function T(t,r){var n;if(typeof t=="number")return t+r;const i=((n=t.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",a=t.slice(i.length),u=Number.parseFloat(i)+r;return Number.isNaN(u)?t:u+a}function z(t,r,n){let i;q(n)?i={evaluating:n}:i={};const{lazy:a=!1,evaluating:u=void 0,shallow:l=!0,onError:f=y}=i,m=p(!a),c=l?B(r):p(r);let e=0;return M(async s=>{if(!m.value)return;e++;const o=e;let d=!1;u&&Promise.resolve().then(()=>{u.value=!0});try{const v=await t(_=>{s(()=>{u&&(u.value=!1),d||_()})});o===e&&(c.value=v)}catch(v){f(v)}finally{u&&o===e&&(u.value=!1),d=!0}}),a?w(()=>(m.value=!0,c.value)):c}function h(t){var r;const n=E(t);return(r=n==null?void 0:n.$el)!=null?r:n}const O=j?window:void 0;function b(...t){let r,n,i,a;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,i,a]=t,r=O):[r,n,i,a]=t,!r)return y;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const u=[],l=()=>{u.forEach(e=>e()),u.length=0},f=(e,s,o,d)=>(e.addEventListener(s,o,d),()=>e.removeEventListener(s,o,d)),m=A(()=>[h(r),E(a)],([e,s])=>{if(l(),!e)return;const o=G(s)?{...s}:s;u.push(...n.flatMap(d=>i.map(v=>f(e,d,v,o))))},{immediate:!0,flush:"post"}),c=()=>{m(),l()};return x(c),c}let S=!1;function H(t,r,n={}){const{window:i=O,ignore:a=[],capture:u=!0,detectIframe:l=!1}=n;if(!i)return y;V&&!S&&(S=!0,Array.from(i.document.body.children).forEach(o=>o.addEventListener("click",y)),i.document.documentElement.addEventListener("click",y));let f=!0;const m=o=>a.some(d=>{if(typeof d=="string")return Array.from(i.document.querySelectorAll(d)).some(v=>v===o.target||o.composedPath().includes(v));{const v=h(d);return v&&(o.target===v||o.composedPath().includes(v))}}),e=[b(i,"click",o=>{const d=h(t);if(!(!d||d===o.target||o.composedPath().includes(d))){if(o.detail===0&&(f=!m(o)),!f){f=!0;return}r(o)}},{passive:!0,capture:u}),b(i,"pointerdown",o=>{const d=h(t);f=!m(o)&&!!(d&&!o.composedPath().includes(d))},{passive:!0}),l&&b(i,"blur",o=>{setTimeout(()=>{var d;const v=h(t);((d=i.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(v!=null&&v.contains(i.document.activeElement))&&r(o)},0)})].filter(Boolean);return()=>e.forEach(o=>o())}function D(){const t=p(!1),r=L();return r&&$(()=>{t.value=!0},r),t}function Q(t){const r=D();return w(()=>(r.value,!!t()))}function g(t,r={}){const{window:n=O}=r,i=Q(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let a;const u=p(!1),l=c=>{u.value=c.matches},f=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",l):a.removeListener(l))},m=M(()=>{i.value&&(f(),a=n.matchMedia(E(t)),"addEventListener"in a?a.addEventListener("change",l):a.addListener(l),u.value=a.matches)});return x(()=>{m(),f(),a=void 0}),u}function J(t,r={}){function n(e,s){let o=E(t[E(e)]);return s!=null&&(o=T(o,s)),typeof o=="number"&&(o=`${o}px`),o}const{window:i=O,strategy:a="min-width"}=r;function u(e){return i?i.matchMedia(e).matches:!1}const l=e=>g(()=>`(min-width: ${n(e)})`,r),f=e=>g(()=>`(max-width: ${n(e)})`,r),m=Object.keys(t).reduce((e,s)=>(Object.defineProperty(e,s,{get:()=>a==="min-width"?l(s):f(s),enumerable:!0,configurable:!0}),e),{});function c(){const e=Object.keys(t).map(s=>[s,l(s)]);return w(()=>e.filter(([,s])=>s.value).map(([s])=>s))}return Object.assign(m,{greaterOrEqual:l,smallerOrEqual:f,greater(e){return g(()=>`(min-width: ${n(e,.1)})`,r)},smaller(e){return g(()=>`(max-width: ${n(e,-.1)})`,r)},between(e,s){return g(()=>`(min-width: ${n(e)}) and (max-width: ${n(s,-.1)})`,r)},isGreater(e){return u(`(min-width: ${n(e,.1)})`)},isGreaterOrEqual(e){return u(`(min-width: ${n(e)})`)},isSmaller(e){return u(`(max-width: ${n(e,-.1)})`)},isSmallerOrEqual(e){return u(`(max-width: ${n(e)})`)},isInBetween(e,s){return u(`(min-width: ${n(e)}) and (max-width: ${n(s,-.1)})`)},current:c,active(){const e=c();return w(()=>e.value.length===0?"":e.value.at(-1))}})}function K(t){const r=L(),n=F(()=>null,()=>r.proxy.$el);return W(n.trigger),$(n.trigger),n}function X(t,r={}){const{initialValue:n=!1,focusVisible:i=!1,preventScroll:a=!1}=r,u=p(!1),l=w(()=>h(t));b(l,"focus",m=>{var c,e;(!i||(e=(c=m.target).matches)!=null&&e.call(c,":focus-visible"))&&(u.value=!0)}),b(l,"blur",()=>u.value=!1);const f=w({get:()=>u.value,set(m){var c,e;!m&&u.value?(c=l.value)==null||c.blur():m&&!u.value&&((e=l.value)==null||e.focus({preventScroll:a}))}});return A(l,()=>{f.value=n},{immediate:!0,flush:"post"}),{focused:f}}export{X as a,J as b,z as c,H as o,K as u};

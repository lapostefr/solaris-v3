import{o as a,e as s,t as l,f as t,d as U,c as m,b as p,A as i,B as o,u as k,v as F,F as j,x as N,H as $,y as d,z as R,E as H}from"./vue.esm-bundler-BIhSTzsT.js";import{S as w}from"./Button-CGWBbttc.js";import{S as D}from"./Picture-DIMOpAs8.js";import{S as q}from"./Badge-CI6HLWdM.js";import{S as O}from"./StarRating-DLsYDb6Z.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={},W={class:"productCard"},A={class:"productCard__top"},M={class:"productCard__content"};function E(r,f){return a(),s("article",W,[l("div",A,[t(r.$slots,"picture",{},void 0,!0)]),l("div",M,[t(r.$slots,"badges",{},void 0,!0),t(r.$slots,"title",{},void 0,!0),t(r.$slots,"description",{},void 0,!0),t(r.$slots,"ratings",{},void 0,!0),t(r.$slots,"price",{},void 0,!0),t(r.$slots,"deadlines",{},void 0,!0),t(r.$slots,"offers",{},void 0,!0),t(r.$slots,"options",{},void 0,!0)]),t(r.$slots,"cta",{},void 0,!0)])}const K=C(S,[["render",E],["__scopeId","data-v-572bd015"]]);S.__docgenInfo={displayName:"Vertical",description:"",tags:{},slots:[{name:"picture"},{name:"badges"},{name:"title"},{name:"description"},{name:"ratings"},{name:"price"},{name:"deadlines"},{name:"offers"},{name:"options"},{name:"cta"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/ProductCard/layouts/Vertical/Vertical.vue"]};const P={},G={class:"productCard"},J={class:"productCard__left"},Q={class:"productCard__right"},X={class:"productCard__infos"},Y={class:"productCard__infos__left"},Z={class:"productCard__infos__right"};function x(r,f){return a(),s("article",G,[l("div",J,[t(r.$slots,"picture",{},void 0,!0)]),l("div",Q,[l("div",X,[l("div",Y,[t(r.$slots,"badges",{},void 0,!0),t(r.$slots,"title",{},void 0,!0),t(r.$slots,"description",{},void 0,!0),t(r.$slots,"ratings",{},void 0,!0),t(r.$slots,"deadlines",{},void 0,!0)]),l("div",Z,[t(r.$slots,"price",{},void 0,!0),t(r.$slots,"offers",{},void 0,!0),t(r.$slots,"options",{},void 0,!0),t(r.$slots,"cta",{},void 0,!0)])])])])}const ee=C(P,[["render",x],["__scopeId","data-v-afbee435"]]);P.__docgenInfo={displayName:"Horizontal",description:"",tags:{},slots:[{name:"picture"},{name:"badges"},{name:"title"},{name:"description"},{name:"ratings"},{name:"deadlines"},{name:"price"},{name:"offers"},{name:"options"},{name:"cta"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/ProductCard/layouts/Horizontal/Horizontal.vue"]};const ae=""+new URL("eco-responsable-BHwpUpll.svg",import.meta.url).href,re=""+new URL("made-in-france-Brb7tekp.svg",import.meta.url).href,se={key:1,class:"productCard__icons productCard__madeInFrance"},te=["src"],oe=["src"],ne={key:0,class:"productCard__badges"},ie=["href","title"],de={key:0,class:"productCard__details"},le={key:0,class:"productCard__ratings"},ce={key:0,class:"productCard__reviewCount"},ue={key:0,class:"productCard__priceWrapper"},pe={class:"productCard__priceDetails"},me={key:0,class:"productCard__price"},fe={class:"productCard__price--integer"},_e={class:"productCard__price--decimal"},ge={key:1,class:"productCard__priceCrossedOut"},he={key:1,class:"productCard__availability"},Ce={key:0,class:"productCard__deadlines"},ye={key:0,class:"productCard__offer"},ve={key:0,class:"productCard__option"},be={key:1,class:"productCard__color"},ke={key:0,class:"button__text"},$e={key:0,class:"button__text"},B=U({__name:"ProductCard",props:{orientation:{default:"vertical"},title:{},url:{},image:{},badges:{},details:{},ecoResponsable:{type:Boolean},madeInFrance:{type:Boolean},color:{type:Boolean},isMultiVariant:{type:Boolean},rating:{},reviewCount:{},price:{},priceCrossedOut:{},priceTaxes:{},isInStock:{type:Boolean},availability:{},code:{},deadlines:{},offersLabel:{},addToCartLoading:{type:Boolean},hiddenUrl:{default:null}},emits:["addToCart","clickProduct","redirectProduct"],setup(r,{emit:f}){const n=r,_=f,g=m(()=>{if(n.price){const e=n.price.split(",");return e[0].length>3&&(e[0]=e[0].slice(0,e[0].length-3)+" "+e[0].slice(e[0].length-3)),e[1]=","+e[1],e}return null}),y=m(()=>n.priceTaxes&&(n.priceTaxes.toLowerCase()==="ht"||n.priceTaxes.toLowerCase()==="ttc")?n.priceTaxes.toUpperCase():""),I=()=>{_("addToCart",n.code)},T=()=>{const e=n.hiddenUrl||n.url;e&&window.location.assign(e),_("redirectProduct")},V=e=>{_("clickProduct"),n.hiddenUrl&&(e.preventDefault(),window.open(n.hiddenUrl,e.ctrlKey?"_blank":"_self"))},v=e=>e.startsWith("-")&&e.endsWith("%"),h=m(()=>{var e;return(e=n.badges)==null?void 0:e.find(u=>v(u.label??""))}),L=m(()=>{var e;return(e=n.badges)==null?void 0:e.slice(0,2).filter(u=>!v(u.label??""))}),z=m(()=>n.orientation==="horizontal"?ee:K);return(e,u)=>(a(),p(H(z.value),{class:"productCard"},{picture:i(()=>[l("div",{class:F(["productCard__imageWrapper",{"productCard__imageWrapper--placeholder":!e.image}])},[e.image?(a(),p(D,{key:0,class:"productCard__image","default-source":e.image.defaultSource,"other-sources":e.image.otherSources,width:e.image.width,height:e.image.height},null,8,["default-source","other-sources","width","height"])):o("",!0),e.ecoResponsable||e.madeInFrance?(a(),s("div",se,[e.ecoResponsable?(a(),s("img",{key:0,height:"32",src:k(ae),width:"32"},null,8,te)):o("",!0),e.madeInFrance?(a(),s("img",{key:1,height:"32",src:k(re),width:"32"},null,8,oe)):o("",!0)])):o("",!0)],2)]),badges:i(()=>[e.badges&&e.badges.length?(a(),s("div",ne,[(a(!0),s(j,null,N(L.value,c=>(a(),p(q,{key:c.label,class:"productCard__badge",color:c.color},{default:i(()=>[$(d(c.label),1)]),_:2},1032,["color"]))),128))])):o("",!0)]),title:i(()=>[l("a",{href:e.url,class:"productCard__title",title:e.title,onClick:u[0]||(u[0]=c=>V(c))},d(e.title),9,ie)]),description:i(()=>[e.details?(a(),s("span",de,d(e.details),1)):o("",!0)]),ratings:i(()=>[e.rating&&e.reviewCount?(a(),s("div",le,[R(O,{value:e.rating},null,8,["value"]),e.orientation==="horizontal"?(a(),s("span",ce,d(e.reviewCount)+" avis",1)):o("",!0)])):o("",!0)]),price:i(()=>{var c;return[e.isInStock?(a(),s("div",ue,[l("div",pe,[g.value?(a(),s("span",me,[l("span",fe,d(g.value[0]),1),l("span",_e,d(g.value[1])+" "+d(y.value),1)])):o("",!0),e.priceCrossedOut?(a(),s("span",ge,d(e.priceCrossedOut)+" "+d(y.value),1)):o("",!0)]),h.value?(a(),p(q,{key:0,class:"productCard__badge productCard__badge--discount",color:(c=h.value)==null?void 0:c.color},{default:i(()=>{var b;return[$(d((b=h.value)==null?void 0:b.label),1)]}),_:1},8,["color"])):o("",!0)])):(a(),s("div",he,d(e.availability),1))]}),deadlines:i(()=>[e.deadlines&&e.orientation==="horizontal"?(a(),s("span",Ce,d(e.deadlines),1)):o("",!0)]),offers:i(()=>[e.offersLabel?(a(),s("div",ye,d(e.offersLabel),1)):o("",!0)]),options:i(()=>[e.isMultiVariant?(a(),s("div",ve," Plus dâ€™options disponibles ")):e.color?(a(),s("div",be," Plus de couleurs ")):o("",!0)]),cta:i(()=>[e.isInStock?(a(),p(w,{key:0,class:"productCard__cart",type:"ghost",color:"darkgrey",icon:"cart-simple","is-loading":e.addToCartLoading,"loading-custom":"quiet","aria-label":"Ajouter au panier","icon-reverse":"",onClick:I},{default:i(()=>[e.orientation==="horizontal"?(a(),s("span",ke," Ajouter au panier ")):o("",!0)]),_:1},8,["is-loading"])):(a(),p(w,{key:1,class:"productCard__action",type:"ghost",color:"darkgrey",icon:"arrow-right","aria-label":"Voir le produit","icon-reverse":"",onClick:T},{default:i(()=>[e.orientation==="horizontal"?(a(),s("span",$e," Voir le produit ")):o("",!0)]),_:1}))]),_:1}))}}),Te=C(B,[["__scopeId","data-v-ab9c49e7"]]);B.__docgenInfo={exportName:"default",displayName:"ProductCard",description:"",tags:{},props:[{name:"orientation",required:!1,type:{name:"union",elements:[{name:'"horizontal"'},{name:'"vertical"'}]},defaultValue:{func:!1,value:"'vertical'"}},{name:"title",required:!1,type:{name:"string"}},{name:"url",required:!1,type:{name:"string"}},{name:"image",required:!1,type:{name:"Picture"}},{name:"badges",required:!1,type:{name:"Array",elements:[{name:"Badges"}]}},{name:"details",required:!1,type:{name:"string"}},{name:"ecoResponsable",required:!1,type:{name:"boolean"}},{name:"madeInFrance",required:!1,type:{name:"boolean"}},{name:"color",required:!1,type:{name:"boolean"}},{name:"isMultiVariant",required:!1,type:{name:"boolean"}},{name:"rating",required:!1,type:{name:"number"}},{name:"reviewCount",required:!1,type:{name:"number"}},{name:"price",required:!1,type:{name:"string"}},{name:"priceCrossedOut",required:!1,type:{name:"string"}},{name:"priceTaxes",required:!1,type:{name:"union",elements:[{name:'"ht"'},{name:'"ttc"'},{name:'"HT"'},{name:'"TTC"'}]}},{name:"isInStock",required:!1,type:{name:"boolean"}},{name:"availability",required:!1,type:{name:"string"}},{name:"code",required:!1,type:{name:"string"}},{name:"deadlines",required:!1,type:{name:"string"}},{name:"offersLabel",required:!1,type:{name:"string"}},{name:"addToCartLoading",required:!1,type:{name:"boolean"}},{name:"hiddenUrl",required:!1,type:{name:"union",elements:[{name:"string"},{name:"null"}]},defaultValue:{func:!1,value:"null"}}],events:[{name:"addToCart"},{name:"clickProduct"},{name:"redirectProduct"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/ProductCard/ProductCard.vue"]};export{Te as S};

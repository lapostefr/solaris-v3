import{m as L,c,Z as V,o as a,B as d,G as s,n as u,H as U,E as t,a as r,u as h,p as z,F,q as R,C as v,t as n,v as O,J as j}from"./vue.esm-bundler-BV06ZB-3.js";import{S as N}from"./Picture-BTt4q-w2.js";import{S as b}from"./Badge-mwQ5UWeV.js";import{S as D}from"./StarRating-DSmhLb4r.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H=""+new URL("eco-responsable-BHwpUpll.svg",import.meta.url).href,M=""+new URL("made-in-france-Brb7tekp.svg",import.meta.url).href,A={key:1,class:"productCard__icons productCard__madeInFrance"},E=["src"],G=["src"],J={key:0,class:"productCard__badges"},K=["href","title"],Z={key:0,class:"productCard__details"},Q={key:0,class:"productCard__ratings"},X={key:0,class:"productCard__reviewCount"},Y={key:0,class:"productCard__priceWrapper"},$={class:"productCard__priceDetails"},x={key:0,class:"productCard__price"},ee={class:"productCard__price--integer"},ae={class:"productCard__price--decimal"},re={key:1,class:"productCard__priceCrossedOut"},te={key:1,class:"productCard__availability"},oe={key:0,class:"productCard__deadlines"},se={key:0,class:"productCard__offer"},ne={key:0,class:"productCard__option"},ie={key:1,class:"productCard__color"},le={key:0,class:"button__text"},de={key:0,class:"button__text"},k=L({__name:"ProductCard",props:{orientation:{default:"vertical"},title:{},url:{},image:{},badges:{},details:{},ecoResponsable:{type:Boolean},madeInFrance:{type:Boolean},color:{type:Boolean},isMultiVariant:{type:Boolean},rating:{},reviewCount:{},price:{},priceCrossedOut:{},priceTaxes:{},isInStock:{type:Boolean},availability:{},code:{},deadlines:{},offersLabel:{},addToCartLoading:{type:Boolean},hiddenUrl:{default:null}},emits:["addToCart","clickProduct","redirectProduct"],setup(q,{emit:S}){const o=q,p=S,m=c(()=>{if(o.price){const e=o.price.split(",");return e[0].length>3&&(e[0]=e[0].slice(0,e[0].length-3)+" "+e[0].slice(e[0].length-3)),e[1]=","+e[1],e}return null}),g=c(()=>o.priceTaxes&&(o.priceTaxes.toLowerCase()==="ht"||o.priceTaxes.toLowerCase()==="ttc")?o.priceTaxes.toUpperCase():""),B=()=>{p("addToCart",o.code)},P=()=>{const e=o.hiddenUrl||o.url;e&&window.location.assign(e),p("redirectProduct")},w=e=>{p("clickProduct"),o.hiddenUrl&&(e.preventDefault(),window.open(o.hiddenUrl,e.ctrlKey?"_blank":"_self"))},f=e=>e.startsWith("-")&&e.endsWith("%"),_=c(()=>{var e;return(e=o.badges)==null?void 0:e.find(l=>f(l.label??""))}),T=c(()=>{var e;return(e=o.badges)==null?void 0:e.slice(0,2).filter(l=>!f(l.label??""))}),I=c(()=>o.orientation==="horizontal"?"SolarisHorizontal":"SolarisVertical");return(e,l)=>{const y=V("SolarisButton");return a(),d(j(I.value),{class:"productCard"},{picture:s(()=>[u("div",{class:z(["productCard__imageWrapper",{"productCard__imageWrapper--placeholder":!e.image}])},[e.image?(a(),d(N,U({key:0,class:"productCard__image"},e.image),null,16)):t("",!0),e.ecoResponsable||e.madeInFrance?(a(),r("div",A,[e.ecoResponsable?(a(),r("img",{key:0,height:"32",src:h(H),width:"32"},null,8,E)):t("",!0),e.madeInFrance?(a(),r("img",{key:1,height:"32",src:h(M),width:"32"},null,8,G)):t("",!0)])):t("",!0)],2)]),badges:s(()=>[e.badges&&e.badges.length?(a(),r("div",J,[(a(!0),r(F,null,R(T.value,i=>(a(),d(b,{key:i.label,class:"productCard__badge",color:i.color},{default:s(()=>[v(n(i.label),1)]),_:2},1032,["color"]))),128))])):t("",!0)]),title:s(()=>[u("a",{href:e.url,class:"productCard__title",title:e.title,onClick:l[0]||(l[0]=i=>w(i))},n(e.title),9,K)]),description:s(()=>[e.details?(a(),r("span",Z,n(e.details),1)):t("",!0)]),ratings:s(()=>[e.rating&&e.reviewCount?(a(),r("div",Q,[O(D,{value:e.rating},null,8,["value"]),e.orientation==="horizontal"?(a(),r("span",X,n(e.reviewCount)+" avis",1)):t("",!0)])):t("",!0)]),price:s(()=>{var i;return[e.isInStock?(a(),r("div",Y,[u("div",$,[m.value?(a(),r("span",x,[u("span",ee,n(m.value[0]),1),u("span",ae,n(m.value[1])+" "+n(g.value),1)])):t("",!0),e.priceCrossedOut?(a(),r("span",re,n(e.priceCrossedOut)+" "+n(g.value),1)):t("",!0)]),_.value?(a(),d(b,{key:0,class:"productCard__badge productCard__badge--discount",color:(i=_.value)==null?void 0:i.color},{default:s(()=>{var C;return[v(n((C=_.value)==null?void 0:C.label),1)]}),_:1},8,["color"])):t("",!0)])):(a(),r("div",te,n(e.availability),1))]}),deadlines:s(()=>[e.deadlines&&e.orientation==="horizontal"?(a(),r("span",oe,n(e.deadlines),1)):t("",!0)]),offers:s(()=>[e.offersLabel?(a(),r("div",se,n(e.offersLabel),1)):t("",!0)]),options:s(()=>[e.isMultiVariant?(a(),r("div",ne," Plus dâ€™options disponibles ")):e.color?(a(),r("div",ie," Plus de couleurs ")):t("",!0)]),cta:s(()=>[e.isInStock?(a(),d(y,{key:0,class:"productCard__cart",type:"ghost",color:"darkgrey",icon:"cart-simple","is-loading":e.addToCartLoading,"loading-custom":"quiet","aria-label":"Ajouter au panier","icon-reverse":"",onClick:B},{default:s(()=>[e.orientation==="horizontal"?(a(),r("span",le," Ajouter au panier ")):t("",!0)]),_:1},8,["is-loading"])):(a(),d(y,{key:1,class:"productCard__action",type:"ghost",color:"darkgrey",icon:"arrow-right","aria-label":"Voir le produit","icon-reverse":"",onClick:P},{default:s(()=>[e.orientation==="horizontal"?(a(),r("span",de," Voir le produit ")):t("",!0)]),_:1}))]),_:1})}}}),ce=W(k,[["__scopeId","data-v-11557d79"]]);k.__docgenInfo={exportName:"default",displayName:"ProductCard",description:"",tags:{},props:[{name:"orientation",required:!1,type:{name:"union",elements:[{name:'"horizontal"'},{name:'"vertical"'}]},defaultValue:{func:!1,value:"'vertical'"}},{name:"title",required:!1,type:{name:"string"}},{name:"url",required:!1,type:{name:"string"}},{name:"image",required:!1,type:{name:"Picture"}},{name:"badges",required:!1,type:{name:"Array",elements:[{name:"Badges"}]}},{name:"details",required:!1,type:{name:"string"}},{name:"ecoResponsable",required:!1,type:{name:"boolean"}},{name:"madeInFrance",required:!1,type:{name:"boolean"}},{name:"color",required:!1,type:{name:"boolean"}},{name:"isMultiVariant",required:!1,type:{name:"boolean"}},{name:"rating",required:!1,type:{name:"number"}},{name:"reviewCount",required:!1,type:{name:"number"}},{name:"price",required:!1,type:{name:"string"}},{name:"priceCrossedOut",required:!1,type:{name:"string"}},{name:"priceTaxes",required:!1,type:{name:"union",elements:[{name:'"ht"'},{name:'"ttc"'},{name:'"HT"'},{name:'"TTC"'}]}},{name:"isInStock",required:!1,type:{name:"boolean"}},{name:"availability",required:!1,type:{name:"string"}},{name:"code",required:!1,type:{name:"string"}},{name:"deadlines",required:!1,type:{name:"string"}},{name:"offersLabel",required:!1,type:{name:"string"}},{name:"addToCartLoading",required:!1,type:{name:"boolean"}},{name:"hiddenUrl",required:!1,type:{name:"union",elements:[{name:"string"},{name:"null"}]},defaultValue:{func:!1,value:"null"}}],events:[{name:"addToCart"},{name:"clickProduct"},{name:"redirectProduct"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/organisms/ProductCard/ProductCard.vue"]};const fe=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{ce as S,fe as _};

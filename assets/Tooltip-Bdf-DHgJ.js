import{d as oe,r as m,c as d,l as le,Y as ne,e as N,t as W,f as F,v as q,L as P,B as ie,o as z}from"./vue.esm-bundler-BIhSTzsT.js";import{o as re}from"./index-BaiQJBqJ.js";import{f as ae}from"./generateId-CVaf2GGW.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";var T=(v=>(v.default="default",v.quiet="quiet",v.spotlight="spotlight",v))(T||{});const ce=["tabindex"],fe=["id"],I=oe({__name:"Tooltip",props:{color:{default:T.default},displayElement:{default:"inline-flex"},forceShow:{type:Boolean},forcePlacement:{type:Boolean,default:!1},isManual:{type:Boolean},long:{type:Boolean},offset:{default:8},placement:{default:"top"},trigger:{default:"hover"},type:{default:"default"}},emits:["triggerEvent","close"],setup(v,{emit:R}){const t=v,V=R,x=m(null),$=m(null),_=m(t.placement),c=m(""),k=m(),D=["A","BUTTON"],C=m(""),O=m(null);re(x,()=>S());const L=d(()=>{let e="inherit",o="inherit",r="inherit",n="inherit";const h=t.offset;let u="transparent",b="transparent",a="transparent",s="transparent";const E=t.offset;let g=E+4,f="#3C3C3C";t.color!==T.quiet&&(f=!t.long&&t.type==="default"?"#3C3C3C":"#FFF",g=t.type==="empty-no-arrow"?0:E+4),t.color===T.spotlight&&(f="#003DA5");const B=_.value.split("-"),w=B[0],l=B[1];w==="top"&&(r=`calc(100% + ${g}px)`,u=f,l||(n="50%"),l==="start"&&(n="0"),l==="end"&&(o="0")),w==="bottom"&&(e=`calc(100% + ${g}px)`,a=f,l||(n="50%"),l==="start"&&(n="0"),l==="end"&&(o="0")),w==="left"&&(o=`calc(100% + ${g}px)`,s=f,l||(e="50%"),l==="start"&&(e="0"),l==="end"&&(r="0")),w==="right"&&(n=`calc(100% + ${g}px)`,b=f,l||(e="50%"),l==="start"&&(e="0"),l==="end"&&(r="0"));const p={display:"block",background:f,top:e,right:o,bottom:r,left:n},i={"border-width":`${h}px`,"border-top-color":u,"border-right-color":b,"border-bottom-color":a,"border-left-color":s};return{tooltip:p,arrow:i}}),A=d(()=>{let e;return t.color===T.quiet?e="default":e=t.long||t.type==="long"?"long":t.type,`tooltip__popper--${_.value} tooltip__popper--${e}`}),U=d(()=>{let e=t.trigger==="clickToOpen"||t.trigger==="clickToToggle"?"click":t.trigger,o=c.value||"";return t.isManual&&(e="",o=""),`tooltip__trigger--${e} tooltip__trigger--${o} ${j.value}`}),j=d(()=>t.forceShow&&c.value!=="closed"?"tooltip__trigger--forced":""),Y=d(()=>`tooltip__arrow--${_.value}`),H=d(()=>k.value?k.value.firstElementChild:void 0),G=d(()=>{const e=H.value;return t.trigger==="focusOnly"&&e&&!D.includes(e.tagName)?0:null}),J=()=>{t.trigger==="clickToOpen"&&(y(),c.value="open"),t.trigger==="clickToToggle"&&(y(),c.value=c.value==="open"?"closed":"open"),t.trigger==="focusOnly"&&K(),V("triggerEvent",c.value)},K=()=>{var o;const e=H.value;e instanceof HTMLElement&&(D.includes(e.tagName)||e.tabIndex===0?e.focus():(o=k.value)==null||o.focus())},Q=e=>{["hover","focusOnly"].includes(t.trigger)&&e.preventDefault()},X=()=>{y()},S=()=>{c.value="closed",V("close")},y=()=>{const e=t.placement.split("-"),o=x.value,r=o==null?void 0:o.getBoundingClientRect().left,n=o==null?void 0:o.getBoundingClientRect().top,h=o==null?void 0:o.clientWidth,u=o==null?void 0:o.clientHeight,b=$.value,a=b.clientWidth+t.offset,s=b.clientHeight+t.offset,E=window.innerWidth-(r+h+a),g=window.innerHeight-(n+u+s),f=window.innerWidth-(r+a),B=window.innerHeight-(n+s),w=window.innerWidth-(r+a-(a-h)/2),l=window.innerHeight-(n+s-(s-u)/2);let p=e[0],i=e[1];t.forcePlacement||(e[0]==="top"&&n<s&&(p="bottom"),e[0]==="bottom"&&g<0&&(p="top"),(e[0]==="top"||e[0]==="bottom")&&(e[1]==="start"&&f<0&&(i="end"),e[1]==="end"&&r<a-h&&(i="start"),!e[1]&&w<0&&(i="end"),!e[1]&&r<(a-h)/2&&(i="start")),e[0]==="left"&&r<a&&(p="right"),e[0]==="right"&&E<0&&(p="left"),(e[0]==="left"||e[0]==="right")&&(e[1]==="start"&&B<0&&(i="end"),e[1]==="end"&&n<s-u&&(i="start"),!e[1]&&l<0&&(i="end"),!e[1]&&n<(s-u)/2&&(i="start"))),_.value=i?`${p}-${i}`:p},Z=e=>{e.key==="Escape"&&S()},ee=d(()=>t.trigger==="clickToToggle"||t.trigger==="clickToOpen"?C.value:void 0),te=d(()=>t.trigger==="clickToToggle"||t.trigger==="clickToOpen"?c.value==="open":void 0),M=()=>{O.value&&clearTimeout(O.value),O.value=setTimeout(y,100)};return le(()=>{t.forceShow&&(c.value="open"),$.value&&(C.value=ae("popper--")),window.addEventListener("keydown",Z),window.addEventListener("resize",y),window.addEventListener("scroll",M)}),ne(()=>{window.removeEventListener("resize",y),window.removeEventListener("scroll",M)}),(e,o)=>(z(),N("div",{ref_key:"tooltip",ref:x,class:q(["tooltip",{"tooltip--spotlight":e.color==="spotlight"}]),style:P("display: "+e.displayElement)},[W("div",{ref_key:"tooltipTrigger",ref:k,class:q(["tooltip__trigger",U.value]),tabindex:G.value,onClick:J,onMouseover:X,onMousedown:Q},[F(e.$slots,"trigger",{ariaControls:ee.value,ariaExpanded:te.value,ariaDescribedby:C.value},void 0,!0)],42,ce),W("div",{id:C.value,ref_key:"tooltipPopper",ref:$,role:"tooltip",class:q(["tooltip__popper",A.value]),style:P(L.value.tooltip)},[e.type!=="empty-no-arrow"||e.color==="quiet"?(z(),N("i",{key:0,class:q(["tooltip__arrow",Y.value]),style:P(L.value.arrow)},null,6)):ie("",!0),F(e.$slots,"tooltip",{closed:S},void 0,!0)],14,fe)],6))}}),me=se(I,[["__scopeId","data-v-223c6017"]]);I.__docgenInfo={exportName:"default",displayName:"Tooltip",description:"",tags:{},props:[{name:"color",required:!1,type:{name:"Colors"},defaultValue:{func:!1,value:"Colors.default"}},{name:"displayElement",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'inline-flex'"}},{name:"forceShow",required:!1,type:{name:"boolean"}},{name:"forcePlacement",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isManual",required:!1,type:{name:"boolean"}},{name:"long",required:!1,type:{name:"boolean"}},{name:"offset",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"8"}},{name:"placement",required:!1,type:{name:"TooltipPlacement"},defaultValue:{func:!1,value:"'top'"}},{name:"trigger",required:!1,type:{name:"union",elements:[{name:'"hover"'},{name:'"clickToOpen"'},{name:'"clickToToggle"'},{name:'"focusOnly"'}]},defaultValue:{func:!1,value:"'hover'"}},{name:"type",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"long"'},{name:'"empty-border"'},{name:'"empty-no-arrow"'},{name:'"empty"'}]},defaultValue:{func:!1,value:"'default'"}}],events:[{name:"triggerEvent"},{name:"close"}],slots:[{name:"trigger",scoped:!0,bindings:[{name:"aria-controls",title:"binding"},{name:"aria-expanded",title:"binding"},{name:"aria-describedby",title:"binding"}]},{name:"tooltip",scoped:!0,bindings:[{name:"closed",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/Tooltip/Tooltip.vue"]};export{T as C,me as S};

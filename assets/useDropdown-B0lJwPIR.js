import{d as ye,r as d,k as ke,l as le,o as z,e as C,y as ae,B as J,G as Oe,u as Se,H as Be,c as p,w as xe,a0 as Ie,O as De}from"./vue.esm-bundler-BHwbD8xO.js";import{g as Re}from"./generateId-DPOzJEtM.js";import{_ as _e}from"./_plugin-vue_export-helper-DlAUqK2U.js";const He={key:0},Ne={key:0,class:"dropdown__message"},ue=ye({__name:"DropdownMessage",props:{dataError:{},error:{},message:{}},setup(L,{expose:u}){const i=L,h=Re,c=d(null),y=d(""),f=()=>{var a;return(a=i.dataError)!=null&&a.message?i.dataError.message:i.error},l=()=>{const a=c.value;y.value=a&&a.id?a.id:"error-message"};return u({idMessage:y}),ke(()=>{l()}),le(()=>{l()}),(a,R)=>{var b,k,w,O,v;return(b=a.dataError)!=null&&b.active&&((k=a.dataError)!=null&&k.message)||a.error||a.message?(z(),C("div",He,[a.message&&!((w=a.dataError)!=null&&w.active)&&!a.error?(z(),C("span",Ne,ae(a.message),1)):J("",!0),(O=a.dataError)!=null&&O.active&&((v=a.dataError)!=null&&v.message)||a.error?Oe((z(),C("span",{key:1,ref_key:"errorMessage",ref:c,class:"dropdown__error-message"},[Be(ae(f()),1)])),[[Se(h),"dropdown-error-message--"]]):J("",!0)])):J("",!0)}}}),je=_e(ue,[["__scopeId","data-v-faf81a88"]]);ue.__docgenInfo={exportName:"default",displayName:"DropdownMessage",description:"",tags:{},expose:[{name:"idMessage"}],props:[{name:"dataError",required:!1,type:{name:"DataError"}},{name:"error",required:!1,type:{name:"string"}},{name:"message",required:!1,type:{name:"string"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/atoms/Dropdown/Message/DropdownMessage.vue"]};function $e(L){const u={0:["°","₀","۰","０"],1:["¹","₁","۱","１"],2:["²","₂","۲","２"],3:["³","₃","۳","３"],4:["⁴","₄","۴","٤","４"],5:["⁵","₅","۵","٥","５"],6:["⁶","₆","۶","٦","６"],7:["⁷","₇","۷","７"],8:["⁸","₈","۸","８"],9:["⁹","₉","۹","９"],a:["à","á","ả","ã","ạ","ă","ắ","ằ","ẳ","ẵ","ặ","â","ấ","ầ","ẩ","ẫ","ậ","ā","ą","å","α","ά","ἀ","ἁ","ἂ","ἃ","ἄ","ἅ","ἆ","ἇ","ᾀ","ᾁ","ᾂ","ᾃ","ᾄ","ᾅ","ᾆ","ᾇ","ὰ","ά","ᾰ","ᾱ","ᾲ","ᾳ","ᾴ","ᾶ","ᾷ","а","أ","အ","ာ","ါ","ǻ","ǎ","ª","ა","अ","ا","ａ","ä"],b:["б","β","ب","ဗ","ბ","ｂ"],c:["ç","ć","č","ĉ","ċ","ｃ"],d:["ď","ð","đ","ƌ","ȡ","ɖ","ɗ","ᵭ","ᶁ","ᶑ","д","δ","د","ض","ဍ","ဒ","დ","ｄ"],e:["é","è","ẻ","ẽ","ẹ","ê","ế","ề","ể","ễ","ệ","ë","ē","ę","ě","ĕ","ė","ε","έ","ἐ","ἑ","ἒ","ἓ","ἔ","ἕ","ὲ","έ","е","ё","э","є","ə","ဧ","ေ","ဲ","ე","ए","إ","ئ","ｅ"],f:["ф","φ","ف","ƒ","ფ","ｆ"],g:["ĝ","ğ","ġ","ģ","г","ґ","γ","ဂ","გ","گ","ｇ"],h:["ĥ","ħ","η","ή","ح","ه","ဟ","ှ","ჰ","ｈ"],i:["í","ì","ỉ","ĩ","ị","î","ï","ī","ĭ","į","ı","ι","ί","ϊ","ΐ","ἰ","ἱ","ἲ","ἳ","ἴ","ἵ","ἶ","ἷ","ὶ","ί","ῐ","ῑ","ῒ","ΐ","ῖ","ῗ","і","ї","и","ဣ","ိ","ီ","ည်","ǐ","ი","इ","ی","ｉ"],j:["ĵ","ј","Ј","ჯ","ج","ｊ"],k:["ķ","ĸ","к","κ","Ķ","ق","ك","က","კ","ქ","ک","ｋ"],l:["ł","ľ","ĺ","ļ","ŀ","л","λ","ل","လ","ლ","ｌ"],m:["м","μ","م","မ","მ","ｍ"],n:["ñ","ń","ň","ņ","ŉ","ŋ","ν","н","ن","န","ნ","ｎ"],o:["ó","ò","ỏ","õ","ọ","ô","ố","ồ","ổ","ỗ","ộ","ơ","ớ","ờ","ở","ỡ","ợ","ø","ō","ő","ŏ","ο","ὀ","ὁ","ὂ","ὃ","ὄ","ὅ","ὸ","ό","о","و","θ","ို","ǒ","ǿ","º","ო","ओ","ｏ","ö"],p:["п","π","ပ","პ","پ","ｐ"],q:["ყ","ｑ"],r:["ŕ","ř","ŗ","р","ρ","ر","რ","ｒ"],s:["ś","š","ş","с","σ","ș","ς","س","ص","စ","ſ","ს","ｓ"],t:["ť","ţ","т","τ","ț","ت","ط","ဋ","တ","ŧ","თ","ტ","ｔ"],u:["ú","ù","ủ","ũ","ụ","ư","ứ","ừ","ử","ữ","ự","û","ū","ů","ű","ŭ","ų","µ","у","ဉ","ု","ူ","ǔ","ǖ","ǘ","ǚ","ǜ","უ","उ","ｕ","ў","ü"],v:["в","ვ","ϐ","ｖ"],w:["ŵ","ω","ώ","ဝ","ွ","ｗ"],x:["χ","ξ","ｘ"],y:["ý","ỳ","ỷ","ỹ","ỵ","ÿ","ŷ","й","ы","υ","ϋ","ύ","ΰ","ي","ယ","ｙ"],z:["ź","ž","ż","з","ζ","ز","ဇ","ზ","ｚ"],A:["Á","À","Ả","Ã","Ạ","Ă","Ắ","Ằ","Ẳ","Ẵ","Ặ","Â","Ấ","Ầ","Ẩ","Ẫ","Ậ","Å","Ā","Ą","Α","Ά","Ἀ","Ἁ","Ἂ","Ἃ","Ἄ","Ἅ","Ἆ","Ἇ","ᾈ","ᾉ","ᾊ","ᾋ","ᾌ","ᾍ","ᾎ","ᾏ","Ᾰ","Ᾱ","Ὰ","Ά","ᾼ","А","Ǻ","Ǎ","Ａ","Ä"],B:["Б","Β","ब","Ｂ"],C:["Ç","Ć","Č","Ĉ","Ċ","Ｃ"],D:["Ď","Ð","Đ","Ɖ","Ɗ","Ƌ","ᴅ","ᴆ","Д","Δ","Ｄ"],E:["É","È","Ẻ","Ẽ","Ẹ","Ê","Ế","Ề","Ể","Ễ","Ệ","Ë","Ē","Ę","Ě","Ĕ","Ė","Ε","Έ","Ἐ","Ἑ","Ἒ","Ἓ","Ἔ","Ἕ","Έ","Ὲ","Е","Ё","Э","Є","Ə","Ｅ"],F:["Ф","Φ","Ｆ"],G:["Ğ","Ġ","Ģ","Г","Ґ","Γ","Ｇ"],H:["Η","Ή","Ħ","Ｈ"],I:["Í","Ì","Ỉ","Ĩ","Ị","Î","Ï","Ī","Ĭ","Į","İ","Ι","Ί","Ϊ","Ἰ","Ἱ","Ἳ","Ἴ","Ἵ","Ἶ","Ἷ","Ῐ","Ῑ","Ὶ","Ί","И","І","Ї","Ǐ","ϒ","Ｉ"],J:["Ｊ"],K:["К","Κ","Ｋ"],L:["Ĺ","Ł","Л","Λ","Ļ","Ľ","Ŀ","ल","Ｌ"],M:["М","Μ","Ｍ"],N:["Ń","Ñ","Ň","Ņ","Ŋ","Н","Ν","Ｎ"],O:["Ó","Ò","Ỏ","Õ","Ọ","Ô","Ố","Ồ","Ổ","Ỗ","Ộ","Ơ","Ớ","Ờ","Ở","Ỡ","Ợ","Ø","Ō","Ő","Ŏ","Ο","Ό","Ὀ","Ὁ","Ὂ","Ὃ","Ὄ","Ὅ","Ὸ","Ό","О","Θ","Ө","Ǒ","Ǿ","Ｏ","Ö"],P:["П","Π","Ｐ"],Q:["Ｑ"],R:["Ř","Ŕ","Р","Ρ","Ŗ","Ｒ"],S:["Ş","Ŝ","Ș","Š","Ś","С","Σ","Ｓ"],T:["Ť","Ţ","Ŧ","Ț","Т","Τ","Ｔ"],U:["Ú","Ù","Ủ","Ũ","Ụ","Ư","Ứ","Ừ","Ử","Ữ","Ự","Û","Ū","Ů","Ű","Ŭ","Ų","У","Ǔ","Ǖ","Ǘ","Ǚ","Ǜ","Ｕ","Ў","Ü"],V:["В","Ｖ"],W:["Ω","Ώ","Ŵ","Ｗ"],X:["Χ","Ξ","Ｘ"],Y:["Ý","Ỳ","Ỷ","Ỹ","Ỵ","Ÿ","Ῠ","Ῡ","Ὺ","Ύ","Ы","Й","Υ","Ϋ","Ŷ","Ｙ"],Z:["Ź","Ž","Ż","З","Ζ","Ｚ"]};return Object.keys(u).forEach(i=>{u[i].forEach(h=>{L=L.replace(new RegExp(h,"g"),i)})}),L}const re=L=>{let u=L??"";return u=$e(u),u=u.toString().toLowerCase().replace(/[-_]/g," ").replace(/[^\w\s]/g,""),u};function Ge(L,u,i,h,c,y,f,l,a,R,b){const k=d(!1),w=d(!1),O=d(null),v=d(0),_=d(!1),ie=d(""),ce=d(""),D=d(""),K=d(""),ve=d(""),Q=d(!1),E=p(()=>{const e=[];return i.value.forEach(t=>{t.optionsList.forEach(s=>{e.push(s)})}),e}),B=p(()=>H.value.flatMap(t=>t.optionsList)),pe=p(()=>E.value.filter(e=>e.checked).map(e=>e.value).join(", ")),de=p(()=>E.value.filter(e=>e.checked).map(e=>e.label||e.value).join(", ")),g=p(()=>D.value.toLowerCase()),H=p(()=>{const e=i.value.some(t=>t.groupName);return y!=null&&y.value?e?Y.value:X.value:i.value}),X=p(()=>{const t=!(f!=null&&f.value)||f.value==="contains"?N:$,s=g.value.length>=1?t(E.value):E.value;return G(s.length===0),[{optionsList:s}]}),Y=p(()=>{let e;const t=!(f!=null&&f.value)||f.value==="contains";if(g.value.length===0)e=i.value;else{const s=t?M:T,o=t?N:$;e=i.value.filter(n=>n.optionsList.some(r=>s(r))).map(n=>({...n,optionsList:o(n.optionsList)}))}return G(e.length===0),e}),ge=p(()=>{const e=[];return H.value.forEach((t,s)=>{const o=t.groupName;return t.optionsList.map(n=>{const r={...n,group:o,groupNum:s};return e.push(r),r})}),e}),x=p(()=>V(!1)),I=p(()=>V(!0)),S=p(()=>B.value.length-1),Z=p(()=>B.value[v.value].disabled),me=()=>{requestAnimationFrame(()=>{const e=E.value.filter(t=>t.checked);L("multiSelected",e)})},F=async()=>{var r;await De();const e=l==null?void 0:l.value[u.value],t=e.getBoundingClientRect().top,s=e.getBoundingClientRect().height,o=window.innerHeight-(t+s+15),n=(r=l==null?void 0:l.value[`${u.value}-optionsList`])==null?void 0:r.scrollHeight;O.value=o>n?n:o,D.value.length>=1&&n<o&&(O.value=0)};xe(D,F);const fe=e=>e.map((s,o)=>({...s,position:o})).find(s=>s.value===K.value),N=e=>e.filter(t=>M(t)).sort((t,s)=>j(t,s)),$=e=>e.filter(t=>T(t)).sort((t,s)=>j(t,s)),M=e=>{const t=A(e),s=re(t);return t.includes(g.value)||s.includes(g.value)},T=e=>{var m;const t=A(e),s=re(t),o=(c==null?void 0:c.value)&&/^\d+/.test(g.value),n=(c==null?void 0:c.value)&&/^(\+|\+\d+|\()/.test(g.value),r=((m=t.match(/\+(\d+)/))==null?void 0:m[1])||"";return o?r.startsWith(g.value):n?t.includes(g.value):t.startsWith(g.value)||s.startsWith(g.value)},A=e=>{const s=E.value.some(o=>o.label)?e.label:e.value;return(s==null?void 0:s.toLowerCase())??""},j=(e,t)=>(e.label??"").localeCompare(t.label??"")||(e.value??"").localeCompare(t.value??""),G=e=>{Q.value=e},ee=()=>{w.value=!w.value,v.value=0},be=()=>{w.value||ee()},Le=()=>{k.value=!k.value,v.value=0},te=()=>i.value.length&&!!i.value[0].optionsList&&i.value[0].optionsList.length&&h?h.value:"disabled",we=e=>{e.target.click(),(e.key==="Enter"||e.key===" ")&&(te()==="readonly"?(e.preventDefault(),e.stopPropagation()):e.target.click())},Ee=()=>{w.value=!1,v.value=0,_.value=!1},V=e=>{const t=e?[...B.value].reverse():B.value,s=t.findIndex(m=>!m.disabled),o=t.findIndex(m=>!!m.disabled),n=e?S.value-s:s,r=e?S.value-o:o;return{enabled:n,disabled:r}},q=(e,t)=>{if(e())do v.value+=t;while(Z.value&&e())},he=(e,t)=>{oe();const s=x.value.disabled===0?x.value.enabled:0,o=I.value.disabled===S.value?I.value.enabled:S.value;switch(e){case"next":q(()=>v.value<o,1);break;case"previous":q(()=>v.value>s,-1);break}_.value=!0;const n=R.value[v.value];n.focus(),se(n,t)},se=(e,t)=>{var ne;const s=l==null?void 0:l.value[`${u.value}-optionsList`],o=((ne=l==null?void 0:l.value[`${t}-label`])==null?void 0:ne.clientHeight)||0,n=s.getBoundingClientRect().bottom,r=e.getBoundingClientRect().top,m=n-r,W=I.value.disabled===S.value&&v.value===I.value.enabled,P=x.value.disabled===0&&v.value===x.value.enabled;m<o?s.scrollTop+=o-(n-r):W?s.scrollTop+=o:(P||v.value===1)&&(s.scrollTop-=o)},U=()=>{var n;if(!(c!=null&&c.value)||!w.value)return;const e=l==null?void 0:l.value[`${u.value}-optionsList`],t=e.getBoundingClientRect().bottom,s=e.getBoundingClientRect().top,o=(n=b==null?void 0:b.value)==null?void 0:n.filter(r=>{const m=r.$el.getBoundingClientRect().height,W=r.$el.getBoundingClientRect().bottom,P=r.$el.getBoundingClientRect().top;return W>t+m||P<s-m});o==null||o.forEach(r=>{r.$el.style.display="none"})},oe=()=>{var e;c!=null&&c.value&&((e=b==null?void 0:b.value)==null||e.forEach(t=>{t.$el.style.display="block"}))};return le(()=>{window.addEventListener("scroll",U)}),Ie(()=>{window.removeEventListener("scroll",U)}),{option:R,search:a,flag:b,opened:w,openState:k,dynamicHeight:O,focusedIndex:v,isFocusItem:_,simpleValue:ie,simpleLabel:ce,searches:D,noSearchResult:Q,firstOptionChecked:ve,scrollSelectedValue:K,optionsList:E,searchValue:g,dynamicOptionsList:B,multiValue:pe,multiLabel:de,dynamicOptions:H,filteredOptions:X,filteredGroupOptions:Y,listForScroll:ge,firstIndexOpt:x,lastIndexOpt:I,itemsMax:S,currentOptionDisabled:Z,optionSelected:fe,alphabeticalOrder:j,clickTarget:we,messageNoResult:G,toggle:Le,toggleListBox:ee,openListBox:be,close:Ee,hideFlags:U,displayAllFlags:oe,multiSelected:me,contains:N,startsWith:$,slugContains:M,slugStartsWith:T,optionLower:A,getFirstLastIndex:V,changeFocus:q,focusItem:he,scrollOnFocusItem:se,dynamicListboxHeight:F,getStatus:te}}export{je as S,Ge as u};

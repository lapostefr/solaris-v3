import{S as L}from"./Icon-LmhyBlqB.js";import{S as P,C as U}from"./Tooltip-CcQPO6Um.js";import{d as R,c as n,Y as y,o as d,e as v,F as G,x as H,v as u,J as V,I as B,t as p,y as _,z as h,r as b,w as J,A as C,H as w,B as A,L as M}from"./vue.esm-bundler-BHwbD8xO.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as Y}from"./index-pMn-qRVg.js";const N=R({name:"StepperList",components:{SolarisIcon:L},props:{steps:{required:!0,type:Array},tooltipOpen:{required:!1,type:Boolean},colors:{required:!1,type:String},isResponsiveSmall:{required:!1,type:Boolean},version:{required:!1,type:String},current:{required:!1,type:Number},modelValue:{required:!1,type:Number}},emits:["change","goBack","update:modelValue"],setup(e,r){const i=n({get(){return e.modelValue||e.current||1},set(s){e.modelValue?r.emit("update:modelValue",s):r.emit("change",s)}}),o=s=>i.value>s+1?0:void 0;return{goBack:(s,a)=>{r.emit("goBack",s,a)},tabindexForStep:o,setTabIndex:s=>{const a=e.version==="small"||e.isResponsiveSmall;return e.isResponsiveSmall?e.tooltipOpen?o(s):-1:a&&!e.tooltipOpen?-1:o(s)},setAriaLabel:s=>{if(i.value>s+1)return`Etape ${s+1} : ${e.steps[s].label} complétée`},currentStep:i}}}),Q=["aria-valuemax","aria-valuenow"],W=["role","tabindex","aria-current","aria-label","onKeydown"],X=["onClick"],Z=["onClick"];function x(e,r,i,o,f,c){const m=y("SolarisIcon");return d(),v("ol",{role:"progressbar",class:"steps","aria-valuemin":1,"aria-valuemax":e.steps.length,"aria-valuenow":e.currentStep},[(d(!0),v(G,null,H(e.steps,(s,a)=>(d(),v("li",{key:s.id,class:u(["step",[`step--${e.colors}`,{"step--current":e.currentStep===a+1}]]),role:e.setTabIndex(a)===0?"link":null,tabindex:e.setTabIndex(a),"aria-current":e.currentStep===a+1?"step":null,"aria-label":e.setAriaLabel(a),onKeydown:[V(B(t=>e.goBack(s,a),["prevent"]),["enter"]),V(B(t=>e.goBack(s,a),["prevent"]),["space"])]},[p("i",{class:u(["step__picto",`step__picto--${e.colors}`]),onClick:t=>e.goBack(s,a)},null,10,X),p("span",{class:u(["step__label",{"step__label--active":a+1<e.currentStep}]),onClick:t=>e.goBack(s,a)},_(s.label),11,Z),h(m,{class:"step__edit",name:"action-pen",size:"small",onClick:t=>e.goBack(s,a)},null,8,["onClick"])],42,W))),128))],8,Q)}const ee=I(N,[["render",x],["__scopeId","data-v-bd8de603"]]);N.__docgenInfo={displayName:"StepperList",exportName:"default",description:"",tags:{},props:[{name:"steps",type:{name:"Array<StepType>"},required:!0},{name:"tooltipOpen",type:{name:"boolean"},required:!1},{name:"colors",type:{name:"string"},required:!1},{name:"isResponsiveSmall",type:{name:"boolean"},required:!1},{name:"version",type:{name:"string"},required:!1},{name:"current",type:{name:"number"},required:!1},{name:"modelValue",type:{name:"number"},required:!1}],events:[{name:"change"},{name:"goBack"},{name:"update:modelValue"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/organisms/Stepper/StepperList/StepperList.vue"]};const O=R({name:"Steps",components:{SolarisTooltip:P,SolarisStepperList:ee,SolarisIcon:L},model:{prop:"current",event:"change"},props:{steps:{required:!0,type:Array},color:{required:!1,type:String,default:"supernova"},version:{required:!1,default:"responsive",type:String},current:{required:!1,type:Number},modelValue:{required:!1,type:Number}},emits:["change","goToStep","state","update:modelValue"],setup(e,r){const i=b(!1),o=b(),f=b(null),c=n(()=>e.modelValue||e.current||1);J(()=>c.value,l=>{i.value=!0,e.modelValue?r.emit("update:modelValue",l):r.emit("change",l),setTimeout(()=>{i.value=!1},500)},{immediate:!0});const m=n(()=>k.value?"small__popover":S.value?"large__popover":e.version!=="large"?"small__popover":"large__popover"),s=n(()=>({long:!0,trigger:"clickToToggle",placement:"bottom",forceShow:e.version==="large"||S.value,ref:"tooltipRef",onTriggerEvent:$,onClose:q,type:"default",color:"default",displayElement:"div",forcePlacement:!1,offset:0,ariaLabel:"Tooltip",ariaDescribedBy:"tooltip-description"})),t=Y({tablet:992}).smaller("tablet"),g=n(()=>t.value||!1),k=n(()=>e.version==="responsive"&&g.value),T=n(()=>k.value||e.version==="small"),S=n(()=>e.version==="responsive"&&!g.value),E=(l,K)=>{K+1<c.value&&r.emit("goToStep",l.id)},$=l=>{l==="open"?o.value=!0:l==="closed"&&(o.value=!1),r.emit("state",l)},q=()=>{o.value=!1},z=n(()=>T.value?"Ouverture du panneau d'étapes":null),F=l=>T.value?l:null,j=b(!1),D=n(()=>e.color);return{handleResize:()=>{S.value&&f.value&&(o.value=!1)},tooltipOpen:o,handleTriggerEvent:$,goToStep:E,setAriaAttributes:F,closeTooltip:q,changed:i,showPopover:j,colors:D,currentStep:c,isResponsiveSmall:k,isResponsiveLarge:S,theClass:m,tooltipParams:s,setAriaLabel:z}},computed:{Colors(){return U}}}),se={class:"stepper__inner"},ae=["aria-label","aria-controls","aria-expanded"],re={key:0,class:"stepper__content"},oe={class:"stepper__current"},te={class:"stepper__qty"},le={key:1,class:"stepper__list"};function ne(e,r,i,o,f,c){const m=y("SolarisStepperList"),s=y("SolarisIcon"),a=y("SolarisTooltip");return d(),v("section",{class:u(["stepper",`stepper--${e.version}`])},[p("div",se,[h(a,{ref:"tooltipRef",class:u(e.theClass),long:!0,trigger:"clickToToggle",placement:"bottom","force-show":e.version==="large"||e.isResponsiveLarge,type:"default",color:e.Colors.default,"display-element":"div","force-placement":!1,offset:0,"aria-label":"Tooltip","aria-described-by":"tooltip-description",onTriggerEvent:e.handleTriggerEvent,onClose:e.closeTooltip},{tooltip:C(()=>[h(m,{modelValue:e.currentStep,"onUpdate:modelValue":r[0]||(r[0]=t=>e.currentStep=t),"tooltip-open":e.tooltipOpen,"is-responsive-small":e.isResponsiveSmall,version:e.version,steps:e.steps,colors:e.colors,onGoBack:e.goToStep},null,8,["modelValue","tooltip-open","is-responsive-small","version","steps","colors","onGoBack"])]),trigger:C(({ariaControls:t,ariaExpanded:g})=>[p("button",{class:"stepper__btnTrigger","aria-label":e.setAriaLabel,"aria-controls":e.setAriaAttributes(t),"aria-expanded":e.setAriaAttributes(g)},[h(s,{class:"stepper__trigger",name:"settings-menu-action-vertical"})],8,ae)]),_:1},8,["class","force-show","color","onTriggerEvent","onClose"]),e.version!=="large"||e.isResponsiveSmall?(d(),v("span",re,[r[1]||(r[1]=w(" Etape ")),p("span",oe,_(e.currentStep),1),r[2]||(r[2]=w(" sur ")),p("span",te,_(e.steps.length),1),p("span",{class:u(["stepper__name",{"stepper__name--changed":e.changed}])},_(e.steps[e.currentStep-1].label),3)])):A("",!0),e.version!=="large"||e.isResponsiveSmall?(d(),v("div",le,[p("span",{class:u(["stepper__steps",`stepper__steps--${e.colors}`]),style:M(`width: calc(100% * ${e.currentStep-1} / ${e.steps.length-1})`)},null,6)])):A("",!0)])],2)}const ve=I(O,[["render",ne],["__scopeId","data-v-1eca07f6"]]);O.__docgenInfo={displayName:"Steps",exportName:"default",description:"",tags:{},props:[{name:"steps",type:{name:"Array<StepType>"},required:!0},{name:"color",values:["supernova","colissimo"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'supernova'"}},{name:"version",values:["small","large","responsive"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'responsive'"}},{name:"v-model",type:{name:"number"},required:!1},{name:"modelValue",type:{name:"number"},required:!1}],events:[{name:"change"},{name:"goToStep"},{name:"state"},{name:"update:modelValue"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/organisms/Stepper/Steps.vue"]};export{ve as S};

import{d as U,m as $,b as z,r as l,c as d,w as A,a as j,o as x,f as n,g as c,y as p,J as P,G as F,A as m,C as y,e as h,t as k,F as O,z as R,v as T,B as J,D as H,L as K}from"./vue.esm-bundler-CaiLyLZC.js";import{S as _}from"./Checkbox-Bn01JkVB.js";import{S as Q}from"./Message-BhgJ819g.js";import{f as W}from"./generateId-CVaf2GGW.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"checkbox-group"},Z=["role","aria-describedby","aria-labelledby","aria-invalid"],ee={class:"checkbox-nesting__labelParent"},ae={class:"checkbox-nesting__labelOption"},E=U({__name:"CheckboxGroup",props:$({aria:{},nesting:{type:Boolean},options:{},disabled:{type:Boolean},layout:{default:"vertical"},readonly:{type:Boolean},color:{default:"emphasis"},error:{type:Boolean},dataError:{},message:{}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const a=g,t=z(g,"modelValue"),i=l(!1),v=l(""),b=l(null),u=l(W("lp-checkbox-group-id--")),V=d(()=>{var e;return{"checkbox-group__child":a.layout==="vertical nested"||a.nesting,"checkbox-group__option--horizontal":a.layout==="horizontal"&&!a.nesting,"checkbox-group__option--vertical":a.layout==="vertical"&&!a.nesting,"checkbox-group__with-message":a.message||((e=a.dataError)==null?void 0:e.message)}});A(i,()=>{N()});const L=d(()=>{const e=a.options.optionsList.filter(s=>t.value.includes(s.id)).length;return e!=0&&e!==a.options.optionsList.length}),C=(e,s)=>a.error||a.dataError&&a.dataError.active&&!(e||s),q=()=>a.options.legend||a.options.groupName?v.value:void 0,B=()=>{var e;return(e=a.dataError)!=null&&e.active?!0:void 0},N=()=>{const e=a.options.optionsList.filter(r=>(r.disabled===!0||r.readonly===!0)&&!t.value.includes(r.id)).map(r=>r.id),s=a.options.optionsList.filter(r=>(r.disabled===!0||r.readonly===!0)&&t.value.includes(r.id)).map(r=>r.id);if(i.value)t.value=a.options.optionsList.filter(r=>!e.includes(r.id)).map(r=>r.id);else{const r=a.options.optionsList.filter(o=>!s.includes(o.id)).map(o=>o.id);t.value=a.options.optionsList.filter(o=>!r.includes(o.id)).map(o=>o.id)}},S=e=>{t.value.includes(e.id)?t.value=t.value.filter(s=>s!==e.id):t.value=[...t.value,e.id]},G=d(()=>{const e={},s=a.aria??{};return Object.keys(s).forEach(r=>e[`aria-${r}`]=s[r]),e}),M=d(()=>{var s,r;const e=[];return(s=a.aria)!=null&&s.describedby&&e.push(a.aria.describedby),(r=a.dataError)!=null&&r.active?e.push(`error-message--${u.value}`):a.message&&e.push(`message--${u.value}`),e.length>0?e.join(" "):void 0}),w=()=>a.options.legend?a.options.legend:a.options.groupName,f=()=>{const e=b.value;v.value=e&&e.id?e.id:"legend"},D=()=>{var e;return(e=a.dataError)!=null&&e.active||a.error?"group":void 0};return j(()=>{f()}),x(()=>{f()}),(e,s)=>{const r=K("generate-id");return n(),c("div",Y,[p("fieldset",H({class:["checkbox-group__wrapper",[{"checkbox-group--error":e.error||e.dataError&&e.dataError.active}]],role:D()},G.value,{"aria-describedby":M.value,"aria-labelledby":q(),"aria-invalid":B()}),[e.options.legend||e.options.groupName?P((n(),c("legend",{key:0,ref_key:"legend",ref:b,class:"checkbox-group__name"},[F(m(w()),1)])),[[r,"legend--"]]):y("",!0),e.options.parent&&(e.layout==="vertical nested"||e.nesting)?(n(),h(_,{key:1,id:e.options.parent.id,modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),name:e.options.parent.name,color:e.color,disabled:e.disabled,readonly:e.readonly,"data-error":{active:e.dataError.active,message:""},indeterminate:L.value,aria:e.options.parent.aria,class:"checkbox-group__parent"},{default:k(()=>[p("span",ee,m(e.options.parent.value),1)]),_:1},8,["id","modelValue","name","color","disabled","readonly","data-error","indeterminate","aria"])):y("",!0),(n(!0),c(O,null,R(e.options.optionsList,(o,I)=>(n(),h(_,{key:`${o.id}-${I}`,id:o.id,"model-value":t.value.includes(o.id),name:o.name,color:e.color,disabled:e.disabled||o.disabled,readonly:e.readonly||o.readonly,error:C(e.disabled||o.disabled,o.readonly),"data-error":{active:e.dataError.active,message:""},class:T(["checkbox-group__option",V.value]),aria:o.aria,"onUpdate:modelValue":re=>S(o)},{default:k(()=>[p("span",ae,m(o.id),1)]),_:2},1032,["id","model-value","name","color","disabled","readonly","error","data-error","class","aria","onUpdate:modelValue"]))),128)),J(Q,{id:u.value,message:e.message,"data-error":e.dataError},null,8,["id","message","data-error"])],16,Z)])}}}),le=X(E,[["__scopeId","data-v-83c33f07"]]);E.__docgenInfo={exportName:"default",displayName:"CheckboxGroup",description:"",tags:{},props:[{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"nesting",required:!1,type:{name:"boolean"}},{name:"options",required:!0,type:{name:"Group"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"layout",required:!1,type:{name:"union",elements:[{name:'"vertical"'},{name:'"vertical nested"'},{name:'"horizontal"'}]},defaultValue:{func:!1,value:"'vertical'"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"color",required:!1,type:{name:"union",elements:[{name:'"emphasis"'},{name:'"quiet"'},{name:'"default"'},{name:'"error"'},{name:'"vsmp"'}]},defaultValue:{func:!1,value:"'emphasis'"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"message",required:!1,type:{name:"string"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/Checkbox/Group/CheckboxGroup.vue"]};export{le as S};

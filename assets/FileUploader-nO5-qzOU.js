import{d as z,f as r,g as s,B as _,y as t,A as v,e as n,C as i,v as y,L as B,r as b,F as j,z as D,t as F,H as k,J as I,I as U}from"./vue.esm-bundler-BiAlgFmf.js";import{S as C}from"./Button-CxIFeNFW.js";import{S as f}from"./Icon-C-Sturzh.js";import{S as T}from"./Loader-DHIAU4Qg.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as V}from"./Notification-D_XdS5r2.js";const x={class:"attachment__text"},q=z({__name:"Attachment",props:{file:{}},emits:["removeFile"],setup(N){return(a,p)=>(r(),s("div",{class:y(["attachment",{"attachment--isFinishing":a.file.progress===100}]),style:B({"--left":`${a.file.progress}%`})},[_(f,{name:"editing-paperclip",class:"attachment__icon"}),t("div",x,v(a.file.name),1),a.file.progress<100?(r(),n(T,{key:0,class:"attachment__loader",color:"cobalt"})):i("",!0),a.file.progress===100&&!a.file.loaded?(r(),n(f,{key:1,name:"action-check",type:"light",class:"attachment__success"})):i("",!0),a.file.loaded?(r(),n(f,{key:2,role:"button",tabindex:"0","aria-label":`Supprimer la pièce jointe ${a.file.name}`,name:"action-close",type:"light",class:"attachment__closer",onClick:p[0]||(p[0]=d=>a.$emit("removeFile"))},null,8,["aria-label"])):i("",!0)],6))}}),L=S(q,[["__scopeId","data-v-c9d2a27c"]]);q.__docgenInfo={exportName:"default",displayName:"Attachment",description:"",tags:{},props:[{name:"file",required:!0,type:{name:"FileUploaderType"}}],events:[{name:"removeFile"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/FileUploader/Attachment/Attachment.vue"]};const K={class:"fileUploader"},P={class:"filelist"},R=["id","name","accept"],H=["for"],J={key:0,class:"fileUploader__dropzone__subtitle"},M={class:"fileUploader__dropzone__action"},E=z({__name:"FileUploader",props:{digiposte:{type:Boolean},error:{type:Boolean},extension:{},filelist:{},id:{},label:{default:"Parcourir"},subtitle:{},name:{},textError:{},titleError:{},buttonColor:{default:"supernova"},buttonType:{default:"primary"}},emits:["digiposteClick","addFile","removeFile"],setup(N,{expose:a,emit:p}){const d=p,m=b(null),u=b(!1),c=()=>{m.value.click()},g=()=>{var o;const e=(o=m.value)==null?void 0:o.files;d("addFile",e)},$=e=>{m.value.files=e.dataTransfer.files,g(),u.value=!1},w=()=>{d("digiposteClick")},A=e=>{d("removeFile",e)};return a({openFileExplorer:c}),(e,o)=>{var h;return r(),s("div",K,[e.error?(r(),n(V,{key:0,id:"1",color:"error",type:"inline",title:e.titleError,text:e.textError,class:"fileUploader__error"},null,8,["title","text"])):i("",!0),t("div",P,[(r(!0),s(j,null,D(e.filelist,l=>(r(),s("div",{key:l.id},[_(L,{file:l,onRemoveFile:G=>A(l)},null,8,["file","onRemoveFile"])]))),128))]),t("input",{id:e.id,ref_key:"fileExplorer",ref:m,type:"file",name:e.name,accept:(h=e.extension)==null?void 0:h.join(","),multiple:"",class:"visually-hidden fileUploader__input",onChange:g},null,40,R),t("div",{class:y(["fileUploader__dropzone",{"fileUploader__dropzone--hightlight":u.value}]),onDrop:o[0]||(o[0]=U(l=>$(l),["prevent"])),onDragover:o[1]||(o[1]=U(l=>u.value=!0,["prevent"])),onDragleave:o[2]||(o[2]=l=>u.value=!1)},[t("div",{class:y(["fileUploader__dropzone__text",[e.subtitle&&"fileUploader__dropzone__text--bold"]])},[t("label",{for:e.id}," Déposez vos fichiers dans cette zone pour les ajouter ",8,H)],2),e.subtitle?(r(),s("div",J,v(e.subtitle),1)):i("",!0),t("div",M,[_(C,{icon:"editing-download",class:"fileUploader__dropzone__button",color:e.buttonColor,type:e.buttonType,onClick:c,onKeydown:I(c,["enter","space"])},{default:F(()=>[k(v(e.label),1)]),_:1},8,["color","type"]),e.digiposte?(r(),n(C,{key:0,class:"fileUploader__dropzone__digiposte",onClick:w},{default:F(()=>o[3]||(o[3]=[t("div",{class:"fileUploader__dropzone__logo"},null,-1),k(" Importer depuis Digiposte ")])),_:1})):i("",!0)])],34)])}}}),ee=S(E,[["__scopeId","data-v-1d29dc2c"]]);E.__docgenInfo={exportName:"default",displayName:"FileUploader",description:"",tags:{},expose:[{name:"openFileExplorer"}],props:[{name:"digiposte",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"extension",required:!1,type:{name:"Array",elements:[{name:"string"}]}},{name:"filelist",required:!0,type:{name:"Array",elements:[{name:"FileUploaderType"}]}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Parcourir'"}},{name:"subtitle",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"textError",required:!1,type:{name:"string"}},{name:"titleError",required:!1,type:{name:"string"}},{name:"buttonColor",required:!1,type:{name:"union",elements:[{name:'"supernova"'},{name:'"default"'},{name:'"cobalt"'},{name:'"brand-lpsb-blue"'},{name:'"darkgrey"'},{name:'"white"'},{name:'"danger"'}]},defaultValue:{func:!1,value:"'supernova'"}},{name:"buttonType",required:!1,type:{name:"union",elements:[{name:'"primary"'},{name:'"secondary"'},{name:'"ghost"'}]},defaultValue:{func:!1,value:"'primary'"}}],events:[{name:"digiposteClick"},{name:"addFile"},{name:"removeFile"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/FileUploader/FileUploader.vue"]};export{ee as S};

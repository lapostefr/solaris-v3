import{S as h}from"./Button-DIKv7yJx.js";import{b as w,c as S,f as k}from"./closeOnFocusOut-D0QTlgAv.js";import{a as q}from"./index-Lw3s2UWX.js";import{m as C,c as $,w as P,k as T,j as N,Z as z,W as f,o as n,B as _,G as c,D,a as y,p as E,n as u,t as i,v as V,C as g,E as l,b as j,T as F}from"./vue.esm-bundler-BV06ZB-3.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b=C({components:{SolarisButton:h},directives:{bodyNoScroll:w,closeOnFocusOut:S,focusTrap:k},model:{prop:"showPopover",event:"changed"},props:{cancelButton:{required:!1,type:String},content:{required:!1,type:String},direction:{required:!1,default:"Right Bottom",type:String},focusTrap:{required:!1,default:!1,type:Boolean},title:{required:!1,type:String},type:{required:!1,type:String},validateButton:{required:!1,type:String},showPopover:{required:!1,type:Boolean}},emits:["changed","cancel","validation"],setup(e,t){let r=!1;const s=$({get(){return e.showPopover},set(o){t.emit("changed",o)}}),p=o=>{o.key==="Escape"&&a()};P(s,o=>{typeof window>"u"||(o?document.addEventListener("keydown",p):document.removeEventListener("keydown",p))},{immediate:!0});const B=()=>{const o=e.direction||"Right Bottom";return`${o.substring(0,1).toLowerCase()}${o.substring(1)}`.replace(/\s+/g,"")},a=()=>{t.emit("changed",!1),r=!1},m=()=>{a(),t.emit("cancel")},v=()=>{s.value=!1,r=!1,t.emit("validation")},d=()=>{const o=q();s.value&&!r&&(r=!0,k.initFocus(o.value))};return T(()=>{d()}),N(()=>{d()}),{close:a,escapeClose:p,getDirection:B,cancel:m,validation:v,show:s}}}),I=["aria-modal","open"],L={id:"popover_title",class:"popover__title"},R={id:"popover_content",class:"popover__content"},M={class:"popover__actions"},U={key:1,class:"popover__container popover__content--random"};function G(e,t,r,s,p,B){const a=z("SolarisButton"),m=f("body-no-scroll"),v=f("focus-trap"),d=f("close-on-focus-out");return n(),_(F,{name:"popover"},{default:c(()=>[e.show?D((n(),y("div",{key:0,class:E(["popover",[`popover--${e.getDirection()}`]])},[u("div",{class:"popover__background",onClick:t[0]||(t[0]=o=>e.close())}),e.type!=="random"?(n(),y("dialog",{key:0,id:"popover_container",class:"popover__container popover__content--confirm","aria-labelledby":"popover_title","aria-describedby":"popover_content","aria-modal":e.show,open:e.show,role:"dialog"},[u("p",L,i(e.title),1),u("div",R,i(e.content),1),u("div",M,[V(a,{type:"secondary",size:"regular",color:"darkgrey",class:"popover__cancel",onClick:t[1]||(t[1]=o=>e.cancel())},{default:c(()=>[g(i(e.cancelButton),1)]),_:1}),e.type==="transactional"?(n(),_(a,{key:0,type:"primary",size:"regular",class:"popover__cancel",onClick:t[2]||(t[2]=o=>e.validation())},{default:c(()=>[g(i(e.validateButton),1)]),_:1})):l("",!0),e.type==="danger"?(n(),_(a,{key:1,type:"primary",size:"regular",color:"danger",class:"popover__cancel",onClick:t[3]||(t[3]=o=>e.validation())},{default:c(()=>[g(i(e.validateButton),1)]),_:1})):l("",!0)])],8,I)):l("",!0),e.type==="random"?(n(),y("div",U,[j(e.$slots,"default",{},void 0,!0)])):l("",!0)],2)),[[m,e.show],[v,e.focusTrap],[d,!0]]):l("",!0)]),_:3})}const W=O(b,[["render",G],["__scopeId","data-v-f40e4c03"]]);b.__docgenInfo={exportName:"default",displayName:"Popover",description:"",tags:{},props:[{name:"cancelButton",type:{name:"string"},required:!1},{name:"content",type:{name:"string"},required:!1},{name:"direction",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'Right Bottom'"}},{name:"focusTrap",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"title",type:{name:"string"},required:!1},{name:"type",type:{name:"string"},required:!1},{name:"validateButton",type:{name:"string"},required:!1},{name:"v-model",type:{name:"boolean"},required:!1}],events:[{name:"changed"},{name:"cancel"},{name:"validation"}],slots:[{name:"default"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/molecules/Popover/Popover.vue"]};const Q=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));export{W as S,Q as _};

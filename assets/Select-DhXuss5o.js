import{d as L,m as g,b as w,r as m,c as q,a as D,o as C,g as l,y as u,v as c,H as E,A as n,C as i,B as j,G as h,N as F,D as U,F as $,z as G,u as O,f as t}from"./vue.esm-bundler-BiAlgFmf.js";import{S as R}from"./Icon-C-Sturzh.js";import{L as H}from"./types-DKXD8uiR.js";import{g as T}from"./generateId-CVaf2GGW.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K=["for"],Q={key:0,class:"select__mandatory"},W=["id","disabled","name","aria-describedby","aria-invalid","aria-required"],X={value:null,disabled:""},Y=["value","disabled"],Z={key:1,class:"select__message"},_=L({__name:"Select",props:g({aria:{},dataError:{},disabled:{type:Boolean},error:{type:Boolean},icon:{default:"arrow-bottom"},id:{},inputRef:{default:"select"},label:{},labelPosition:{default:H.inside},mandatory:{type:Boolean},message:{},name:{},options:{},placeholder:{},readonly:{type:Boolean},size:{default:"default"},value:{}},{modelValue:{},modelModifiers:{}}),emits:g(["blur"],["update:modelValue"]),setup(p,{emit:S}){const r=p,V=S,d=w(p,"modelValue"),k=T,f=m(""),M=m(null),b=m(null),B=q(()=>r.options.find(e=>e.value===d.value)??null),z=q(()=>{const e={},a=r.aria??{};return Object.keys(a).forEach(s=>e[`aria-${s}`]=a[s]),e}),I=()=>{V("blur")},P=()=>{var e,a,s;return r.dataError&&((e=r.dataError)==null?void 0:e.active)&&((s=(a=r.dataError)==null?void 0:a.message)==null?void 0:s.length)},y=()=>{const e=b.value;f.value=e&&e.id?e.id:"error-message"},N=()=>{var e,a;return(e=r.dataError)!=null&&e.active&&((a=r.dataError)!=null&&a.message)?f.value:void 0},A=()=>{var e;return(e=r.dataError)!=null&&e.active?!0:void 0};return D(()=>{y()}),C(()=>{y()}),(e,a)=>{var s,v;return t(),l("div",{class:c(["select",[`select--${e.labelPosition}`,{"select--small":e.size=="small"||e.size=="compact","select--medium":e.size=="medium"||e.size=="default","select--filled":!!B.value,"select--placeholder":!!e.placeholder,"select--noLabel":!e.label,"select--error":e.error||e.dataError&&e.dataError.active}]])},[u("div",{class:c(["select__wrapper",[{"select--disabled":e.disabled,"select--readonly":e.readonly}]])},[e.label?(t(),l("label",{key:0,class:c(["select__label",[`select__label--${e.labelPosition}`,{"select__label--disabled":e.disabled,"select__label--readonly":e.readonly}]]),for:e.id},[E(n(e.label)+" ",1),e.label&&e.mandatory?(t(),l("span",Q,"*")):i("",!0)],10,K)):i("",!0),j(R,{class:"select__icon",name:e.icon},null,8,["name"]),h(u("select",U({id:e.id,ref_key:"select",ref:M,"onUpdate:modelValue":a[0]||(a[0]=o=>d.value=o),disabled:e.disabled,class:["select__element",[{"select__element--disabled":e.disabled,"select__element--readonly":e.readonly,"select__element--error":e.error||e.dataError&&e.dataError.active}]],name:e.name},z.value,{"aria-describedby":N(),"aria-invalid":A(),"aria-required":e.mandatory||void 0,onBlur:I}),[u("option",X,n(e.placeholder),1),(t(!0),l($,null,G(e.options,o=>(t(),l("option",{key:o.value,value:o.value,disabled:o.disabled},n(o.label),9,Y))),128))],16,W),[[F,d.value]])],2),P()?h((t(),l("p",{key:0,ref_key:"errorMessage",ref:b,class:"select__error-message","aria-live":"polite"},[E(n((s=e.dataError)==null?void 0:s.message),1)])),[[O(k),"select-error-message--"]]):i("",!0),e.message&&!((v=e.dataError)!=null&&v.active)?(t(),l("p",Z,n(e.message),1)):i("",!0)],2)}}}),le=J(_,[["__scopeId","data-v-231fff08"]]);_.__docgenInfo={exportName:"default",displayName:"Select",description:"",tags:{},props:[{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"icon",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'arrow-bottom'"}},{name:"id",required:!0,type:{name:"string"}},{name:"inputRef",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'select'"}},{name:"label",required:!1,type:{name:"string"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"LabelPosition.inside"}},{name:"mandatory",required:!1,type:{name:"boolean"}},{name:"message",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"SelectOptionItem"}]}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"small"'},{name:'"medium"'},{name:'"default"'},{name:'"compact"'}]},defaultValue:{func:!1,value:"'default'"}},{name:"value",required:!1,type:{name:"any"}}],events:[{name:"blur"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/Select/Select.vue"]};export{le as S};

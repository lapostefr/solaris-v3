import{d as _,m as v,b as B,r as M,c as t,f as N,g as k,y as n,A as D,v as d,J as I,M as j,D as A,B as C}from"./vue.esm-bundler-BQVOD3cV.js";import{S as P}from"./Message-COM7xYSp.js";import{f as Q}from"./generateId-CVaf2GGW.js";const $=["for"],w=["disabled"],x=["id","min","max","disabled","aria-describedby","aria-invalid"],S=["disabled"],U=_({__name:"NumberField",props:v({aria:{},dataError:{},disabled:{type:Boolean},error:{type:Boolean},id:{},label:{default:"Quantité"},labelPosition:{default:"visually-hidden"},max:{},message:{},min:{default:1},small:{type:Boolean},type:{default:"quiet"}},{modelValue:{},modelModifiers:{}}),emits:v(["input"],["update:modelValue"]),setup(m,{emit:p}){const l=m,s=p,a=B(m,"modelValue"),f=M(Q("lp-radio-id--")),c=t(()=>{const e={},r=l.aria??{};return Object.keys(r).forEach(i=>e[`aria-${i}`]=r[i]),e}),y=()=>{a.value<=l.min?(a.value=l.min,s("input",a.value)):(a.value>=l.max&&(a.value=l.max),s("input",a.value))},g=()=>{l.disabled||a.value===l.max||(a.value++,s("input",a.value+1))},F=()=>{l.disabled||a.value===l.min||(a.value--,s("input",a.value-1))},h=e=>["e","E","+","-","."].includes(e.key)?(e.preventDefault(),!1):!0,q=()=>{!a.value||a.value<l.min?a.value=l.min:a.value>l.max&&(a.value=l.max)},o=e=>{var i;return a.value===l.max&&!l.disabled?"Quantité max.":e==="message"?l.message:(i=l.dataError)==null?void 0:i.message},u=t(()=>l.id||f.value),E=t(()=>{var r,i,b;const e=[];return(r=l.aria)!=null&&r.describedby&&e.push(l.aria.describedby),(i=l.dataError)!=null&&i.active&&((b=l.dataError)!=null&&b.message)?e.push(`error-message--${u.value}`):l.message&&e.push(`message--${u.value}`),e.length>0?e.join(" "):void 0}),V=()=>{var e;return(e=l.dataError)!=null&&e.active?!0:void 0};return(e,r)=>(N(),k("div",{class:d(["numberField",[`numberField--${e.type}`,{"numberField--disabled":e.disabled},{"numberField--small":e.small},{"numberField--max":a.value===e.max}]])},[n("label",{class:d(["numberField__label numberField__label--outside",[{"numberField--disabled":e.disabled,"visually-hidden":e.labelPosition==="visually-hidden"}]]),for:e.id||void 0},D(e.label||"Quantité"),11,$),n("div",{class:d(["numberField__inner",[{"numberField--error":e.error||e.dataError&&e.dataError.active}]])},[n("button",{"aria-label":"Diminuer la quantité de un",class:d(["numberField__btn--less",{numberField__btn:!0,"numberField__btn--disabled":a.value<=e.min}]),disabled:a.value<=e.min||e.disabled,onClick:F}," - ",10,w),I(n("input",A({id:e.id||void 0,ref:"input","onUpdate:modelValue":r[0]||(r[0]=i=>a.value=i),class:"numberField__input",type:"number",min:e.min,max:e.max,disabled:e.disabled,maxlength:4},c.value,{"aria-describedby":E.value,"aria-invalid":V(),onKeydown:h,onInput:y,onBlur:q}),null,16,x),[[j,a.value]]),n("button",{"aria-label":"Augmenter la quantité de un",class:d(["numberField__btn--more",{numberField__btn:!0,"numberField__btn--disabled":a.value>=e.max}]),disabled:a.value===e.max||e.disabled,onClick:g}," + ",10,S)],2),C(P,{id:u.value,message:o("message"),"data-error":{...e.dataError,message:o("error")}},null,8,["id","message","data-error"])],2))}});U.__docgenInfo={exportName:"default",displayName:"NumberField",description:"",tags:{},props:[{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"id",required:!1,type:{name:"string"}},{name:"label",required:!0,type:{name:"string"},defaultValue:{func:!1,value:"'Quantité'"}},{name:"labelPosition",required:!1,type:{name:"union",elements:[{name:'"outside"'},{name:'"visually-hidden"'}]},defaultValue:{func:!1,value:"'visually-hidden'"}},{name:"max",required:!0,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"min",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"small",required:!1,type:{name:"boolean"}},{name:"type",required:!1,type:{name:"union",elements:[{name:'"emphasis"'},{name:'"default"'},{name:'"quiet"'},{name:'"ghost"'}]},defaultValue:{func:!1,value:"'quiet'"}}],events:[{name:"input"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/NumberField/NumberField.vue"]};export{U as _};

import{d as Q,m as P,b as W,r as q,c as y,f as c,g as p,y as b,B as H,F as S,z as X,C as _,v as Y,e as Z,t as ee,G as ne,A as w,U as ae}from"./vue.esm-bundler-BQVOD3cV.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te={key:0,role:"navigation",class:"lp-pagination","aria-label":"Pagination"},re={class:"lp-pagination__list"},ue={class:"lp-pagination__li lp-pagination__li--left"},se={key:0,class:"lp-pagination__li"},ie=["aria-label","data-number"],oe={class:"lp-pagination__li lp-pagination__li--right"},D=Q({__name:"Pagination",props:P({labelPrefix:{},pageParam:{default:"page"},perPage:{},total:{},url:{},withLinks:{type:Boolean},modelValue:{}},{modelValue:{},modelModifiers:{}}),emits:P(["input"],["update:modelValue"]),setup(T,{emit:V}){const g=T,A=V,r=W(T,"modelValue"),s=q(!1),o=q(!1),B=()=>g.withLinks&&g.url?g.url:void 0,M=e=>{n.value.endSequence.includes(e)?o.value=!o.value:s.value=!s.value},N=e=>Array.from({length:e},(u,a)=>({num:a+1,except:L(a+1),show:k(a+1),hidden:$(a+1),outOfDom:!z(a+1),undot:R(a+1)})),m=e=>{s.value=!1,o.value=!1,e>1&&e<10&&(s.value=!0),r.value=e,A("input",e)},k=e=>e===1||e===i.value||n.value.digitsInCurrentTen.includes(e)||n.value.startSequence.includes(e)||n.value.endSequence.includes(e)||e===n.value.nextTensInCurrentHundred[0],$=e=>n.value.previousTensInCurrentHundred.includes(e)||n.value.nextTensInCurrentHundred.includes(e)&&e!==n.value.nextTensInCurrentHundred[0]&&e!==i.value||n.value.previousHundreds.includes(e)||n.value.nextHundreds.includes(e)||n.value.middleDigits.includes(e)||n.value.fixedTensRange.includes(e),z=e=>k(e)||n.value.nextHundreds.includes(e)||n.value.nextTensInCurrentHundred.includes(e)||n.value.previousHundreds.includes(e)||n.value.previousTensInCurrentHundred.includes(e)||n.value.startSequence.includes(e)||n.value.endSequence.includes(e)||n.value.middleDigits.includes(e)||n.value.fixedTensRange.includes(e)||e===n.value.nextTensInCurrentHundred[0],L=e=>{const u=n.value.digitsInCurrentTen.filter(a=>!n.value.endSequence.includes(a));return!s.value&&r.value===1&&e>=4&&e<=8&&i.value===9||!s.value&&r.value===1&&e>=4&&(e<=10&&i.value>10||e<9&&i.value>9)||!o.value&&r.value===i.value&&u.includes(e)},E=e=>{const u=n.value.startSequence,a=u[u.length-1]+1,l=n.value.endSequence,v=l[l.length-1];r.value>1&&r.value<10&&(s.value=!0);const h=I.value.filter(C=>C.except);n.value.digitsInCurrentTen.includes(r.value)&&n.value.digitsInCurrentTen.includes(i.value)&&h.length===0&&(o.value=!0);const x=Math.floor(i.value/10)*10,f=n.value.nextTensInCurrentHundred[0]===x;return!s.value&&e===a&&i.value>8||!o.value&&e===v&&i.value>=31&&r.value!==1&&r.value!==i.value&&!f},R=e=>s.value&&n.value.previousTensInCurrentHundred.includes(e)||s.value&&n.value.previousHundreds.includes(e)||s.value&&n.value.middleDigits.includes(e)||s.value&&n.value.fixedTensRange.includes(e)||s.value&&n.value.nextTensInCurrentHundred.includes(e)&&r.value===1||s.value&&n.value.nextHundreds.includes(e)&&r.value===1||o.value&&n.value.nextTensInCurrentHundred.includes(e)||o.value&&n.value.nextHundreds.includes(e),i=y(()=>Math.ceil(g.total/g.perPage)),I=y(()=>N(i.value)),n=y(()=>{const u=i.value,a=r.value,l=Math.floor(a/100)*100,v=Array.from({length:10},(t,d)=>l+d*10).filter(t=>t>=1&&t<=u),h=v.filter(t=>t<a).filter(t=>!(a%10!==0&&t===Math.floor(a/10)*10)),x=v.filter(t=>t>a),f=[];for(let t=1-1%100;t<=u;t+=100)f.push(t);const C=f.filter(t=>t<l),F=f.filter(t=>t>l),j=Math.floor(a/10)*10,O=Array.from({length:10},(t,d)=>j+d).filter(t=>t>=1&&t<=u),U=a===1?[1,2,3]:[1],G=a===u?[u,u-1,u-2]:[u],J=a>=10&&a<=20?Array.from({length:8},(t,d)=>d+2):[],K=a>=100?Array.from({length:9},(t,d)=>(d+1)*10):[];return{currentHundred:l,digitsInCurrentTen:O,endSequence:G,fixedTensRange:K,middleDigits:J,nextHundreds:F,nextTensInCurrentHundred:x,number:a,previousHundreds:C,previousTensInCurrentHundred:h,startSequence:U}});return(e,u)=>{const a=ae("SolarisButton");return e.total?(c(),p("nav",te,[b("ul",re,[b("li",ue,[H(a,{icon:"arrow-large-left",size:"small",disabled:r.value===1,color:"white",type:"primary",aria:{label:"Page précédente"},rounded:!0,onClick:u[0]||(u[0]=l=>m(r.value-1))},null,8,["disabled"])]),(c(!0),p(S,null,X(I.value,l=>(c(),p(S,{key:l},[E(l.num)?(c(),p("li",se,[H(a,{icon:"settings-menu-action",size:"small",color:"white",type:"primary",aria:{label:"Voir plus de pages"},rounded:!0,onClick:v=>M(l.num)},null,8,["onClick"])])):_("",!0),l.outOfDom?_("",!0):(c(),p("li",{key:1,class:Y(["lp-pagination__li",[{"lp-pagination__li--show":l.show},{"lp-pagination__li--hidden":l.hidden},{"lp-pagination__li--except":l.except},{"lp-pagination__li--undot":l.undot},{"lp-pagination__li--current":r.value===l.num}]])},[r.value!==l.num?(c(),Z(a,{key:0,class:"lp-pagination__item","aria-label":`${e.labelPrefix} page ${l.num}}`,"data-number":l.num,size:"small",href:B(),color:"white",type:"primary",rounded:!0,onClick:v=>m(l.num)},{default:ee(()=>[ne(w(l.num),1)]),_:2},1032,["aria-label","data-number","href","onClick"])):_("",!0),r.value===l.num?(c(),p("span",{key:1,class:"lp-pagination__item--current","aria-label":`${e.labelPrefix} page ${l.num}`,"data-number":l.num,"aria-current":"page"},w(l.num),9,ie)):_("",!0)],2))],64))),128)),b("li",oe,[H(a,{icon:"arrow-large-right",size:"small",disabled:r.value===i.value,color:"white",type:"primary",aria:{label:"Page suivante"},rounded:!0,onClick:u[1]||(u[1]=l=>m(r.value+1))},null,8,["disabled"])])])])):_("",!0)}}}),ve=le(D,[["__scopeId","data-v-f3639675"]]);D.__docgenInfo={exportName:"default",displayName:"Pagination",description:"",tags:{},props:[{name:"labelPrefix",required:!1,type:{name:"string"}},{name:"pageParam",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'page'"}},{name:"perPage",required:!0,type:{name:"number"}},{name:"total",required:!0,type:{name:"number"}},{name:"url",required:!1,type:{name:"string"}},{name:"withLinks",required:!1,type:{name:"boolean"}},{name:"modelValue",required:!0,type:{name:"number"}}],events:[{name:"input"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/molecules/Pagination/Pagination.vue"]};export{ve as S};

import{S as w}from"./Button-CxIFeNFW.js";import{b as q,c as S,f as h}from"./closeOnFocusOut-D0QTlgAv.js";import{u as b}from"./index-a4aneQim.js";import{d as C,c as $,w as N,o as P,a as T,U as V,V as f,f as n,e as y,t as c,G as z,g as _,v as D,y as u,A as i,B as E,H as g,C as l,h as F,T as I}from"./vue.esm-bundler-BiAlgFmf.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k=C({components:{SolarisButton:w},directives:{bodyNoScroll:q,closeOnFocusOut:S,focusTrap:h},model:{prop:"showPopover",event:"changed"},props:{cancelButton:{required:!1,type:String},content:{required:!1,type:String},direction:{required:!1,default:"Right Bottom",type:String},focusTrap:{required:!1,default:!1,type:Boolean},title:{required:!1,type:String},type:{required:!1,type:String},validateButton:{required:!1,type:String},showPopover:{required:!1,type:Boolean}},emits:["changed","cancel","validation"],setup(e,t){let r=!1;const s=$({get(){return e.showPopover},set(o){t.emit("changed",o)}}),d=o=>{o.key==="Escape"&&a()};N(s,o=>{typeof window>"u"||(o?document.addEventListener("keydown",d):document.removeEventListener("keydown",d))},{immediate:!0});const B=()=>{const o=e.direction||"Right Bottom";return`${o.substring(0,1).toLowerCase()}${o.substring(1)}`.replace(/\s+/g,"")},a=()=>{t.emit("changed",!1),r=!1},m=()=>{a(),t.emit("cancel")},v=()=>{s.value=!1,r=!1,t.emit("validation")},p=()=>{const o=b();s.value&&!r&&(r=!0,h.initFocus(o.value))};return P(()=>{p()}),T(()=>{p()}),{close:a,escapeClose:d,getDirection:B,cancel:m,validation:v,show:s}}}),R=["aria-modal","open"],U={id:"popover_title",class:"popover__title"},j={id:"popover_content",class:"popover__content"},O={class:"popover__actions"},A={key:1,class:"popover__container popover__content--random"};function G(e,t,r,s,d,B){const a=V("SolarisButton"),m=f("body-no-scroll"),v=f("focus-trap"),p=f("close-on-focus-out");return n(),y(I,{name:"popover"},{default:c(()=>[e.show?z((n(),_("div",{key:0,class:D(["popover",[`popover--${e.getDirection()}`]])},[u("div",{class:"popover__background",onClick:t[0]||(t[0]=o=>e.close())}),e.type!=="random"?(n(),_("dialog",{key:0,id:"popover_container",class:"popover__container popover__content--confirm","aria-labelledby":"popover_title","aria-describedby":"popover_content","aria-modal":e.show,open:e.show,role:"dialog"},[u("p",U,i(e.title),1),u("div",j,i(e.content),1),u("div",O,[E(a,{type:"secondary",size:"regular",color:"darkgrey",class:"popover__cancel",onClick:t[1]||(t[1]=o=>e.cancel())},{default:c(()=>[g(i(e.cancelButton),1)]),_:1}),e.type==="transactional"?(n(),y(a,{key:0,type:"primary",size:"regular",class:"popover__cancel",onClick:t[2]||(t[2]=o=>e.validation())},{default:c(()=>[g(i(e.validateButton),1)]),_:1})):l("",!0),e.type==="danger"?(n(),y(a,{key:1,type:"primary",size:"regular",color:"danger",class:"popover__cancel",onClick:t[3]||(t[3]=o=>e.validation())},{default:c(()=>[g(i(e.validateButton),1)]),_:1})):l("",!0)])],8,R)):l("",!0),e.type==="random"?(n(),_("div",A,[F(e.$slots,"default",{},void 0,!0)])):l("",!0)],2)),[[m,e.show],[v,e.focusTrap],[p,!0]]):l("",!0)]),_:3})}const W=L(k,[["render",G],["__scopeId","data-v-ad58f7b6"]]);k.__docgenInfo={exportName:"default",displayName:"Popover",description:"",tags:{},props:[{name:"cancelButton",type:{name:"string"},required:!1},{name:"content",type:{name:"string"},required:!1},{name:"direction",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'Right Bottom'"}},{name:"focusTrap",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"false"}},{name:"title",type:{name:"string"},required:!1},{name:"type",type:{name:"string"},required:!1},{name:"validateButton",type:{name:"string"},required:!1},{name:"v-model",type:{name:"boolean"},required:!1}],events:[{name:"changed"},{name:"cancel"},{name:"validation"}],slots:[{name:"default"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/molecules/Popover/Popover.vue"]};export{W as S};

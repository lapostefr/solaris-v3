import{d as ve,$ as be,r as p,c as ee,l as ye,w as ae,b as C,A as m,v as h,E as le,o as r,G as E,e as g,H as I,y as L,F as te,B as f,f as _,t as de,x as ke,C as Ce,u as v,a1 as _e,P as Se,X as $e}from"./vue.esm-bundler-DbnnIJWB.js";import{S as we}from"./Button-jFHmCyiG.js";import{S as Te}from"./Icon-BFYv-dj3.js";import{S as Me,C as Ve,b as Be,a as se,I as Ee,L as Ie}from"./Card-WooC2oza.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";var b=(d=>(d.Clickable="Clickable",d.SelectableSingle="Selectable single",d.SelectableMultiple="Selectable multiple",d.Editable="Editable",d))(b||{}),re=(d=>(d.none="none",d.xs="xs",d.s="s",d.m="m",d.l="l",d.xl="xl",d))(re||{});const xe=["id","disabled","name","checked","aria-describedby","aria-controls","aria-expanded","onChange"],Fe=["id","disabled","value","name","aria-describedby","aria-controls","aria-expanded","onChange"],Ae={class:"lp-tile__footer"},qe={key:0,class:"lp-tile__custom"},Ne={key:0,class:"lp-tile__custom"},ie=ve({__name:"TileNew",props:{gridClass:{type:Boolean,default:!1},legend:{},nested:{type:Boolean,default:!1},options:{},radioDefaultValue:{default:""},setItemClass:{default:void 0},showMoreWhenSelected:{type:Boolean,default:!1},tileGap:{default:re.s},type:{default:b.Clickable}},emits:["cardClicked"],setup(d,{emit:ne}){const s=d,oe=ne,w=be(),y=p(s.radioDefaultValue),n=p(s.options),T=p(null),M=p(null),x=p(""),F=p(""),ce=()=>o()?"fieldset":"section",A=ee(()=>{var e;return((e=s.legend)==null?void 0:e.label)||"Légende à remplir pour l'accessibilité"}),ue=e=>["h1","h2","h3","h4","h5","h6"].includes(e||""),me=e=>["heading-xxs","heading-xs","heading-s","heading-m","heading-l","visually-hidden"].includes(e||""),ge=()=>{if(o()){const e=[x.value];return w.tileLegendAdditional&&e.push(F.value),e.join(" ")}return null},q=e=>s.showMoreWhenSelected?`card-extra-id-${e.id}`:void 0,N=e=>{if(s.showMoreWhenSelected)return V(e)},D=e=>{const l=[];return e.card.subtitle&&l.push(`card-subtitle-id-${e.id}`),(e.card.bodyText||w.tileBody)&&l.push(`card-body-id-${e.id}`),(e.card.footerText||w.tileFooter)&&l.push(`card-footer-id-${e.id}`),l.length>0?l.join(" "):void 0},o=()=>c()==="checkbox"||c()==="radio",S=(e,l)=>{var t;return((t=e.card)==null?void 0:t.layout)===l},c=()=>{let e=null;return s.type===b.SelectableMultiple&&(e="checkbox"),s.type===b.SelectableSingle&&(e="radio"),e},fe=(e,l,t)=>{n.value[l].checked=!n.value[l].checked,oe("cardClicked",t)},O=(e,l)=>{let t=!1;return c()==="radio"&&(t=y.value===e.value),c()==="checkbox"&&(t=n.value[l].checked),t},V=e=>{var k;const l=((k=n.value[e].card)==null?void 0:k.expanded)||!1,t=n.value[e].value===y.value,$=n.value[e].checked;return s.showMoreWhenSelected&&(t||$)||l},pe=e=>{var t;if(!n.value[e].card)return;const l=(t=n.value[e].card)==null?void 0:t.expanded;n.value[e].card.expanded=!l},he=ee(()=>{const e=s.type===b.SelectableSingle||s.type===b.SelectableMultiple,l=s.showMoreWhenSelected&&c()==="radio";return{isAllInputs:e,isRadio:l}});return ye(()=>{var e;T.value&&(x.value=(e=T.value)==null?void 0:e.id),M.value&&(F.value=M.value.id),ae(()=>s.options,l=>{n.value=l}),ae(()=>s.radioDefaultValue,l=>{y.value=l})}),(e,l)=>{const t=$e("generate-id");return r(),C(le(ce()),{class:h(["lp-tile__wrapper",{"lp-tile__wrapper--selectable":o()}]),"aria-labelledby":ge()},{default:m(()=>{var $,B,k,W,z,R;return[o()?E((r(),g("legend",{key:0,ref_key:"legendRef",ref:T,class:h(["lp-tile__legend",{[`lp-tile__legend--${($=e.legend)==null?void 0:$.style}`]:me((B=e.legend)==null?void 0:B.style),"lp-tile__legend--brand":((k=e.legend)==null?void 0:k.color)==="brand","visually-hidden":((W=e.legend)==null?void 0:W.style)==="visually-hidden"}])},[ue((z=e.legend)==null?void 0:z.tag)?(r(),C(le((R=e.legend)==null?void 0:R.tag),{key:0,class:"lp-tile__tag"},{default:m(()=>[I(L(A.value),1)]),_:1})):(r(),g(te,{key:1},[I(L(A.value),1)],64))],2)),[[t,"legend--"]]):f("",!0),e.$slots.tileLegendAdditional?E((r(),g("div",{key:1,ref_key:"additional",ref:M,class:"lp-tile__additional"},[_(e.$slots,"tileLegendAdditional",{},void 0,!0)])),[[t,"additional--"]]):f("",!0),de("div",{class:h({"lp-grid":e.gridClass,[`lp-tile__content--${e.tileGap}`]:!e.gridClass})},[(r(!0),g(te,null,ke(n.value,(a,i)=>{var j,P,U,G,H,X,J,K,Q,Y;return r(),C(Me,Ce({key:a.id,ref_for:!0},a.card,{id:`${a.id}`,class:["lp-tile lp-tile--quiet",[{"lp-tile--checked":O(a,i)},{"lp-tile--disabled":a.disabled},`lp-tile--${c()} ${e.setItemClass}`]],"card-style":v(Ve).elevated,"background-color":a.disabled?"#F7F7F7":(j=a.card)==null?void 0:j.backgroundColor,color:a.disabled?"#717171":(P=a.card)==null?void 0:P.color,"container-tag":((U=a.card)==null?void 0:U.containerTag)||v(Be).article,"content-padding":((G=a.card)==null?void 0:G.contentPadding)||v(se).small,"footer-right":((H=a.card)==null?void 0:H.footerRight)||!0,expanded:V(i),"image-order":((X=a.card)==null?void 0:X.imageOrder)||v(Ee).imageOnTop,"image-padding":((J=a.card)==null?void 0:J.imagePadding)||v(se).small,"form-element":he.value,"header-content-to-bottom":((K=a.card)==null?void 0:K.headerContentToBottom)||!0,layout:((Q=a.card)==null?void 0:Q.layout)||v(Ie).horizontal,"show-images-on-mobile":((Y=a.card)==null?void 0:Y.showImagesOnMobile)||!1,onCardClicked:u=>e.$emit("cardClicked",a)}),_e({cardBeforeTitle:m(()=>[c()==="checkbox"?(r(),g("input",{key:0,id:`card-input-id-${a.id}`,type:"checkbox",class:h(["lp-tile__input",{"lp-tile__input--nested":e.nested}]),disabled:a.disabled,name:`card-name-${a.name}`,checked:a.checked,"aria-describedby":D(a),"aria-controls":q(a),"aria-expanded":N(i),onChange:u=>fe(u,i,a)},null,42,xe)):f("",!0),c()==="radio"?E((r(),g("input",{key:1,id:`card-input-id-${a.id}`,"onUpdate:modelValue":l[0]||(l[0]=u=>y.value=u),class:h(["lp-tile__input",{"lp-tile__input--nested":e.nested}]),disabled:a.disabled,value:a.value,name:`card-name-${a.name}`,type:"radio","aria-describedby":D(a),"aria-controls":q(a),"aria-expanded":N(i),onChange:u=>e.$emit("cardClicked",a)},null,42,Fe)),[[Se,y.value]]):f("",!0)]),cardExtra:m(()=>[_(e.$slots,"tileExtra",{index:i},void 0,!0)]),_:2},[e.$slots.tileBody?{name:"cardBody",fn:m(()=>[_(e.$slots,"tileBody",{index:i},void 0,!0),O(a,i)?(r(),C(Te,{key:0,class:h(["lp-tile__checked-icon",{"lp-tile__checked-icon--nested":e.nested}]),name:"action-check",title:"Option sélectionnée"},null,8,["class"])):f("",!0)]),key:"0"}:void 0,e.$slots.tileFooter||o()&&S(a,"vertical")?{name:"cardFooter",fn:m(()=>{var u,Z;return[de("div",Ae,[_(e.$slots,"tileFooter",{index:i},void 0,!0),o()&&S(a,"vertical")?(r(),g("span",qe)):f("",!0),a.toggleText?(r(),C(we,{key:1,class:"lp-tile__toggle-link",type:"ghost",icon:"arrow-bottom","icon-reverse":"","aria-label":`Voir plus : ${(Z=(u=a.card)==null?void 0:u.title)==null?void 0:Z.content}`,"aria-control":`card-extra-id-${a.id}`,"aria-expanded":V(i)?"true":"false",onClick:De=>pe(i)},{default:m(()=>[I(L(a.toggleText),1)]),_:2},1032,["aria-label","aria-control","aria-expanded","onClick"])):f("",!0)])]}),key:"1"}:void 0,e.$slots.tileMedias||o()&&S(a,"horizontal")?{name:"cardMedias",fn:m(()=>[_(e.$slots,"tileMedias",{index:i},void 0,!0),o()&&S(a,"horizontal")?(r(),g("span",Ne)):f("",!0)]),key:"2"}:void 0]),1040,["id","card-style","background-color","color","container-tag","content-padding","footer-right","expanded","image-order","image-padding","form-element","header-content-to-bottom","layout","show-images-on-mobile","class","onCardClicked"])}),128))],2)]}),_:3},8,["class","aria-labelledby"])}}}),Pe=Le(ie,[["__scopeId","data-v-007ac227"]]);ie.__docgenInfo={exportName:"default",displayName:"TileNew",description:"",tags:{},props:[{name:"gridClass",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"legend",required:!1,type:{name:"TileLegend"}},{name:"nested",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"TileOption"}]}},{name:"radioDefaultValue",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"setItemClass",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"showMoreWhenSelected",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"tileGap",required:!1,type:{name:"TileGap"},defaultValue:{func:!1,value:"TileGap.s"}},{name:"type",required:!1,type:{name:"ElementType"},defaultValue:{func:!1,value:"ElementType.Clickable"}}],events:[{name:"cardClicked"}],slots:[{name:"tileLegendAdditional"},{name:"tileBody",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileFooter",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileMedias",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileExtra",scoped:!0,bindings:[{name:"index",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/TileNew/TileNew.vue"]};export{b as E,Pe as S,re as T};

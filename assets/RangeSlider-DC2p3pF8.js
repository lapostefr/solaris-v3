import{d as k,m as D,b as j,r as A,c as m,f as x,g as M,y as u,A as f,C as K,J as V,N as q,v as b,M as U,I as S,H as w,D as z,B as F}from"./vue.esm-bundler-CaiLyLZC.js";import{S as H}from"./Message-BhgJ819g.js";import{f as J}from"./generateId-CVaf2GGW.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"range"},P=["aria-describedby","aria-invalid"],T={key:0,class:"range__label range__label--outside"},G=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow","aria-label"],Q=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow","aria-label"],W={class:"range__field range__field--min"},X=["step","value","title"],Y={class:"range__field--unit"},Z={class:"range__field range__field--max"},ee=["step","value","title"],ae={class:"range__field--unit"},E=k({__name:"RangeSlider",props:D({aria:{},color:{default:"default"},dataError:{},id:{},label:{},max:{},message:{},min:{},rangeValues:{},step:{},unit:{default:"€"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(c){const n=c,l=j(c,"modelValue"),C=A(J("lp-range-slider-id--")),_=()=>{var e,a,i,s;l.value={min:{label:((a=(e=l.value)==null?void 0:e.min)==null?void 0:a.label)||void 0,value:t.value||void 0},max:{label:((s=(i=l.value)==null?void 0:i.max)==null?void 0:s.label)||void 0,value:o.value||void 0}}},g=(e,a)=>{var d,v,r,h;const i=e.target,s=parseFloat(i.value);a==="min"?t.value=s:o.value=s,l.value={min:{label:((v=(d=l.value)==null?void 0:d.min)==null?void 0:v.label)||void 0,value:t.value||void 0},max:{label:((h=(r=l.value)==null?void 0:r.max)==null?void 0:h.label)||void 0,value:o.value||void 0}}},t=m({get:()=>{var e,a;if(l.value)return Math.floor((a=(e=l.value)==null?void 0:e.min)==null?void 0:a.value)},set:e=>{l.value&&(l.value.min.value=e),e||(e=n.min),e=Math.floor(e),l.value&&(e<n.min||e>n.max?l.value.min.value=n.min:(e>l.value.max.value&&(l.value.max.value=e),l.value.min.value=e))}}),o=m({get:()=>{if(l.value)return Math.floor(l.value.max.value)},set:e=>{var a;l.value&&(l.value.max.value=e),e||(e=n.max),e=Math.floor(e),l.value&&(e>n.max||e<n.min?l.value.max.value=n.max:(e<((a=l.value.min)==null?void 0:a.value)&&(l.value.min.value=e),l.value.max.value=e))}}),B=m(()=>{if(t.value)return(t.value-n.min)/((n.max-n.min)/100)}),I=m(()=>100-(o.value-n.min)/((n.max-n.min)/100)),y=m(()=>n.unit.length>=2),R=m(()=>{const e={},a=n.aria??{};return Object.keys(a).forEach(i=>e[`aria-${i}`]=a[i]),e}),p=m(()=>n.id||C.value),N=m(()=>{var a,i,s;const e=[];return(a=n.aria)!=null&&a.describedby&&e.push(n.aria.describedby),(i=n.dataError)!=null&&i.active&&((s=n.dataError)!=null&&s.message)?e.push(`error-message--${p.value}`):n.message&&e.push(`message--${p.value}`),e.length>0?e.join(" "):void 0}),$=()=>{var e;return(e=n.dataError)!=null&&e.active?!0:void 0};return(e,a)=>{var i,s,d,v;return x(),M("div",O,[u("fieldset",z({class:[[{"range--error":e.dataError&&e.dataError.active}],"range__content"]},R.value,{"aria-describedby":N.value,"aria-invalid":$()}),[e.label?(x(),M("legend",T,f(e.label),1)):K("",!0),V(u("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>t.value=r),type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--min",role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":t.value,"aria-label":((i=e.rangeValues)==null?void 0:i.min.label)||"Minimum",onChange:_},null,40,G),[[q,t.value]]),V(u("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>o.value=r),type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--max",role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":o.value,"aria-label":((s=e.rangeValues)==null?void 0:s.max.label)||"Maximum",onChange:_},null,40,Q),[[q,o.value]]),u("span",{class:b(["range__middle",`range__middle--${e.color}`]),style:U({left:`${B.value}%`,right:`${I.value}%`})},null,6),u("span",W,[u("input",{type:"number",step:e.step,class:b(["range__input",{"range__input--long-unit":y.value}]),value:t.value,title:((d=e.rangeValues)==null?void 0:d.min.label)||"Minimum",onBlur:a[2]||(a[2]=r=>g(r,"min")),onKeydown:a[3]||(a[3]=S(w(r=>g(r,"min"),["prevent"]),["enter"]))},null,42,X),u("span",Y,f(e.unit),1)]),u("span",Z,[u("input",{type:"number",step:e.step,class:b(["range__input",{"range__input--long-unit":y.value}]),value:o.value,title:((v=e.rangeValues)==null?void 0:v.max.label)||"Maximum",onBlur:a[4]||(a[4]=r=>g(r,"max")),onKeydown:a[5]||(a[5]=S(w(r=>g(r,"max"),["prevent"]),["enter"]))},null,42,ee),u("span",ae,f(e.unit),1)])],16,P),F(H,{id:p.value,message:e.message,"data-error":e.dataError},null,8,["id","message","data-error"])])}}}),se=L(E,[["__scopeId","data-v-3e6ff471"]]);E.__docgenInfo={exportName:"default",displayName:"RangeSlider",description:"",tags:{},props:[{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"color",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"emphasis"'},{name:'"quiet"'}]},defaultValue:{func:!1,value:"'default'"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"id",required:!1,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"}},{name:"max",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"min",required:!1,type:{name:"number"}},{name:"rangeValues",required:!1,type:{name:"Range"}},{name:"step",required:!1,type:{name:"number"}},{name:"unit",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'€'"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/RangeSlider/RangeSlider.vue"]};export{se as S};

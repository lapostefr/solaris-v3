import{m as $,r as l,c as E,j as R,k as H,o as n,a as i,n as p,D as C,u as L,C as V,t as d,E as u,B as q,G as B,F as J,q as K,p as G}from"./vue.esm-bundler-BV06ZB-3.js";import{S as I}from"./Checkbox-1Ng9DjFN.js";import{g as Q}from"./generateId-DPOzJEtM.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"checkbox-group"},Y=["role","aria-describedby","aria-labelledby","aria-invalid"],Z={class:"checkbox-nesting__labelParent"},ee={class:"checkbox-nesting__labelOption"},N=$({__name:"CheckboxGroup",props:{nesting:{type:Boolean},options:{},disabled:{type:Boolean},layout:{default:"vertical"},readonly:{type:Boolean},color:{default:"emphasis"},error:{type:Boolean},dataError:{}},emits:["input"],setup(M,{emit:S}){const o=M,j=S,m=Q,g=l(""),b=l(null),h=l(""),f=l(null),z=E(()=>({"checkbox-group__child":o.layout==="vertical nested"||o.nesting,"checkbox-group__option--horizontal":o.layout==="horizontal"&&!o.nesting,"checkbox-group__option--vertical":o.layout==="vertical"&&!o.nesting})),A=E(()=>{const e=o.options.optionsList.filter(r=>r.checked).length;return e!=0&&e!==o.options.optionsList.length}),D=(e,r)=>o.error||o.dataError&&o.dataError.active&&!(e||r),U=()=>{var e,r;return(e=o.dataError)!=null&&e.active&&((r=o.dataError)!=null&&r.message)?g.value:void 0},w=()=>o.options.legend||o.options.groupName?h.value:void 0,x=()=>{var e;return(e=o.dataError)!=null&&e.active?!0:null},y=()=>o.options.optionsList.forEach(e=>{e.checked=o.options.parent.checked}),k=(e,r)=>{const t=o.options.parent;t&&(o.layout==="vertical nested"||o.nesting)&&(r==="parent"?y():e?t.checked=!0:o.options.optionsList.every(a=>!a.checked)&&(t.checked=!1)),j("input",o.options.optionsList.filter(a=>a.checked),e)},s=o.options.parent;o.nesting&&s&&(s!=null&&s.checked&&y(),o.options.optionsList.some(e=>e.checked)&&(s.checked=!0));const v=()=>{const e=b.value;g.value=e&&e.id?e.id:"error-message"},F=()=>{var e,r,t;return o.dataError&&((e=o.dataError)==null?void 0:e.active)&&((t=(r=o.dataError)==null?void 0:r.message)==null?void 0:t.length)},O=()=>o.options.legend?o.options.legend:o.options.groupName,_=()=>{const e=f.value;h.value=e&&e.id?e.id:"legend"},T=()=>{var e;return(e=o.dataError)!=null&&e.active||o.error?"group":void 0};return R(()=>{v(),_()}),H(()=>{v(),_()}),(e,r)=>{var t;return n(),i("div",X,[p("fieldset",{class:G(["checkbox-group__wrapper",[{"checkbox-group--error":e.error||e.dataError&&e.dataError.active}]]),role:T(),"aria-describedby":U(),"aria-labelledby":w(),"aria-invalid":x()},[e.options.legend||e.options.groupName?C((n(),i("legend",{key:0,ref_key:"legend",ref:f,class:"checkbox-group__name"},[V(d(O()),1)])),[[L(m),"legend--"]]):u("",!0),e.options.parent&&(e.layout==="vertical nested"||e.nesting)?(n(),q(I,{key:1,id:e.options.parent.id,modelValue:e.options.parent.checked,"onUpdate:modelValue":r[0]||(r[0]=a=>e.options.parent.checked=a),name:e.options.parent.name,color:e.color,disabled:e.disabled,readonly:e.readonly,indeterminate:A.value,class:"checkbox-group__parent",onInput:r[1]||(r[1]=a=>k(a,"parent"))},{default:B(()=>[p("span",Z,d(e.options.parent.value),1)]),_:1},8,["id","modelValue","name","color","disabled","readonly","indeterminate"])):u("",!0),(n(!0),i(J,null,K(e.options.optionsList,(a,P)=>(n(),q(I,{key:`${a.id}-${P}`,id:a.id,modelValue:a.checked,"onUpdate:modelValue":c=>a.checked=c,name:a.name,color:e.color,disabled:e.disabled||a.disabled,readonly:e.readonly||a.readonly,error:D(e.disabled||a.disabled,a.readonly),class:G(["checkbox-group__option",z.value]),onInput:r[2]||(r[2]=c=>k(c,"option"))},{default:B(()=>[p("span",ee,d(a.value),1)]),_:2},1032,["id","modelValue","onUpdate:modelValue","name","color","disabled","readonly","error","class"]))),128)),F()?C((n(),i("p",{key:2,ref_key:"errorMessage",ref:b,class:"checkbox-group__error-message","aria-live":"polite"},[V(d((t=e.dataError)==null?void 0:t.message),1)])),[[L(m),"checkbox-group-error-message--"]]):u("",!0)],10,Y)])}}}),oe=W(N,[["__scopeId","data-v-d5647896"]]);N.__docgenInfo={exportName:"default",displayName:"CheckboxGroup",description:"",tags:{},props:[{name:"nesting",required:!1,type:{name:"boolean"}},{name:"options",required:!0,type:{name:"Group"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"layout",required:!1,type:{name:"union",elements:[{name:'"vertical"'},{name:'"vertical nested"'},{name:'"horizontal"'}]},defaultValue:{func:!1,value:"'vertical'"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"color",required:!1,type:{name:"union",elements:[{name:'"emphasis"'},{name:'"quiet"'},{name:'"default"'},{name:'"error"'},{name:'"vsmp"'}]},defaultValue:{func:!1,value:"'emphasis'"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"dataError",required:!1,type:{name:"DataErrorType"}}],events:[{name:"input"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/atoms/Checkbox/Group/CheckboxGroup.vue"]};const se=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{oe as S,se as _};

import{m as z,o as a,a as n,v as _,n as r,t as v,B as s,E as i,p as y,L as A,r as h,F as B,q as D,G as F,C as k,z as V,A as U}from"./vue.esm-bundler-BV06ZB-3.js";import{S}from"./Button-DIKv7yJx.js";import{S as f}from"./Icon-R0HSrbr6.js";import{S as I}from"./Loader-DKFivUin.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as x}from"./Notification-CbcKqTpT.js";const O={class:"attachment__text"},q=z({__name:"Attachment",props:{file:{}},emits:["removeFile"],setup(N){return(o,p)=>(a(),n("div",{class:y(["attachment",{"attachment--isFinishing":o.file.progress===100}]),style:A({"--left":`${o.file.progress}%`})},[_(f,{name:"editing-paperclip",class:"attachment__icon"}),r("div",O,v(o.file.name),1),o.file.progress<100?(a(),s(I,{key:0,class:"attachment__loader",color:"cobalt"})):i("",!0),o.file.progress===100&&!o.file.loaded?(a(),s(f,{key:1,name:"action-check",type:"light",class:"attachment__success"})):i("",!0),o.file.loaded?(a(),s(f,{key:2,role:"button",tabindex:"0","aria-label":`Supprimer la pièce jointe ${o.file.name}`,name:"action-close",type:"light",class:"attachment__closer",onClick:p[0]||(p[0]=d=>o.$emit("removeFile"))},null,8,["aria-label"])):i("",!0)],6))}}),E=C(q,[["__scopeId","data-v-423c4732"]]);q.__docgenInfo={exportName:"default",displayName:"Attachment",description:"",tags:{},props:[{name:"file",required:!0,type:{name:"FileUploaderType"}}],events:[{name:"removeFile"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/organisms/FileUploader/Attachment/Attachment.vue"]};const oe=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),P={class:"fileUploader"},L={class:"filelist"},M=["id","name","accept"],K=["for"],R={key:0,class:"fileUploader__dropzone__subtitle"},G={class:"fileUploader__dropzone__action"},j=z({__name:"FileUploader",props:{digiposte:{type:Boolean},error:{type:Boolean},extension:{},filelist:{},id:{},label:{default:"Parcourir"},subtitle:{},name:{},textError:{},titleError:{},buttonColor:{default:"supernova"},buttonType:{default:"primary"}},emits:["digiposteClick","addFile","removeFile"],setup(N,{expose:o,emit:p}){const d=p,m=h(null),u=h(!1),c=()=>{m.value.click()},g=()=>{var t;const e=(t=m.value)==null?void 0:t.files;d("addFile",e)},T=e=>{m.value.files=e.dataTransfer.files,g(),u.value=!1},$=()=>{d("digiposteClick")},w=e=>{d("removeFile",e)};return o({openFileExplorer:c}),(e,t)=>{var b;return a(),n("div",P,[e.error?(a(),s(x,{key:0,id:"1",color:"error",type:"inline",title:e.titleError,text:e.textError,class:"fileUploader__error"},null,8,["title","text"])):i("",!0),r("div",L,[(a(!0),n(B,null,D(e.filelist,l=>(a(),n("div",{key:l.id},[_(E,{file:l,onRemoveFile:J=>w(l)},null,8,["file","onRemoveFile"])]))),128))]),r("input",{id:e.id,ref_key:"fileExplorer",ref:m,type:"file",name:e.name,accept:(b=e.extension)==null?void 0:b.join(","),multiple:"",class:"visually-hidden fileUploader__input",onChange:g},null,40,M),r("div",{class:y(["fileUploader__dropzone",{"fileUploader__dropzone--hightlight":u.value}]),onDrop:t[0]||(t[0]=U(l=>T(l),["prevent"])),onDragover:t[1]||(t[1]=U(l=>u.value=!0,["prevent"])),onDragleave:t[2]||(t[2]=l=>u.value=!1)},[r("div",{class:y(["fileUploader__dropzone__text",[e.subtitle&&"fileUploader__dropzone__text--bold"]])},[r("label",{for:e.id}," Déposez vos fichiers dans cette zone pour les ajouter ",8,K)],2),e.subtitle?(a(),n("div",R,v(e.subtitle),1)):i("",!0),r("div",G,[_(S,{icon:"editing-download",class:"fileUploader__dropzone__button",color:e.buttonColor,type:e.buttonType,onClick:c,onKeydown:V(c,["enter","space"])},{default:F(()=>[k(v(e.label),1)]),_:1},8,["color","type"]),e.digiposte?(a(),s(S,{key:0,class:"fileUploader__dropzone__digiposte",onClick:$},{default:F(()=>t[3]||(t[3]=[r("div",{class:"fileUploader__dropzone__logo"},null,-1),k(" Importer depuis Digiposte ")])),_:1})):i("",!0)])],34)])}}}),H=C(j,[["__scopeId","data-v-0283e2bf"]]);j.__docgenInfo={exportName:"default",displayName:"FileUploader",description:"",tags:{},expose:[{name:"openFileExplorer"}],props:[{name:"digiposte",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"extension",required:!1,type:{name:"Array",elements:[{name:"string"}]}},{name:"filelist",required:!0,type:{name:"Array",elements:[{name:"FileUploaderType"}]}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Parcourir'"}},{name:"subtitle",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"textError",required:!1,type:{name:"string"}},{name:"titleError",required:!1,type:{name:"string"}},{name:"buttonColor",required:!1,type:{name:"union",elements:[{name:'"supernova"'},{name:'"default"'},{name:'"cobalt"'},{name:'"brand-lpsb-blue"'},{name:'"darkgrey"'},{name:'"white"'},{name:'"danger"'}]},defaultValue:{func:!1,value:"'supernova'"}},{name:"buttonType",required:!1,type:{name:"union",elements:[{name:'"primary"'},{name:'"secondary"'},{name:'"ghost"'}]},defaultValue:{func:!1,value:"'primary'"}}],events:[{name:"digiposteClick"},{name:"addFile"},{name:"removeFile"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/organisms/FileUploader/FileUploader.vue"]};const te=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"}));export{H as S,oe as _,te as a};

import{m as z,x as N,y as O,r as n,c as h,j as K,k as U,o as l,a as u,n as m,F as G,q as R,p as w,z as E,A as B,B as L,C as P,t as D,D as H,u as J,E as Q}from"./vue.esm-bundler-BV06ZB-3.js";import{S as W}from"./Icon-R0HSrbr6.js";import{g as X}from"./generateId-DPOzJEtM.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=["role","aria-describedby"],x=["for","aria-checked","tabindex","onKeydown","onClick"],ee=["id","value","checked","name","disabled"],ae={class:"buttonGroup__error-message-text"},I=z({__name:"ButtonGroup",props:N({dataError:{},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},id:{},name:{},options:{},readonly:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},small:{type:Boolean,default:!1},value:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const s=v,d=O(v,"modelValue"),q=X,c=n([]),b=n(null),y=n(""),t=n(0),p=n(0),f=n(-1),M=e=>{d.value=e.target.value},V=()=>{var e,o,a;return s.dataError&&((e=s.dataError)==null?void 0:e.active)&&((a=(o=s.dataError)==null?void 0:o.message)==null?void 0:a.length)},$=h(()=>{var e;return(e=s.dataError)!=null&&e.active||s.error?"radiogroup":void 0}),A=h(()=>{var e,o;return(e=s.dataError)!=null&&e.active&&((o=s.dataError)!=null&&o.message)?y.value:void 0}),g=e=>{e.target.click()},_=()=>{const e=b.value;y.value=e&&e.id?e.id:"error-message"},F=()=>{p.value=0},S=()=>{const e=s.options,o=e.findIndex(i=>!i.disabled),a=e[0].disabled;t.value===0&&a&&(t.value=o),c.value[`${s.id}-${t.value}`].focus()},C=e=>{const o=s.options.length;let a=(t.value+e+o)%o;for(;s.options[a].disabled;)a=(a+e+o)%o;t.value=a,c.value[`${s.id}-${a}`].click()},T=e=>{const a={ArrowRight:1,ArrowLeft:-1,ArrowUp:-1,ArrowDown:1}[e.key];a!==void 0?(C(a),(e.key==="ArrowUp"||e.key==="ArrowDown")&&e.preventDefault()):e.key==="Tab"&&(p.value=-1,f.value!==-1&&(t.value=f.value))},j=e=>{t.value=e,f.value=e};return K(()=>{_()}),U(()=>{_()}),(e,o)=>{var a;return l(),u("div",{class:w(["buttonGroup",[{"buttonGroup--error":e.error||e.dataError&&e.dataError.active,"buttonGroup--responsive":e.responsive},e.small?"buttonGroup--small":"buttonGroup--big"]])},[m("fieldset",{class:"buttonGroup__wrapper",role:$.value,"aria-describedby":A.value},[(l(!0),u(G,null,R(e.options,(r,i)=>(l(),u("label",{ref_for:!0,ref:k=>c.value[`${e.id}-${i}`]=k,key:r.value,class:w(["buttonGroup__section",[{"buttonGroup__section--active":d.value===r.value},{"buttonGroup--disabled":e.disabled||r.disabled}]]),for:`${e.id}-${r.value}`,role:"radio","aria-checked":d.value===r.value,tabindex:p.value,onFocusin:S,onFocusout:F,onKeydown:[T,E(B(g,["prevent"]),["space"]),E(B(g,["prevent"]),["enter"])],onClick:k=>j(i)},[m("input",{id:`${e.id}-${r.value}`,class:"buttonGroup__radio",value:r.value,checked:d.value===r.value,name:e.name,disabled:e.disabled||e.readonly||r.disabled,type:"radio",tabindex:"-1",onInput:M},null,40,ee),r.icon?(l(),L(W,{key:0,class:"icons__display",name:r.icon,size:e.small?"small":"big"},null,8,["name","size"])):(l(),u(G,{key:1},[P(D(r.label),1)],64))],42,x))),128))],8,Z),V()?H((l(),u("p",{key:0,ref_key:"errorMessage",ref:b,class:"buttonGroup__error-message","aria-live":"polite"},[m("span",ae,D((a=e.dataError)==null?void 0:a.message),1)])),[[J(q),"buttonGroup-error-message--"]]):Q("",!0)],2)}}}),oe=Y(I,[["__scopeId","data-v-73be823d"]]);I.__docgenInfo={exportName:"default",displayName:"ButtonGroup",description:"",tags:{},props:[{name:"dataError",required:!1,type:{name:"DataErrorType"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"error",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"id",required:!0,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"ButtonGroupItem"}]}},{name:"readonly",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"responsive",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"small",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"value",required:!1,type:{name:"string"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/atoms/ButtonGroup/ButtonGroup.vue"]};const le=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{oe as S,le as _};

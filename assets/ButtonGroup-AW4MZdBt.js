import{d as z,m as K,b as U,r as n,c as G,a as O,o as R,f as l,g as u,y as m,F as _,z as j,v as w,J as E,I as B,e as L,H,A as I,G as J,u as P,C as Q}from"./vue.esm-bundler-BiAlgFmf.js";import{S as W}from"./Icon-C-Sturzh.js";import{g as X}from"./generateId-CVaf2GGW.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z=["role","aria-describedby"],x=["for","aria-checked","tabindex","onKeydown","onClick"],ee=["id","value","checked","name","disabled"],ae={class:"buttonGroup__error-message-text"},D=z({__name:"ButtonGroup",props:K({dataError:{},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},id:{},name:{},options:{},readonly:{type:Boolean,default:!1},responsive:{type:Boolean,default:!0},small:{type:Boolean,default:!1},value:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const s=v,d=U(v,"modelValue"),V=X,c=n({}),b=n(null),y=n(""),t=n(0),p=n(0),f=n(-1),$=e=>{d.value=e.target.value},q=()=>{var e,r,o;return s.dataError&&((e=s.dataError)==null?void 0:e.active)&&((o=(r=s.dataError)==null?void 0:r.message)==null?void 0:o.length)},A=G(()=>{var e;return(e=s.dataError)!=null&&e.active||s.error?"radio":void 0}),M=G(()=>{var e,r;return(e=s.dataError)!=null&&e.active&&((r=s.dataError)!=null&&r.message)?y.value:void 0}),g=e=>{e.target.click()},k=()=>{const e=b.value;y.value=e&&e.id?e.id:"error-message"},F=()=>{p.value=0},C=()=>{const e=s.options,r=e.findIndex(i=>!i.disabled),o=e[0].disabled;t.value===0&&o&&(t.value=r);const a=c.value[`${s.id}-${t.value}`];a==null||a.focus()},S=e=>{var a;const r=s.options.length;let o=(t.value+e+r)%r;for(;s.options[o].disabled;)o=(o+e+r)%r;t.value=o,(a=c.value[`${s.id}-${o}`])==null||a.click()},T=e=>{const o={ArrowRight:1,ArrowLeft:-1,ArrowUp:-1,ArrowDown:1}[e.key];o!==void 0?(S(o),(e.key==="ArrowUp"||e.key==="ArrowDown")&&e.preventDefault()):e.key==="Tab"&&(p.value=-1,f.value!==-1&&(t.value=f.value))},N=e=>{t.value=e,f.value=e};return O(()=>{k()}),R(()=>{k()}),(e,r)=>{var o;return l(),u("div",{class:w(["buttonGroup",[{"buttonGroup--error":e.error||e.dataError&&e.dataError.active,"buttonGroup--responsive":e.responsive},e.small?"buttonGroup--small":"buttonGroup--big"]])},[m("fieldset",{class:"buttonGroup__wrapper",role:A.value,"aria-describedby":M.value},[(l(!0),u(_,null,j(e.options,(a,i)=>(l(),u("label",{ref_for:!0,ref:h=>c.value[`${e.id}-${i}`]=h,key:a.value,class:w(["buttonGroup__section",[{"buttonGroup__section--active":d.value===a.value},{"buttonGroup--disabled":e.disabled||a.disabled}]]),for:`${e.id}-${a.value}`,role:"radio","aria-checked":d.value===a.value,tabindex:p.value,onFocusin:C,onFocusout:F,onKeydown:[T,E(B(g,["prevent"]),["space"]),E(B(g,["prevent"]),["enter"])],onClick:h=>N(i)},[m("input",{id:`${e.id}-${a.value}`,class:"buttonGroup__radio",value:a.value,checked:d.value===a.value,name:e.name,disabled:e.disabled||e.readonly||a.disabled,type:"radio",tabindex:"-1",onInput:$},null,40,ee),a.icon?(l(),L(W,{key:0,class:"icons__display",name:a.icon,size:e.small?"small":"big"},null,8,["name","size"])):(l(),u(_,{key:1},[H(I(a.label),1)],64))],42,x))),128))],8,Z),q()?J((l(),u("p",{key:0,ref_key:"errorMessage",ref:b,class:"buttonGroup__error-message","aria-live":"polite"},[m("span",ae,I((o=e.dataError)==null?void 0:o.message),1)])),[[P(V),"buttonGroup-error-message--"]]):Q("",!0)],2)}}}),ne=Y(D,[["__scopeId","data-v-433f6fee"]]);D.__docgenInfo={exportName:"default",displayName:"ButtonGroup",description:"",tags:{},props:[{name:"dataError",required:!1,type:{name:"DataErrorType"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"error",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"id",required:!0,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"ButtonGroupItem"}]}},{name:"readonly",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"responsive",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"small",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"value",required:!1,type:{name:"string"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/ButtonGroup/ButtonGroup.vue"]};export{ne as S};

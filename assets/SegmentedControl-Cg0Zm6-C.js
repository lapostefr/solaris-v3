import{d as U,m as G,b as H,Z as J,r as u,c as v,o as Z,W as K,g as c,y as i,v as m,A as y,e as b,C as L,F as Q,z as X,B as Y,D as x,f as d,J as ee,O as ae,h as oe,t as le,G as te,u as h}from"./vue.esm-bundler-BQVOD3cV.js";import{S as re}from"./Badge-CNyb-hIR.js";import{S as se}from"./Icon-CNTEbVSX.js";import{S as ne}from"./Message-COM7xYSp.js";import{S as ie}from"./Shadow-T-9zCUlx.js";import{d as B}from"./types-BTVVhIqi.js";import{_ as de}from"./_plugin-vue_export-helper-DlAUqK2U.js";var E=(o=>(o.iconLeft="icon-left",o.iconRight="icon-right",o.iconTop="icon-top",o.iconOnly="icon-only",o))(E||{}),P=(o=>(o.outside="outside",o.visuallyHidden="visually-hidden",o))(P||{}),_=(o=>(o.primary="primary",o.neutral="neutral",o))(_||{}),z=(o=>(o.large="large",o.medium="medium",o.small="small",o))(z||{});const ue={class:"lp-segmented-control"},me=["role","aria-describedby","aria-labelledby","aria-invalid","aria-required"],ce=["id"],fe={class:"lp-segmented-control__head"},pe=["id","name","value","disabled","onChange"],ge=["for"],k=U({__name:"SegmentedControl",props:G({aria:{},componentStyle:{default:_.primary},iconPosition:{default:E.iconLeft},dataError:{},disabled:{type:Boolean,default:!1},fullContainer:{type:Boolean,default:!1},id:{},label:{default:"Sélectionnez une option"},labelPosition:{default:P.outside},mandatory:{type:Boolean},message:{},name:{},options:{},overflowScroll:{type:Boolean,default:!0},shadowBgColor:{},size:{default:z.medium}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const t=o,f=H(o,"modelValue"),N=J(),p=u([]),S=u([]),w=u(0),$=u(!1),C=u(!1),g=()=>{const e=p.value[`${t.id}_segmented-control`],l=e.offsetWidth,r=e.scrollLeft>0;$.value=r,C.value=e.scrollLeft<e.scrollWidth-e.clientWidth,w.value=l},R=v(()=>{var e;return(e=t.dataError)!=null&&e.active?"group":void 0}),I=v(()=>{const e={},l=t.aria??{};return Object.keys(l).forEach(r=>e[`aria-${r}`]=l[r]),e}),O=v(()=>{var l,r,a;const e=[];return(l=t.aria)!=null&&l.describedby&&e.push(t.aria.describedby),(r=t.dataError)!=null&&r.active&&((a=t.dataError)!=null&&a.message)?e.push(`error-message--${t.id}`):t.message&&e.push(`message--${t.id}`),e.length>0?e.join(" "):void 0}),q=e=>!!N[`customIcon-${e}`],W=(e,l)=>t.iconPosition&&!q(e)&&!l.badgeNumber?`lp-segmented-control__item--${t.iconPosition}`:"",M=e=>{A(e)},A=e=>{const l=p.value[`${t.id}_segmented-control`],r=S.value[e];if(!l||!r)return;const a=r.offsetLeft,s=a+r.offsetWidth,n=l.scrollLeft,V=l.clientWidth,T=a<n,F=s>n+V;T?l.scrollTo({left:a,behavior:"smooth"}):F&&l.scrollTo({left:s-V,behavior:"smooth"})},D=()=>{var e;return(e=t.dataError)!=null&&e.active?!0:null},j=()=>t.mandatory?t.mandatory:null;return Z(()=>{window.addEventListener("resize",g)}),K(()=>{window.removeEventListener("resize",g)}),(e,l)=>{var r;return d(),c("div",ue,[i("fieldset",x({class:"lp-segmented-control__container",role:R.value},I.value,{"aria-describedby":O.value,"aria-labelledby":`segmented-control-legend-${e.id}`,"aria-invalid":D(),"aria-required":j()}),[i("legend",{id:`segmented-control-legend-${e.id}`,class:m(["lp-segmented-control__label--outside",{"visually-hidden":e.labelPosition==="visually-hidden"},{"lp-segmented-control__label--mandatory":e.mandatory}])},y(e.label||"Sélectionnez une option"),11,ce),i("div",fe,[w.value&&e.overflowScroll?(d(),b(ie,{key:0,"scroll-left":$.value,"scroll-right":C.value,"bg-color":e.shadowBgColor},null,8,["scroll-left","scroll-right","bg-color"])):L("",!0),i("div",{ref:a=>p.value[`${e.id}_segmented-control`]=a,class:m(["lp-segmented-control__wrapper",`lp-segmented-control__wrapper--${e.size}`,`lp-segmented-control__wrapper--${e.componentStyle}`,{"lp-segmented-control__wrapper--full-container":e.fullContainer},{"lp-segmented-control__wrapper--icon-top":e.iconPosition==="icon-top"},{"lp-segmented-control__wrapper--scroll":e.overflowScroll},{"lp-segmented-control__wrapper--error":(r=e.dataError)==null?void 0:r.active},{"lp-segmented-control__wrapper--disabled":e.disabled}]),onScroll:g},[(d(!0),c(Q,null,X(e.options,(a,s)=>(d(),c("div",{key:`${e.id}-segmented-control-${a}-${s}`,ref_for:!0,ref:n=>S.value[`${e.id}_segmentedControl_${s}`]=n,class:m(["lp-segmented-control__item",W(s,a),{"lp-segmented-control__item--selected":f.value===a.value},{"lp-segmented-control__item--disabled":e.disabled||a.disabled},{"lp-segmented-control__item--with-label":e.iconPosition!=="icon-only"}])},[ee(i("input",{id:`${e.id}-${a.id}`,"onUpdate:modelValue":l[0]||(l[0]=n=>f.value=n),type:"radio",class:"lp-segmented-control__input",name:e.name,value:a.value,disabled:e.disabled||a.disabled,onChange:n=>M(s)},null,40,pe),[[ae,f.value]]),i("label",{for:`${e.id}-${a.id}`,class:"lp-segmented-control__text"},[i("span",{class:m({"visually-hidden":e.iconPosition==="icon-only"})},y(a.label),3)],8,ge),q(s)?(d(),c("span",{key:0,class:m(["lp-segmented-control__slot-content",{"lp-segmented-control__slot-content--disabled":e.disabled||a.disabled}])},[oe(e.$slots,`customIcon-${s}`,{},void 0,!0)],2)):a.badgeNumber?(d(),b(re,{key:1,class:"lp-segmented-control__badge","component-style":e.componentStyle===h(_).primary?h(B).brandPrimary:h(B).neutral,strong:!0},{default:le(()=>[te(y(a.badgeNumber),1)]),_:2},1032,["component-style"])):a.icon?(d(),b(se,{key:2,class:"lp-segmented-control__icon",name:a.icon,size:"small"},null,8,["name"])):L("",!0)],2))),128))],34)]),Y(ne,{id:e.id,message:e.message,"data-error":e.dataError},null,8,["id","message","data-error"])],16,me)])}}}),$e=de(k,[["__scopeId","data-v-aaf66348"]]);k.__docgenInfo={exportName:"default",displayName:"SegmentedControl",description:"",tags:{},props:[{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"componentStyle",required:!1,type:{name:"ComponentStyle"},defaultValue:{func:!1,value:"ComponentStyle.primary"}},{name:"iconPosition",required:!1,type:{name:"IconPosition"},defaultValue:{func:!1,value:"IconPosition.iconLeft"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"fullContainer",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Sélectionnez une option'"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"LabelPosition.outside"}},{name:"mandatory",required:!1,type:{name:"boolean"}},{name:"message",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"options",required:!1,type:{name:"Array",elements:[{name:"Option"}]}},{name:"overflowScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"shadowBgColor",required:!1,type:{name:"ShadowColors"}},{name:"size",required:!1,type:{name:"Size"},defaultValue:{func:!1,value:"Size.medium"}}],slots:[{name:"`customIcon-${index}`",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/SegmentedControl/SegmentedControl.vue"]};export{_ as C,E as I,P as L,$e as S,z as a};

import{m as D,x as q,y as I,r as f,V as N,c as L,j as A,k as F,o as t,a as o,n as y,p as i,t as s,D as x,P as U,L as O,E as d,u as $,C as G}from"./vue.esm-bundler-BV06ZB-3.js";import{g as R}from"./generateId-DPOzJEtM.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H=["for"],J=["id","maxlength","readonly","disabled","autofocus","placeholder","aria-describedby","aria-invalid","aria-required","name","rows"],K={key:0,class:"textarea__description"},Q={key:2,class:"textarea__message"},X={key:3,class:"textarea__count"},M=D({__name:"Textarea",props:q({autofocus:{type:Boolean},dataError:{},description:{},disabled:{type:Boolean},error:{type:Boolean},id:{},label:{},labelPosition:{default:"inside"},mandatory:{type:Boolean},maxlength:{},message:{},name:{},placeholder:{},readonly:{type:Boolean},row:{},size:{default:"medium"}},{modelValue:{},modelModifiers:{}}),emits:q(["blur"],["update:modelValue"]),setup(b,{emit:k}){const r=b,P=k,l=I(b,"modelValue"),z=R,c=f(""),g=f(null),v=f(null),m=f(!1),_=N({width:"100%"}),B=()=>{m.value=!0},V=()=>{m.value=!1,P("blur")},S=()=>{const e=window.getComputedStyle(g.value),a=parseFloat(e==null?void 0:e.width);typeof a=="number"&&(_.width=`${a}px`)},T=L(()=>r.row&&r.row>0?r.row:r.size==="compact"?1:7),u=()=>l.value?l.value.length:0,p=()=>{var e,a,n;return r.dataError&&((e=r.dataError)==null?void 0:e.active)&&((n=(a=r.dataError)==null?void 0:a.message)==null?void 0:n.length)},h=()=>{const e=v.value;c.value=e&&e.id?e.id:"error-message"},j=()=>{var e,a;return(e=r.dataError)!=null&&e.active&&((a=r.dataError)!=null&&a.message)?c.value:void 0},w=()=>{var e;return!!((e=r.dataError)!=null&&e.active)};return A(()=>{h()}),F(()=>{h()}),(e,a)=>{var n,E;return t(),o("div",{class:i(["textarea",[`textarea--${e.labelPosition}`,{"textarea--small":e.size=="small"||e.size=="compact","textarea--medium":e.size=="medium"||e.size=="default","textarea--filled":!!l.value,"textarea--only":!e.placeholder&&!m.value&&!u()}]])},[y("div",{class:i(["textarea__wrapper",[{"textarea__wrapper--error":e.error||e.dataError&&e.dataError.active,"textarea__wrapper--readonly":e.readonly,"textarea__wrapper--placeholder":!!e.placeholder,"textarea__wrapper--focus":m.value,"textarea__wrapper--has-value":u(),"textarea__wrapper--disabled":e.disabled}]])},[y("label",{class:i(["textarea__label",{"textarea__label--inside":e.labelPosition==="inside","textarea__label--outside":e.labelPosition==="outside","textarea__label--mandatory":e.mandatory,"textarea__label--disabled":e.disabled,"textarea__label--readonly":e.readonly}]),for:e.id},s(e.label),11,H),x(y("textarea",{id:e.id,ref_key:"textarea",ref:g,"onUpdate:modelValue":a[0]||(a[0]=C=>l.value=C),maxlength:e.maxlength,readonly:e.readonly,disabled:e.disabled,autofocus:e.autofocus,placeholder:e.placeholder,"aria-describedby":j(),"aria-invalid":w()?w():null,"aria-required":e.mandatory||null,class:i(["textarea__element",[{"textarea__element--taken":u(),"textarea__element--inside":e.labelPosition==="inside","textarea__element--outside":e.labelPosition==="outside","textarea__element--disabled":e.disabled,"textarea__element--readonly":e.readonly,"textarea__element--error":e.error||e.dataError&&e.dataError.active}]]),name:e.name,rows:T.value,type:"text",onBlur:V,onFocus:B,onMousemove:S},null,42,J),[[U,l.value]]),e.description||p()||e.message||e.maxlength?(t(),o("div",{key:0,class:i(["textarea__bottom",[{"textarea__bottom--text":p()||e.description}]]),style:O(_)},[e.description&&!p()?(t(),o("p",K,s(e.description),1)):d("",!0),p()?x((t(),o("p",{key:1,ref_key:"errorMessage",ref:v,class:"textarea__error-message","aria-live":"polite"},[G(s((n=e.dataError)==null?void 0:n.message),1)])),[[$(z),"textarea-error-message--"]]):d("",!0),e.message&&!((E=e.dataError)!=null&&E.active)?(t(),o("p",Q,s(e.message),1)):d("",!0),e.maxlength?(t(),o("span",X,s(u())+"/"+s(e.maxlength),1)):d("",!0)],6)):d("",!0)],2)],2)}}}),Y=W(M,[["__scopeId","data-v-7f8bd19a"]]);M.__docgenInfo={exportName:"default",displayName:"Textarea",description:"",tags:{},props:[{name:"autofocus",required:!1,type:{name:"boolean"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"description",required:!1,type:{name:"string"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!0,type:{name:"string"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"'inside' as LabelPosition"}},{name:"mandatory",required:!1,type:{name:"boolean"}},{name:"maxlength",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"row",required:!1,type:{name:"number"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"compact"'},{name:'"small"'},{name:'"medium"'}]},defaultValue:{func:!1,value:"'medium'"}}],events:[{name:"blur"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/atoms/Textarea/Textarea.vue"]};const re=Object.freeze(Object.defineProperty({__proto__:null,default:Y},Symbol.toStringTag,{value:"Module"}));export{Y as S,re as _};

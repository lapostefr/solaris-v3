import{d as C,m as w,b as D,r as q,P as N,c as i,f as d,g as m,y as u,v as n,A as p,J as T,M as $,D as j,L,B as A,C as _}from"./vue.esm-bundler-BQVOD3cV.js";import{S as F}from"./Message-COM7xYSp.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U=["for"],J=["id","maxlength","readonly","disabled","autofocus","placeholder","aria-describedby","aria-invalid","aria-required","name","rows"],O={key:0,class:"textarea__count"},E=C({__name:"Textarea",props:w({aria:{},autofocus:{type:Boolean},dataError:{},description:{},disabled:{type:Boolean},error:{type:Boolean},id:{},label:{},labelPosition:{default:"inside"},mandatory:{type:Boolean},maxlength:{},message:{},name:{},placeholder:{},readonly:{type:Boolean},row:{},size:{default:"medium"}},{modelValue:{},modelModifiers:{}}),emits:w(["blur"],["update:modelValue"]),setup(b,{emit:x}){const a=b,B=x,o=D(b,"modelValue"),f=q(null),s=q(!1),y=N({width:"100%"}),P=i(()=>{const e={},r=a.aria??{};return Object.keys(r).forEach(t=>e[`aria-${t}`]=r[t]),e}),z=()=>{s.value=!0},M=()=>{s.value=!1,B("blur")},V=()=>{const e=window.getComputedStyle(f.value),r=parseFloat(e==null?void 0:e.width);typeof r=="number"&&(y.width=`${r}px`)},k=i(()=>a.row&&a.row>0?a.row:a.size==="compact"?1:7),l=()=>o.value?o.value.length:0,S=i(()=>{var r,t,v,g,h;const e=[];return(r=a.aria)!=null&&r.describedby&&e.push((v=(t=a.aria)==null?void 0:t.describedby)==null?void 0:v.trim()),(g=a.dataError)!=null&&g.active&&((h=a.dataError)!=null&&h.message)?e.push(`error-message--${a.id}`):a.message&&e.push(`message--${a.id}`),e.length>0?e.join(" "):void 0}),c=()=>{var e;return!!((e=a.dataError)!=null&&e.active)};return(e,r)=>(d(),m("div",{class:n(["textarea",[`textarea--${e.labelPosition}`,{"textarea--small":e.size=="small"||e.size=="compact","textarea--medium":e.size=="medium"||e.size=="default","textarea--filled":!!o.value,"textarea--only":!e.placeholder&&!s.value&&!l()}]])},[u("div",{class:n(["textarea__wrapper",[{"textarea__wrapper--error":e.error||e.dataError&&e.dataError.active,"textarea__wrapper--readonly":e.readonly,"textarea__wrapper--placeholder":!!e.placeholder,"textarea__wrapper--focus":s.value,"textarea__wrapper--has-value":l(),"textarea__wrapper--disabled":e.disabled}]])},[u("label",{class:n(["textarea__label",{"textarea__label--inside":e.labelPosition==="inside","textarea__label--outside":e.labelPosition==="outside","textarea__label--mandatory":e.mandatory,"textarea__label--disabled":e.disabled,"textarea__label--readonly":e.readonly}]),for:e.id},p(e.label),11,U),T(u("textarea",j({id:e.id,ref_key:"textarea",ref:f,"onUpdate:modelValue":r[0]||(r[0]=t=>o.value=t),maxlength:e.maxlength,readonly:e.readonly,disabled:e.disabled,autofocus:e.autofocus,placeholder:e.placeholder},P.value,{"aria-describedby":S.value,"aria-invalid":c()?c():void 0,"aria-required":e.mandatory||void 0,class:["textarea__element",[{"textarea__element--taken":l(),"textarea__element--inside":e.labelPosition==="inside","textarea__element--outside":e.labelPosition==="outside","textarea__element--disabled":e.disabled,"textarea__element--readonly":e.readonly,"textarea__element--error":e.error||e.dataError&&e.dataError.active}]],name:e.name,rows:k.value,type:"text",onBlur:M,onFocus:z,onMousemove:V}),null,16,J),[[$,o.value]]),e.dataError||e.message||e.maxlength?(d(),m("div",{key:0,class:n(["textarea__bottom",[{"textarea__bottom--text":e.dataError||e.message}]]),style:L(y)},[A(F,{id:e.id,message:e.message,"data-error":e.dataError},null,8,["id","message","data-error"]),e.maxlength?(d(),m("span",O,p(l())+"/"+p(e.maxlength),1)):_("",!0)],6)):_("",!0)],2)],2))}}),H=I(E,[["__scopeId","data-v-96791ba5"]]);E.__docgenInfo={exportName:"default",displayName:"Textarea",description:"",tags:{},props:[{name:"aria",required:!1,type:{name:`{
  [key: string]: string
}`}},{name:"autofocus",required:!1,type:{name:"boolean"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"description",required:!1,type:{name:"string"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!0,type:{name:"string"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"'inside' as LabelPosition"}},{name:"mandatory",required:!1,type:{name:"boolean"}},{name:"maxlength",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"row",required:!1,type:{name:"number"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"compact"'},{name:'"small"'},{name:'"medium"'}]},defaultValue:{func:!1,value:"'medium'"}}],events:[{name:"blur"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/Textarea/Textarea.vue"]};export{H as S};

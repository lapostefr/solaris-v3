import{d as Se,m as te,Z as _e,a as de,r as M,c as I,l as $e,b as k,A as g,v as b,E as se,o as s,G as A,e as m,H as L,y as F,F as re,B as f,f as C,t as ie,x as Me,C as we,u as p,a0 as xe,N as Te,V as Ve}from"./vue.esm-bundler-BIhSTzsT.js";import{S as Be}from"./Button-CGWBbttc.js";import{S as Ee}from"./Icon-DZ5u0r7n.js";import{S as Ie,C as Ae,b as Le,a as ne,I as Fe,L as Ne}from"./Card-TF8cwO8s.js";import{_ as qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";var v=(t=>(t.Clickable="Clickable",t.SelectableSingle="Selectable single",t.SelectableMultiple="Selectable multiple",t.Editable="Editable",t))(v||{}),oe=(t=>(t.none="none",t.xs="xs",t.s="s",t.m="m",t.l="l",t.xl="xl",t))(oe||{});const Oe=["id","disabled","name","checked","aria-describedby","aria-controls","aria-expanded","onChange"],Re=["id","disabled","value","name","aria-describedby","aria-controls","aria-expanded","onChange"],We={class:"lp-tile__footer"},ze={key:0,class:"lp-tile__custom"},De={key:0,class:"lp-tile__custom"},ce=Se({__name:"TileNew",props:te({gridClass:{type:Boolean,default:!1},legend:{},nested:{type:Boolean,default:!1},options:{},setItemClass:{default:void 0},showMoreWhenSelected:{type:Boolean,default:!1},tileGap:{default:oe.s},type:{default:v.Clickable}},{modelValue:{},modelModifiers:{},checkbox:{default:[]},checkboxModifiers:{}}),emits:te(["cardClicked","radioChanged","checkboxChanged"],["update:modelValue","update:checkbox"]),setup(t,{emit:ue}){const i=t,w=ue,x=_e(),S=de(t,"modelValue"),o=de(t,"checkbox"),T=M(null),V=M(null),N=M(""),q=M(""),ge=()=>c()?"fieldset":"section",O=I(()=>{var e;return((e=i.legend)==null?void 0:e.label)||"Légende à remplir pour l'accessibilité"}),n=I(()=>i.options),me=e=>["h1","h2","h3","h4","h5","h6"].includes(e||""),fe=e=>["heading-xxs","heading-xs","heading-s","heading-m","heading-l","visually-hidden"].includes(e||""),he=()=>{if(c()){const e=[N.value];return x.tileLegendAdditional&&e.push(q.value),e.join(" ")}return null},R=e=>i.showMoreWhenSelected?`card-extra-id-${e.id}`:void 0,W=e=>{if(i.showMoreWhenSelected)return B(e)},z=e=>{const l=[];return e.card.subtitle&&l.push(`card-subtitle-id-${e.id}`),(e.card.bodyText||x.tileBody)&&l.push(`card-body-id-${e.id}`),(e.card.footerText||x.tileFooter)&&l.push(`card-footer-id-${e.id}`),l.length>0?l.join(" "):void 0},c=()=>u()==="checkbox"||u()==="radio",_=(e,l)=>{var d;return((d=e.card)==null?void 0:d.layout)===l},u=()=>{let e=null;return i.type===v.SelectableMultiple&&(e="checkbox"),i.type===v.SelectableSingle&&(e="radio"),e},be=e=>{w("cardClicked",e)},pe=e=>{w("radioChanged",e)},ve=(e,l)=>{n.value[e].checked=!n.value[e].checked,ye(n.value[e].value),w("checkboxChanged",l)},ye=e=>{o.value&&Array.isArray(o.value)&&o.value.includes(e)?o.value=o.value.filter(l=>l!==e):o.value=[...o.value,e]},D=(e,l)=>{let d=!1;return u()==="radio"&&(d=S.value===e.value),u()==="checkbox"&&(d=n.value[l].checked),d},B=e=>{var y;const l=((y=n.value[e].card)==null?void 0:y.expanded)||!1,d=n.value[e].value===S.value,$=n.value[e].checked;return i.showMoreWhenSelected&&(d||$)||l},ke=e=>{var d;if(!n.value[e].card)return;const l=(d=n.value[e].card)==null?void 0:d.expanded;n.value[e].card.expanded=!l},Ce=I(()=>{const e=i.type===v.SelectableSingle||i.type===v.SelectableMultiple,l=i.showMoreWhenSelected&&u()==="radio";return{isAllInputs:e,isRadio:l}});return $e(()=>{var e;T.value&&(N.value=(e=T.value)==null?void 0:e.id),V.value&&(q.value=V.value.id)}),(e,l)=>{const d=Ve("generate-id");return s(),k(se(ge()),{class:b(["lp-tile__wrapper",{"lp-tile__wrapper--selectable":c()}]),"aria-labelledby":he()},{default:g(()=>{var $,E,y,j,P,U;return[c()?A((s(),m("legend",{key:0,ref_key:"legendRef",ref:T,class:b(["lp-tile__legend",{[`lp-tile__legend--${($=e.legend)==null?void 0:$.style}`]:fe((E=e.legend)==null?void 0:E.style),"lp-tile__legend--brand":((y=e.legend)==null?void 0:y.color)==="brand","visually-hidden":((j=e.legend)==null?void 0:j.style)==="visually-hidden"}])},[me((P=e.legend)==null?void 0:P.tag)?(s(),k(se((U=e.legend)==null?void 0:U.tag),{key:0,class:"lp-tile__tag"},{default:g(()=>[L(F(O.value),1)]),_:1})):(s(),m(re,{key:1},[L(F(O.value),1)],64))],2)),[[d,"legend--"]]):f("",!0),e.$slots.tileLegendAdditional?A((s(),m("div",{key:1,ref_key:"additional",ref:V,class:"lp-tile__additional"},[C(e.$slots,"tileLegendAdditional",{},void 0,!0)])),[[d,"additional--"]]):f("",!0),ie("div",{class:b({"lp-grid":e.gridClass,[`lp-tile__content--${e.tileGap}`]:!e.gridClass})},[(s(!0),m(re,null,Me(e.options,(a,r)=>{var G,H,Z,J,K,Q,X,Y,ee,ae;return s(),k(Ie,we({key:a.id,ref_for:!0},a.card,{id:`${a.id}`,class:["lp-tile lp-tile--quiet",[{"lp-tile--checked":D(a,r)},{"lp-tile--disabled":a.disabled},`lp-tile--${u()} ${e.setItemClass}`]],"card-style":p(Ae).elevated,"background-color":a.disabled?"#F7F7F7":(G=a.card)==null?void 0:G.backgroundColor,color:a.disabled?"#717171":(H=a.card)==null?void 0:H.color,"container-tag":((Z=a.card)==null?void 0:Z.containerTag)||p(Le).article,"content-padding":((J=a.card)==null?void 0:J.contentPadding)||p(ne).small,"footer-right":((K=a.card)==null?void 0:K.footerRight)||!0,expanded:B(r),"image-order":((Q=a.card)==null?void 0:Q.imageOrder)||p(Fe).imageOnTop,"image-padding":((X=a.card)==null?void 0:X.imagePadding)||p(ne).small,"form-element":Ce.value,"header-content-to-bottom":((Y=a.card)==null?void 0:Y.headerContentToBottom)||!0,layout:((ee=a.card)==null?void 0:ee.layout)||p(Ne).horizontal,"show-images-on-mobile":((ae=a.card)==null?void 0:ae.showImagesOnMobile)||!1,onCardClicked:h=>be(a)}),xe({cardBeforeTitle:g(()=>[u()==="checkbox"?(s(),m("input",{key:0,id:`card-input-id-${a.id}`,type:"checkbox",class:b(["lp-tile__input",{"lp-tile__input--nested":e.nested}]),disabled:a.disabled,name:`card-name-${a.name}`,checked:o.value.includes(a.value),"aria-describedby":z(a),"aria-controls":R(a),"aria-expanded":W(r),onChange:h=>ve(r,a)},null,42,Oe)):f("",!0),u()==="radio"?A((s(),m("input",{key:1,id:`card-input-id-${a.id}`,"onUpdate:modelValue":l[0]||(l[0]=h=>S.value=h),class:b(["lp-tile__input",{"lp-tile__input--nested":e.nested}]),disabled:a.disabled,value:a.value,name:`card-name-${a.name}`,type:"radio","aria-describedby":z(a),"aria-controls":R(a),"aria-expanded":W(r),onChange:h=>pe(a)},null,42,Re)),[[Te,S.value]]):f("",!0)]),cardExtra:g(()=>[C(e.$slots,"tileExtra",{index:r},void 0,!0)]),_:2},[e.$slots.tileBody?{name:"cardBody",fn:g(()=>[C(e.$slots,"tileBody",{index:r},void 0,!0),D(a,r)?(s(),k(Ee,{key:0,class:b(["lp-tile__checked-icon",{"lp-tile__checked-icon--nested":e.nested}]),name:"action-check",title:"Option sélectionnée"},null,8,["class"])):f("",!0)]),key:"0"}:void 0,e.$slots.tileFooter||c()&&_(a,"vertical")?{name:"cardFooter",fn:g(()=>{var h,le;return[ie("div",We,[C(e.$slots,"tileFooter",{index:r},void 0,!0),c()&&_(a,"vertical")?(s(),m("span",ze)):f("",!0),a.toggleText?(s(),k(Be,{key:1,class:"lp-tile__toggle-link",type:"ghost",icon:"arrow-bottom","icon-reverse":"","aria-label":`Voir plus : ${(le=(h=a.card)==null?void 0:h.title)==null?void 0:le.content}`,"aria-control":`card-extra-id-${a.id}`,"aria-expanded":B(r)?"true":"false",onClick:je=>ke(r)},{default:g(()=>[L(F(a.toggleText),1)]),_:2},1032,["aria-label","aria-control","aria-expanded","onClick"])):f("",!0)])]}),key:"1"}:void 0,e.$slots.tileMedias||c()&&_(a,"horizontal")?{name:"cardMedias",fn:g(()=>[C(e.$slots,"tileMedias",{index:r},void 0,!0),c()&&_(a,"horizontal")?(s(),m("span",De)):f("",!0)]),key:"2"}:void 0]),1040,["id","card-style","background-color","color","container-tag","content-padding","footer-right","expanded","image-order","image-padding","form-element","header-content-to-bottom","layout","show-images-on-mobile","class","onCardClicked"])}),128))],2)]}),_:3},8,["class","aria-labelledby"])}}}),Je=qe(ce,[["__scopeId","data-v-87bdf769"]]);ce.__docgenInfo={exportName:"default",displayName:"TileNew",description:"",tags:{},props:[{name:"gridClass",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"legend",required:!1,type:{name:"TileLegend"}},{name:"nested",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"TileOption"}]}},{name:"setItemClass",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"showMoreWhenSelected",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"tileGap",required:!1,type:{name:"TileGap"},defaultValue:{func:!1,value:"TileGap.s"}},{name:"type",required:!1,type:{name:"ElementType"},defaultValue:{func:!1,value:"ElementType.Clickable"}}],events:[{name:"cardClicked"},{name:"radioChanged"},{name:"checkboxChanged"}],slots:[{name:"tileLegendAdditional"},{name:"tileBody",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileFooter",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileMedias",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileExtra",scoped:!0,bindings:[{name:"index",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/TileNew/TileNew.vue"]};export{v as E,Je as S,oe as T};

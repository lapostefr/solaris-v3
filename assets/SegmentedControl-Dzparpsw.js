import{d as G,m as Z,b as J,Z as K,r as i,c as B,a as Q,o as X,W as Y,g as c,y as d,v as m,A as v,e as y,C as E,F as x,z as ee,B as oe,f as u,G as ae,O as le,h as te,t as re,H as ne,u as b}from"./vue.esm-bundler-BiAlgFmf.js";import{S as se}from"./Badge-D_m-TE_A.js";import{S as ie}from"./Icon-C-Sturzh.js";import{S as de}from"./Message-MlHtBEps.js";import{S as ue}from"./Shadow-ZXaEhb3j.js";import{d as P}from"./types-BTVVhIqi.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";var z=(o=>(o.iconLeft="icon-left",o.iconRight="icon-right",o.iconTop="icon-top",o.iconOnly="icon-only",o))(z||{}),k=(o=>(o.outside="outside",o.visuallyHidden="visually-hidden",o))(k||{}),h=(o=>(o.primary="primary",o.neutral="neutral",o))(h||{}),M=(o=>(o.large="large",o.medium="medium",o.small="small",o))(M||{});const ce={class:"lp-segmented-control"},fe=["role","aria-describedby","aria-labelledby","aria-invalid","aria-required"],pe=["id"],ge={class:"lp-segmented-control__head"},ve=["id","name","value","disabled","onChange"],ye=["for"],N=G({__name:"SegmentedControl",props:Z({componentStyle:{default:h.primary},iconPosition:{default:z.iconLeft},dataError:{},disabled:{type:Boolean,default:!1},fullContainer:{type:Boolean,default:!1},id:{},label:{default:"Sélectionnez une option"},labelPosition:{default:k.outside},mandatory:{type:Boolean},message:{},name:{},options:{},overflowScroll:{type:Boolean,default:!0},shadowBgColor:{},size:{default:M.medium}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(o){const t=o,f=J(o,"modelValue"),R=K(),I=i(null),_=i(""),p=i([]),S=i([]),w=i(0),C=i(!1),$=i(!1),g=()=>{const e=p.value[`${t.id}_segmented-control`],l=e.offsetWidth,n=e.scrollLeft>0;C.value=n,$.value=e.scrollLeft<e.scrollWidth-e.clientWidth,w.value=l},W=B(()=>{var e;return(e=t.dataError)!=null&&e.active?"group":void 0}),O=B(()=>{var e,l;return(e=t.dataError)!=null&&e.active&&((l=t.dataError)!=null&&l.message)?_.value:void 0}),q=e=>!!R[`customIcon-${e}`],A=(e,l)=>t.iconPosition&&!q(e)&&!l.badgeNumber?`lp-segmented-control__item--${t.iconPosition}`:"",T=e=>{D(e)},D=e=>{const l=p.value[`${t.id}_segmented-control`],n=S.value[e];if(!l||!n)return;const a=n.offsetLeft,r=a+n.offsetWidth,s=l.scrollLeft,L=l.clientWidth,j=a<s,H=r>s+L;j?l.scrollTo({left:a,behavior:"smooth"}):H&&l.scrollTo({left:r-L,behavior:"smooth"})},U=()=>{var e;return(e=t.dataError)!=null&&e.active?!0:null},F=()=>t.mandatory?t.mandatory:null,V=()=>{const e=I.value;_.value=e&&e.id?e.id:"error-message"};return Q(()=>{V()}),X(()=>{V(),window.addEventListener("resize",g)}),Y(()=>{window.removeEventListener("resize",g)}),(e,l)=>{var n;return u(),c("div",ce,[d("fieldset",{class:"lp-segmented-control__container",role:W.value,"aria-describedby":O.value,"aria-labelledby":`segmented-control-legend-${e.id}`,"aria-invalid":U(),"aria-required":F()},[d("legend",{id:`segmented-control-legend-${e.id}`,class:m(["lp-segmented-control__label--outside",{"visually-hidden":e.labelPosition==="visually-hidden"},{"lp-segmented-control__label--mandatory":e.mandatory}])},v(e.label||"Sélectionnez une option"),11,pe),d("div",ge,[w.value&&e.overflowScroll?(u(),y(ue,{key:0,"scroll-left":C.value,"scroll-right":$.value,"bg-color":e.shadowBgColor},null,8,["scroll-left","scroll-right","bg-color"])):E("",!0),d("div",{ref:a=>p.value[`${e.id}_segmented-control`]=a,class:m(["lp-segmented-control__wrapper",`lp-segmented-control__wrapper--${e.size}`,`lp-segmented-control__wrapper--${e.componentStyle}`,{"lp-segmented-control__wrapper--full-container":e.fullContainer},{"lp-segmented-control__wrapper--icon-top":e.iconPosition==="icon-top"},{"lp-segmented-control__wrapper--scroll":e.overflowScroll},{"lp-segmented-control__wrapper--error":(n=e.dataError)==null?void 0:n.active},{"lp-segmented-control__wrapper--disabled":e.disabled}]),onScroll:g},[(u(!0),c(x,null,ee(e.options,(a,r)=>(u(),c("div",{key:`${e.id}-segmented-control-${a}-${r}`,ref_for:!0,ref:s=>S.value[`${e.id}_segmentedControl_${r}`]=s,class:m(["lp-segmented-control__item",A(r,a),{"lp-segmented-control__item--selected":f.value===a.value},{"lp-segmented-control__item--disabled":e.disabled||a.disabled},{"lp-segmented-control__item--with-label":e.iconPosition!=="icon-only"}])},[ae(d("input",{id:`${e.id}-${a.id}`,"onUpdate:modelValue":l[0]||(l[0]=s=>f.value=s),type:"radio",class:"lp-segmented-control__input",name:e.name,value:a.value,disabled:e.disabled||a.disabled,onChange:s=>T(r)},null,40,ve),[[le,f.value]]),d("label",{for:`${e.id}-${a.id}`,class:"lp-segmented-control__text"},[d("span",{class:m({"visually-hidden":e.iconPosition==="icon-only"})},v(a.label),3)],8,ye),q(r)?(u(),c("span",{key:0,class:m(["lp-segmented-control__slot-content",{"lp-segmented-control__slot-content--disabled":e.disabled||a.disabled}])},[te(e.$slots,`customIcon-${r}`,{},void 0,!0)],2)):a.badgeNumber?(u(),y(se,{key:1,class:"lp-segmented-control__badge","component-style":e.componentStyle===b(h).primary?b(P).brandPrimary:b(P).neutral,strong:!0},{default:re(()=>[ne(v(a.badgeNumber),1)]),_:2},1032,["component-style"])):a.icon?(u(),y(ie,{key:2,class:"lp-segmented-control__icon",name:a.icon,size:"small"},null,8,["name"])):E("",!0)],2))),128))],34)]),oe(de,{id:e.id,message:e.message,"data-error":e.dataError},null,8,["id","message","data-error"])],8,fe)])}}}),qe=me(N,[["__scopeId","data-v-bcdbeb3c"]]);N.__docgenInfo={exportName:"default",displayName:"SegmentedControl",description:"",tags:{},props:[{name:"componentStyle",required:!1,type:{name:"ComponentStyle"},defaultValue:{func:!1,value:"ComponentStyle.primary"}},{name:"iconPosition",required:!1,type:{name:"IconPosition"},defaultValue:{func:!1,value:"IconPosition.iconLeft"}},{name:"dataError",required:!1,type:{name:"DataErrorType"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"fullContainer",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Sélectionnez une option'"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"LabelPosition.outside"}},{name:"mandatory",required:!1,type:{name:"boolean"}},{name:"message",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"options",required:!1,type:{name:"Array",elements:[{name:"Option"}]}},{name:"overflowScroll",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"shadowBgColor",required:!1,type:{name:"ShadowColors"}},{name:"size",required:!1,type:{name:"Size"},defaultValue:{func:!1,value:"Size.medium"}}],slots:[{name:"`customIcon-${index}`",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/SegmentedControl/SegmentedControl.vue"]};export{h as C,z as I,k as L,qe as S,M as a};

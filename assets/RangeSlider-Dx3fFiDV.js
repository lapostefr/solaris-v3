import{d as j,m as z,r as C,b as F,c as p,a as G,o as L,f as b,g as c,y as i,A as f,C as M,G as h,M as k,v as y,L as T,J as R,I,u as H,H as J}from"./vue.esm-bundler-BiAlgFmf.js";import{g as O}from"./generateId-CVaf2GGW.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"range"},W=["aria-describedby","aria-invalid"],X={key:0,class:"range__label range__label--outside"},Y=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow","aria-label"],Z=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow","aria-label"],ee={class:"range__field range__field--min"},ae=["step","value","title"],ne={class:"range__field--unit"},re={class:"range__field range__field--max"},le=["step","value","title"],se={class:"range__field--unit"},ie={key:1,class:"range__message"},B=j({__name:"RangeSlider",props:z({color:{default:"default"},dataError:{},id:{},label:{},max:{},message:{},min:{},rangeValues:{},step:{},unit:{default:"€"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(x){const r=x,V=C(""),E=C(null),N=O,n=F(x,"modelValue"),A=()=>{var e,a,s;return r.dataError&&((e=r.dataError)==null?void 0:e.active)&&((s=(a=r.dataError)==null?void 0:a.message)==null?void 0:s.length)},q=()=>{var e,a,s,o;n.value={min:{label:((a=(e=n.value)==null?void 0:e.min)==null?void 0:a.label)||void 0,value:t.value||void 0},max:{label:((o=(s=n.value)==null?void 0:s.max)==null?void 0:o.label)||void 0,value:u.value||void 0}}},_=(e,a)=>{var m,d,v,g;const s=e.target,o=parseFloat(s.value);a==="min"?t.value=o:u.value=o,n.value={min:{label:((d=(m=n.value)==null?void 0:m.min)==null?void 0:d.label)||void 0,value:t.value||void 0},max:{label:((g=(v=n.value)==null?void 0:v.max)==null?void 0:g.label)||void 0,value:u.value||void 0}}},t=p({get:()=>{var e,a;if(n.value)return Math.floor((a=(e=n.value)==null?void 0:e.min)==null?void 0:a.value)},set:e=>{n.value&&(n.value.min.value=e),e||(e=r.min),e=Math.floor(e),n.value&&(e<r.min||e>r.max?n.value.min.value=r.min:(e>n.value.max.value&&(n.value.max.value=e),n.value.min.value=e))}}),u=p({get:()=>{if(n.value)return Math.floor(n.value.max.value)},set:e=>{var a;n.value&&(n.value.max.value=e),e||(e=r.max),e=Math.floor(e),n.value&&(e>r.max||e<r.min?n.value.max.value=r.max:(e<((a=n.value.min)==null?void 0:a.value)&&(n.value.min.value=e),n.value.max.value=e))}}),D=p(()=>{if(t.value)return(t.value-r.min)/((r.max-r.min)/100)}),U=p(()=>100-(u.value-r.min)/((r.max-r.min)/100)),w=p(()=>r.unit.length>=2),S=()=>{const e=E.value;V.value=e&&e.id?e.id:"error-message"},K=()=>{var e;return(e=r.dataError)!=null&&e.active?!0:void 0},$=()=>{var e,a;return(e=r.dataError)!=null&&e.active&&((a=r.dataError)!=null&&a.message)?V.value:void 0};return G(()=>{S()}),L(()=>{S()}),(e,a)=>{var s,o,m,d,v,g;return b(),c("div",Q,[i("fieldset",{class:y([[{"range--error":e.dataError&&e.dataError.active}],"range__content"]),"aria-describedby":$(),"aria-invalid":K()},[e.label?(b(),c("legend",X,f(e.label),1)):M("",!0),h(i("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>t.value=l),type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--min",role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":t.value,"aria-label":((s=e.rangeValues)==null?void 0:s.min.label)||"Minimum",onChange:q},null,40,Y),[[k,t.value]]),h(i("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>u.value=l),type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--max",role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":u.value,"aria-label":((o=e.rangeValues)==null?void 0:o.max.label)||"Maximum",onChange:q},null,40,Z),[[k,u.value]]),i("span",{class:y(["range__middle",`range__middle--${e.color}`]),style:T({left:`${D.value}%`,right:`${U.value}%`})},null,6),i("span",ee,[i("input",{type:"number",step:e.step,class:y(["range__input",{"range__input--long-unit":w.value}]),value:t.value,title:((m=e.rangeValues)==null?void 0:m.min.label)||"Minimum",onBlur:a[2]||(a[2]=l=>_(l,"min")),onKeydown:a[3]||(a[3]=R(I(l=>_(l,"min"),["prevent"]),["enter"]))},null,42,ae),i("span",ne,f(e.unit),1)]),i("span",re,[i("input",{type:"number",step:e.step,class:y(["range__input",{"range__input--long-unit":w.value}]),value:u.value,title:((d=e.rangeValues)==null?void 0:d.max.label)||"Maximum",onBlur:a[4]||(a[4]=l=>_(l,"max")),onKeydown:a[5]||(a[5]=R(I(l=>_(l,"max"),["prevent"]),["enter"]))},null,42,le),i("span",se,f(e.unit),1)])],10,W),A()?h((b(),c("p",{key:0,ref_key:"errorMessage",ref:E,class:"range__error-message"},[J(f((v=e.dataError)==null?void 0:v.message),1)])),[[H(N),"range-error-message--"]]):M("",!0),e.message&&!((g=e.dataError)!=null&&g.active)?(b(),c("p",ie,f(e.message),1)):M("",!0)])}}}),me=P(B,[["__scopeId","data-v-c9216a11"]]);B.__docgenInfo={exportName:"default",displayName:"RangeSlider",description:"",tags:{},props:[{name:"color",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"emphasis"'},{name:'"quiet"'}]},defaultValue:{func:!1,value:"'default'"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"id",required:!1,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"}},{name:"max",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"min",required:!1,type:{name:"number"}},{name:"rangeValues",required:!1,type:{name:"Range"}},{name:"step",required:!1,type:{name:"number"}},{name:"unit",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'€'"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/RangeSlider/RangeSlider.vue"]};export{me as S};

import{d as N,m as E,b as A,r as f,P as D,c as L,a as F,o as U,f as t,g as o,y,v as i,A as s,G as x,M as j,L as G,C as d,u as $,H}from"./vue.esm-bundler-BiAlgFmf.js";import{g as R}from"./generateId-CVaf2GGW.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const J=["for"],K=["id","maxlength","readonly","disabled","autofocus","placeholder","aria-describedby","aria-invalid","aria-required","name","rows"],O={key:0,class:"textarea__description"},Q={key:2,class:"textarea__message"},X={key:3,class:"textarea__count"},M=N({__name:"Textarea",props:E({autofocus:{type:Boolean},dataError:{},description:{},disabled:{type:Boolean},error:{type:Boolean},id:{},label:{},labelPosition:{default:"inside"},mandatory:{type:Boolean},maxlength:{},message:{},name:{},placeholder:{},readonly:{type:Boolean},row:{},size:{default:"medium"}},{modelValue:{},modelModifiers:{}}),emits:E(["blur"],["update:modelValue"]),setup(b,{emit:k}){const r=b,B=k,l=A(b,"modelValue"),P=R,c=f(""),v=f(null),g=f(null),m=f(!1),h=D({width:"100%"}),z=()=>{m.value=!0},V=()=>{m.value=!1,B("blur")},S=()=>{const e=window.getComputedStyle(v.value),a=parseFloat(e==null?void 0:e.width);typeof a=="number"&&(h.width=`${a}px`)},T=L(()=>r.row&&r.row>0?r.row:r.size==="compact"?1:7),u=()=>l.value?l.value.length:0,p=()=>{var e,a,n;return r.dataError&&((e=r.dataError)==null?void 0:e.active)&&((n=(a=r.dataError)==null?void 0:a.message)==null?void 0:n.length)},_=()=>{const e=g.value;c.value=e&&e.id?e.id:"error-message"},C=()=>{var e,a;return(e=r.dataError)!=null&&e.active&&((a=r.dataError)!=null&&a.message)?c.value:void 0},w=()=>{var e;return!!((e=r.dataError)!=null&&e.active)};return F(()=>{_()}),U(()=>{_()}),(e,a)=>{var n,q;return t(),o("div",{class:i(["textarea",[`textarea--${e.labelPosition}`,{"textarea--small":e.size=="small"||e.size=="compact","textarea--medium":e.size=="medium"||e.size=="default","textarea--filled":!!l.value,"textarea--only":!e.placeholder&&!m.value&&!u()}]])},[y("div",{class:i(["textarea__wrapper",[{"textarea__wrapper--error":e.error||e.dataError&&e.dataError.active,"textarea__wrapper--readonly":e.readonly,"textarea__wrapper--placeholder":!!e.placeholder,"textarea__wrapper--focus":m.value,"textarea__wrapper--has-value":u(),"textarea__wrapper--disabled":e.disabled}]])},[y("label",{class:i(["textarea__label",{"textarea__label--inside":e.labelPosition==="inside","textarea__label--outside":e.labelPosition==="outside","textarea__label--mandatory":e.mandatory,"textarea__label--disabled":e.disabled,"textarea__label--readonly":e.readonly}]),for:e.id},s(e.label),11,J),x(y("textarea",{id:e.id,ref_key:"textarea",ref:v,"onUpdate:modelValue":a[0]||(a[0]=I=>l.value=I),maxlength:e.maxlength,readonly:e.readonly,disabled:e.disabled,autofocus:e.autofocus,placeholder:e.placeholder,"aria-describedby":C(),"aria-invalid":w()?w():void 0,"aria-required":e.mandatory||void 0,class:i(["textarea__element",[{"textarea__element--taken":u(),"textarea__element--inside":e.labelPosition==="inside","textarea__element--outside":e.labelPosition==="outside","textarea__element--disabled":e.disabled,"textarea__element--readonly":e.readonly,"textarea__element--error":e.error||e.dataError&&e.dataError.active}]]),name:e.name,rows:T.value,type:"text",onBlur:V,onFocus:z,onMousemove:S},null,42,K),[[j,l.value]]),e.description||p()||e.message||e.maxlength?(t(),o("div",{key:0,class:i(["textarea__bottom",[{"textarea__bottom--text":p()||e.description}]]),style:G(h)},[e.description&&!p()?(t(),o("p",O,s(e.description),1)):d("",!0),p()?x((t(),o("p",{key:1,ref_key:"errorMessage",ref:g,class:"textarea__error-message","aria-live":"polite"},[H(s((n=e.dataError)==null?void 0:n.message),1)])),[[$(P),"textarea-error-message--"]]):d("",!0),e.message&&!((q=e.dataError)!=null&&q.active)?(t(),o("p",Q,s(e.message),1)):d("",!0),e.maxlength?(t(),o("span",X,s(u())+"/"+s(e.maxlength),1)):d("",!0)],6)):d("",!0)],2)],2)}}}),ae=W(M,[["__scopeId","data-v-bc39b6f1"]]);M.__docgenInfo={exportName:"default",displayName:"Textarea",description:"",tags:{},props:[{name:"autofocus",required:!1,type:{name:"boolean"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"description",required:!1,type:{name:"string"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!0,type:{name:"string"}},{name:"labelPosition",required:!1,type:{name:"LabelPosition"},defaultValue:{func:!1,value:"'inside' as LabelPosition"}},{name:"mandatory",required:!1,type:{name:"boolean"}},{name:"maxlength",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"placeholder",required:!1,type:{name:"string"}},{name:"readonly",required:!1,type:{name:"boolean"}},{name:"row",required:!1,type:{name:"number"}},{name:"size",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"compact"'},{name:'"small"'},{name:'"medium"'}]},defaultValue:{func:!1,value:"'medium'"}}],events:[{name:"blur"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/Textarea/Textarea.vue"]};export{ae as S};

import{d as H,r as m,c as y,W as X,o as G,f,g as k,e as L,t as J,H as R,A as T,x as K,B as O,C as h,y as M,v as N,h as P,X as Q}from"./vue.esm-bundler-BiAlgFmf.js";import{S as Y}from"./Icon-C-Sturzh.js";import{S as z}from"./Button-CxIFeNFW.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ee=["aria-label"],te={key:0,class:"carousel__head"},le=["href"],E=H({__name:"Carousel",props:{controlColor:{default:"default"},isFullMobile:{type:Boolean},moreLabel:{},moreLink:{},quantityItemsVisible:{default:void 0},title:{},titleTag:{},type:{default:"multiple"},qtyItems:{}},setup($){Q(e=>({"0bc1bc5a":x.value}));const u=$,p=m(),s=m(),v=m(!1),c=m(!1),V=m(!1),_=m(!1),A=y(()=>{var e;return((e=s.value)==null?void 0:e.childElementCount)||0}),q=y(()=>{const e=u.controlColor;return["cobalt","nebula","supernova"].includes(e)?"default":e==="dark-grey"?"quiet":e==="white"?"onStrong":e||"default"}),j=e=>{const{scrollLeft:t,clientWidth:a,scrollWidth:l}=e.target;v.value=!1,c.value=!1,a+t>=l&&(c.value=!c.value),t===0&&(v.value=!v.value)},D=e=>Array.from(s.value.children).findIndex(t=>t.contains(e.target)),I=()=>(u.quantityItemsVisible&&u.quantityItemsVisible.desktop)??Math.floor(p.value.clientWidth/C()),U=e=>{var F;const t=e.target,a=D(e),l=C(),o=I(),r=(F=p.value)==null?void 0:F.getBoundingClientRect(),i=t.getBoundingClientRect(),g=i.right>=r.right,d=i.left<=r.left;let n=0;g?(n=(a-o+1)*l,b(n)):d&&(n=l*a,b(n)),a===A.value-1&&(c.value=!0)},x=y(()=>u.quantityItemsVisible&&u.quantityItemsVisible.desktop?`calc(${100/u.quantityItemsVisible.desktop}% - 16px)`:"auto"),C=()=>s.value&&s.value.children[0]?s.value.children[0].getBoundingClientRect().width:0,w=e=>{const{scrollLeft:t,clientWidth:a}=p.value,l=C(),o=Math.floor(t/l),r=I(),i=(t+a)%l>=l-24,g=t%l!==0;let d=0;if(g){const n=Math.ceil(t/l)*l,B=o*l;d=e===1?n:B}else if(i){const n=r+1;d=(o+e*n)*l}else d=(o+e*r)*l;b(d)},b=e=>{var t;(t=p.value)==null||t.scrollTo({left:e})},S=()=>{var o,r,i;const e=((o=s.value)==null?void 0:o.clientWidth)||0,t=((r=s.value)==null?void 0:r.scrollWidth)||0,a=((i=s.value)==null?void 0:i.scrollLeft)||0,l=t>e;V.value=l,_.value=l,c.value=a+e>=t},W=()=>{S()};return X(()=>{window.removeEventListener("resize",W)}),G(()=>{S(),v.value=!0,window.addEventListener("resize",W)}),(e,t)=>{var a;return f(),k("div",{class:"carousel",role:"region","aria-label":`carrousel ${e.title}`},[e.moreLink||e.title?(f(),k("div",te,[(f(),L(K(e.titleTag?e.titleTag:"p"),{class:"carousel__title"},{default:J(()=>[R(T(e.title),1)]),_:1})),e.moreLink&&e.moreLabel?(f(),k("a",{key:0,href:e.moreLink,class:"carousel__link"},[R(T(e.moreLabel)+" ",1),O(Y,{name:"arrow-right",size:"small"})],8,le)):h("",!0)])):h("",!0),M("div",{ref_key:"wrapper",ref:p,class:N(["carousel__wrapper",{"carousel__wrapper--simple":e.type==="simple"}]),onScroll:j},[_.value?(f(),L(z,{key:0,"aria-label":"Faire défiler vers la gauche",class:"carousel__control carousel__control--left",color:q.value,disabled:v.value,"aria-hidden":!0,icon:"arrow-left",size:"regular",onClick:t[0]||(t[0]=l=>w(-1))},null,8,["color","disabled"])):h("",!0),V.value?(f(),L(z,{key:1,"aria-label":"Faire défiler vers la droite",class:"carousel__control carousel__control--right",color:q.value,disabled:c.value,"aria-hidden":!0,icon:"arrow-right",onClick:t[1]||(t[1]=l=>w(1))},null,8,["color","disabled"])):h("",!0),M("div",{ref_key:"container",ref:s,role:"list",class:N(["carousel__container",{"carousel--multiple":e.type==="multiple","carousel--multiple-full":e.isFullMobile,"carousel--simple":e.type==="simple","carousel--custom-width":e.quantityItemsVisible&&((a=e.quantityItemsVisible)==null?void 0:a.desktop)}]),onFocusin:U},[P(e.$slots,"default",{},void 0,!0)],34)],34)],8,ee)}}}),ne=Z(E,[["__scopeId","data-v-07714cf2"]]);E.__docgenInfo={exportName:"default",displayName:"Carousel",description:"",tags:{},props:[{name:"controlColor",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'default'"}},{name:"isFullMobile",required:!1,type:{name:"boolean"}},{name:"moreLabel",required:!1,type:{name:"string"}},{name:"moreLink",required:!1,type:{name:"string"}},{name:"quantityItemsVisible",required:!1,type:{name:"{ desktop?: number }"},defaultValue:{func:!1,value:"undefined"}},{name:"title",required:!1,type:{name:"string"}},{name:"titleTag",required:!1,type:{name:"union",elements:[{name:'"h1"'},{name:'"h2"'},{name:'"h3"'},{name:'"h4"'},{name:'"h5"'},{name:'"h6"'},{name:'"h7"'}]}},{name:"type",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'multiple'"}},{name:"qtyItems",required:!1,type:{name:"number"}}],slots:[{name:"default"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/Carousel/Carousel.vue"]};export{ne as S};

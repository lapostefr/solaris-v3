import{d as K,m as $,r as w,a as j,c as m,k as z,l as F,o as v,e as p,t as s,y as d,B as _,G as c,Q as S,v as f,L as G,J as k,I as C,u as L,H as T}from"./vue.esm-bundler-BHwbD8xO.js";import{g as H}from"./generateId-DPOzJEtM.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"range"},O=["aria-describedby","aria-invalid"],P={key:0,class:"range__label range__label--outside"},W=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow"],X=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow"],Y={class:"range__field range__field--min"},Z=["step","value","title"],ee={class:"range__field--unit"},ae={class:"range__field range__field--max"},ne=["step","value","title"],re={class:"range__field--unit"},le={key:1,class:"range__message"},R=K({__name:"RangeSlider",props:$({color:{default:"default"},dataError:{},id:{},label:{},max:{},message:{},min:{},rangeValues:{},step:{},unit:{default:"€"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(y){const a=y,b=w(""),M=w(null),B=H,r=j(y,"modelValue"),I=()=>{var e,n,u;return a.dataError&&((e=a.dataError)==null?void 0:e.active)&&((u=(n=a.dataError)==null?void 0:n.message)==null?void 0:u.length)},h=()=>{r.value={min:{label:r.value.min.label,value:t.value},max:{label:r.value.max.label,value:i.value}}},g=(e,n)=>{const u=e.target,o=parseFloat(u.value);n==="min"?t.value=o:i.value=o,r.value={min:{label:r.value.min.label,value:t.value},max:{label:r.value.max.label,value:i.value}}},t=m({get:()=>Math.floor(r.value.min.value),set:e=>{r.value.min.value=e,e||(e=a.min),e=Math.floor(e),e<a.min||e>a.max?r.value.min.value=a.min:(e>r.value.max.value&&(r.value.max.value=e),r.value.min.value=e)}}),i=m({get:()=>Math.floor(r.value.max.value),set:e=>{r.value.max.value=e,e||(e=a.max),e=Math.floor(e),e>a.max||e<a.min?r.value.max.value=a.max:(e<r.value.min.value&&(r.value.min.value=e),r.value.max.value=e)}}),N=m(()=>(t.value-a.min)/((a.max-a.min)/100)),D=m(()=>100-(i.value-a.min)/((a.max-a.min)/100)),x=m(()=>a.unit.length>=2),E=()=>{const e=M.value;b.value=e&&e.id?e.id:"error-message"},U=()=>{var e;return(e=a.dataError)!=null&&e.active?!0:null},A=()=>{var e,n;return(e=a.dataError)!=null&&e.active&&((n=a.dataError)!=null&&n.message)?b.value:void 0};return z(()=>{E()}),F(()=>{E()}),(e,n)=>{var u,o,V,q;return v(),p("div",Q,[s("fieldset",{class:f([[{"range--error":e.dataError&&e.dataError.active}],"range__content"]),"aria-describedby":A(),"aria-invalid":U()},[e.label?(v(),p("legend",P,d(e.label),1)):_("",!0),c(s("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>t.value=l),type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--min",role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":t.value,onChange:h},null,40,W),[[S,t.value]]),c(s("input",{"onUpdate:modelValue":n[1]||(n[1]=l=>i.value=l),type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--max",role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":i.value,onChange:h},null,40,X),[[S,i.value]]),s("span",{class:f(["range__middle",`range__middle--${e.color}`]),style:G({left:`${N.value}%`,right:`${D.value}%`})},null,6),s("span",Y,[s("input",{type:"number",step:e.step,class:f(["range__input",{"range__input--long-unit":x.value}]),value:t.value,title:((u=e.rangeValues)==null?void 0:u.min.label)||"Minimum",onBlur:n[2]||(n[2]=l=>g(l,"min")),onKeydown:n[3]||(n[3]=k(C(l=>g(l,"min"),["prevent"]),["enter"]))},null,42,Z),s("span",ee,d(e.unit),1)]),s("span",ae,[s("input",{type:"number",step:e.step,class:f(["range__input",{"range__input--long-unit":x.value}]),value:i.value,title:((o=e.rangeValues)==null?void 0:o.max.label)||"Maximum",onBlur:n[4]||(n[4]=l=>g(l,"max")),onKeydown:n[5]||(n[5]=k(C(l=>g(l,"max"),["prevent"]),["enter"]))},null,42,ne),s("span",re,d(e.unit),1)])],10,O),I()?c((v(),p("p",{key:0,ref_key:"errorMessage",ref:M,class:"range__error-message"},[T(d((V=e.dataError)==null?void 0:V.message),1)])),[[L(B),"range-error-message--"]]):_("",!0),e.message&&!((q=e.dataError)!=null&&q.active)?(v(),p("p",le,d(e.message),1)):_("",!0)])}}}),ue=J(R,[["__scopeId","data-v-8aef8ead"]]);R.__docgenInfo={exportName:"default",displayName:"RangeSlider",description:"",tags:{},props:[{name:"color",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"emphasis"'},{name:'"quiet"'}]},defaultValue:{func:!1,value:"'default'"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"id",required:!1,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"}},{name:"max",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"min",required:!1,type:{name:"number"}},{name:"rangeValues",required:!1,type:{name:"Range"}},{name:"step",required:!1,type:{name:"number"}},{name:"unit",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'€'"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/atoms/RangeSlider/RangeSlider.vue"]};export{ue as S};

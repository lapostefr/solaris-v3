import{d as $,m as j,r as S,a as z,c as v,k as F,l as G,o as f,e as _,t as i,y as g,B as b,G as y,M as k,v as c,L,J as C,I as R,u as T,H}from"./vue.esm-bundler-DbnnIJWB.js";import{g as J}from"./generateId-CVaf2GGW.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"range"},Q=["aria-describedby","aria-invalid"],W={key:0,class:"range__label range__label--outside"},X=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow"],Y=["min","max","step","aria-valuemin","aria-valuemax","aria-valuenow"],Z={class:"range__field range__field--min"},ee=["step","value","title"],ae={class:"range__field--unit"},ne={class:"range__field range__field--max"},re=["step","value","title"],le={class:"range__field--unit"},se={key:1,class:"range__message"},B=$({__name:"RangeSlider",props:j({color:{default:"default"},dataError:{},id:{},label:{},max:{},message:{},min:{},rangeValues:{},step:{},unit:{default:"€"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(M){const r=M,h=S(""),x=S(null),I=J,n=z(M,"modelValue"),N=()=>{var e,a,s;return r.dataError&&((e=r.dataError)==null?void 0:e.active)&&((s=(a=r.dataError)==null?void 0:a.message)==null?void 0:s.length)},E=()=>{var e,a,s,o;n.value={min:{label:((a=(e=n.value)==null?void 0:e.min)==null?void 0:a.label)||void 0,value:t.value||void 0},max:{label:((o=(s=n.value)==null?void 0:s.max)==null?void 0:o.label)||void 0,value:u.value||void 0}}},p=(e,a)=>{var m,d,l,w;const s=e.target,o=parseFloat(s.value);a==="min"?t.value=o:u.value=o,n.value={min:{label:((d=(m=n.value)==null?void 0:m.min)==null?void 0:d.label)||void 0,value:t.value||void 0},max:{label:((w=(l=n.value)==null?void 0:l.max)==null?void 0:w.label)||void 0,value:u.value||void 0}}},t=v({get:()=>{var e,a;if(n.value)return Math.floor((a=(e=n.value)==null?void 0:e.min)==null?void 0:a.value)},set:e=>{n.value&&(n.value.min.value=e),e||(e=r.min),e=Math.floor(e),n.value&&(e<r.min||e>r.max?n.value.min.value=r.min:(e>n.value.max.value&&(n.value.max.value=e),n.value.min.value=e))}}),u=v({get:()=>{if(n.value)return Math.floor(n.value.max.value)},set:e=>{var a;n.value&&(n.value.max.value=e),e||(e=r.max),e=Math.floor(e),n.value&&(e>r.max||e<r.min?n.value.max.value=r.max:(e<((a=n.value.min)==null?void 0:a.value)&&(n.value.min.value=e),n.value.max.value=e))}}),D=v(()=>{if(t.value)return(t.value-r.min)/((r.max-r.min)/100)}),U=v(()=>100-(u.value-r.min)/((r.max-r.min)/100)),V=v(()=>r.unit.length>=2),q=()=>{const e=x.value;h.value=e&&e.id?e.id:"error-message"},A=()=>{var e;return(e=r.dataError)!=null&&e.active?!0:void 0},K=()=>{var e,a;return(e=r.dataError)!=null&&e.active&&((a=r.dataError)!=null&&a.message)?h.value:void 0};return F(()=>{q()}),G(()=>{q()}),(e,a)=>{var s,o,m,d;return f(),_("div",P,[i("fieldset",{class:c([[{"range--error":e.dataError&&e.dataError.active}],"range__content"]),"aria-describedby":K(),"aria-invalid":A()},[e.label?(f(),_("legend",W,g(e.label),1)):b("",!0),y(i("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>t.value=l),type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--min",role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":t.value,onChange:E},null,40,X),[[k,t.value]]),y(i("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>u.value=l),type:"range",min:e.min,max:e.max,step:e.step,class:"range__slider range__slider--max",role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":u.value,onChange:E},null,40,Y),[[k,u.value]]),i("span",{class:c(["range__middle",`range__middle--${e.color}`]),style:L({left:`${D.value}%`,right:`${U.value}%`})},null,6),i("span",Z,[i("input",{type:"number",step:e.step,class:c(["range__input",{"range__input--long-unit":V.value}]),value:t.value,title:((s=e.rangeValues)==null?void 0:s.min.label)||"Minimum",onBlur:a[2]||(a[2]=l=>p(l,"min")),onKeydown:a[3]||(a[3]=C(R(l=>p(l,"min"),["prevent"]),["enter"]))},null,42,ee),i("span",ae,g(e.unit),1)]),i("span",ne,[i("input",{type:"number",step:e.step,class:c(["range__input",{"range__input--long-unit":V.value}]),value:u.value,title:((o=e.rangeValues)==null?void 0:o.max.label)||"Maximum",onBlur:a[4]||(a[4]=l=>p(l,"max")),onKeydown:a[5]||(a[5]=C(R(l=>p(l,"max"),["prevent"]),["enter"]))},null,42,re),i("span",le,g(e.unit),1)])],10,Q),N()?y((f(),_("p",{key:0,ref_key:"errorMessage",ref:x,class:"range__error-message"},[H(g((m=e.dataError)==null?void 0:m.message),1)])),[[T(I),"range-error-message--"]]):b("",!0),e.message&&!((d=e.dataError)!=null&&d.active)?(f(),_("p",se,g(e.message),1)):b("",!0)])}}}),oe=O(B,[["__scopeId","data-v-ad3208be"]]);B.__docgenInfo={exportName:"default",displayName:"RangeSlider",description:"",tags:{},props:[{name:"color",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"emphasis"'},{name:'"quiet"'}]},defaultValue:{func:!1,value:"'default'"}},{name:"dataError",required:!1,type:{name:"DataError"}},{name:"id",required:!1,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"}},{name:"max",required:!1,type:{name:"number"}},{name:"message",required:!1,type:{name:"string"}},{name:"min",required:!1,type:{name:"number"}},{name:"rangeValues",required:!1,type:{name:"Range"}},{name:"step",required:!1,type:{name:"number"}},{name:"unit",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'€'"}}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/atoms/RangeSlider/RangeSlider.vue"]};export{oe as S};

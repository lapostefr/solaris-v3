import{d as _e,m as te,Z as we,b as de,r as M,c as A,o as $e,e as S,t as m,v as p,x as se,f as s,J as E,g,G as L,A as F,F as ne,C as h,h as _,y as ie,z as Me,D as Be,u as v,a0 as Te,O as xe,V as Ve}from"./vue.esm-bundler-BQVOD3cV.js";import{S as Ie}from"./Button-qisKMu5t.js";import{S as Ae}from"./Icon-CNTEbVSX.js";import{S as Ee,C as Le,b as Fe,a as re,I as qe,L as Ne}from"./Card-DI3Qv4Vu.js";import{_ as Oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";var b=(t=>(t.Clickable="Clickable",t.SelectableSingle="Selectable single",t.SelectableMultiple="Selectable multiple",t.Editable="Editable",t))(b||{}),oe=(t=>(t.none="none",t.xs="xs",t.s="s",t.m="m",t.l="l",t.xl="xl",t))(oe||{});const ze=["id","disabled","name","checked","aria-describedby","aria-controls","aria-expanded","onChange"],De=["id","disabled","value","name","aria-describedby","aria-controls","aria-expanded","onChange"],Re={class:"lp-tile__footer"},We={key:0,class:"lp-tile__custom"},je={key:0,class:"lp-tile__custom"},ce=_e({__name:"TileNew",props:te({gridClass:{type:Boolean,default:!1},legend:{},nested:{type:Boolean,default:!1},options:{},setItemClass:{default:void 0},showMoreWhenSelected:{type:Boolean,default:!1},showSelectionButton:{type:Boolean,default:!0},tileGap:{default:oe.s},type:{default:b.Clickable}},{modelValue:{},modelModifiers:{},checkbox:{default:[]},checkboxModifiers:{}}),emits:te(["cardClicked","radioChanged","checkboxChanged","input"],["update:modelValue","update:checkbox"]),setup(t,{emit:ue}){const i=t,y=ue,B=we(),k=de(t,"modelValue"),o=de(t,"checkbox"),T=M(null),x=M(null),q=M(""),N=M(""),me=()=>c()?"fieldset":"section",O=A(()=>{var e;return((e=i.legend)==null?void 0:e.label)||"Légende à remplir pour l'accessibilité"}),r=A(()=>i.options),ge=e=>["h1","h2","h3","h4","h5","h6"].includes(e||""),he=e=>["heading-xxs","heading-xs","heading-s","heading-m","heading-l","visually-hidden"].includes(e||""),fe=()=>{if(c()){const e=[q.value];return B.tileLegendAdditional&&e.push(N.value),e.join(" ")}return null},z=e=>i.showMoreWhenSelected?`card-extra-id-${e.id}`:void 0,D=e=>{if(i.showMoreWhenSelected)return V(e)},R=e=>{const l=[];return e.card.subtitle&&l.push(`card-subtitle-id-${e.id}`),(e.card.bodyText||B.tileBody)&&l.push(`card-body-id-${e.id}`),(e.card.footerText||B.tileFooter)&&l.push(`card-footer-id-${e.id}`),l.length>0?l.join(" "):void 0},c=()=>u()==="checkbox"||u()==="radio",w=(e,l)=>{var d;return((d=e.card)==null?void 0:d.layout)===l},u=()=>{let e=null;return i.type===b.SelectableMultiple&&(e="checkbox"),i.type===b.SelectableSingle&&(e="radio"),e},pe=e=>{y("cardClicked",e)},ve=e=>{y("radioChanged",e),y("input",k.value)},be=(e,l)=>{r.value[e].checked=!r.value[e].checked,ye(r.value[e].value),y("checkboxChanged",l),y("input",o.value)},ye=e=>{o.value&&Array.isArray(o.value)&&o.value.includes(e)?o.value=o.value.filter(l=>l!==e):o.value=[...o.value,e]},W=(e,l)=>{let d=!1;return u()==="radio"&&(d=k.value===e.value),u()==="checkbox"&&(d=r.value[l].checked),d},V=e=>{var C;const l=((C=r.value[e].card)==null?void 0:C.expanded)||!1,d=r.value[e].value===k.value,$=r.value[e].checked;return i.showMoreWhenSelected&&(d||$)||l},ke=e=>{var d;if(!r.value[e].card)return;const l=(d=r.value[e].card)==null?void 0:d.expanded;r.value[e].card.expanded=!l},Ce=A(()=>{const e=i.type===b.SelectableSingle||i.type===b.SelectableMultiple,l=i.showMoreWhenSelected&&u()==="radio";return{isAllInputs:e,isRadio:l}}),Se=e=>i.showSelectionButton&&c()&&w(e,"horizontal");return $e(()=>{var e;T.value&&(q.value=(e=T.value)==null?void 0:e.id),x.value&&(N.value=x.value.id)}),(e,l)=>{const d=Ve("generate-id");return s(),S(se(me()),{class:p(["lp-tile__wrapper",{"lp-tile__wrapper--selectable":c()}]),"aria-labelledby":fe()},{default:m(()=>{var $,I,C,j,P,U;return[c()?E((s(),g("legend",{key:0,ref_key:"legendRef",ref:T,class:p(["lp-tile__legend",{[`lp-tile__legend--${($=e.legend)==null?void 0:$.style}`]:he((I=e.legend)==null?void 0:I.style),"lp-tile__legend--brand":((C=e.legend)==null?void 0:C.color)==="brand","visually-hidden":((j=e.legend)==null?void 0:j.style)==="visually-hidden"}])},[ge((P=e.legend)==null?void 0:P.tag)?(s(),S(se((U=e.legend)==null?void 0:U.tag),{key:0,class:"lp-tile__tag"},{default:m(()=>[L(F(O.value),1)]),_:1})):(s(),g(ne,{key:1},[L(F(O.value),1)],64))],2)),[[d,"legend--"]]):h("",!0),e.$slots.tileLegendAdditional?E((s(),g("div",{key:1,ref_key:"additional",ref:x,class:"lp-tile__additional"},[_(e.$slots,"tileLegendAdditional",{},void 0,!0)])),[[d,"additional--"]]):h("",!0),ie("div",{class:p({"lp-grid":e.gridClass,[`lp-tile__content--${e.tileGap}`]:!e.gridClass})},[(s(!0),g(ne,null,Me(e.options,(a,n)=>{var G,J,Z,H,K,Q,X,Y,ee,ae;return s(),S(Ee,Be({key:a.id,ref_for:!0},a.card,{id:`${a.id}`,class:["lp-tile lp-tile--quiet",[{"lp-tile--checked":W(a,n)},{"lp-tile--disabled":a.disabled},`lp-tile--${u()} ${e.setItemClass}`]],"card-style":v(Le).elevated,"background-color":a.disabled?"#F7F7F7":(G=a.card)==null?void 0:G.backgroundColor,color:a.disabled?"#717171":(J=a.card)==null?void 0:J.color,"container-tag":((Z=a.card)==null?void 0:Z.containerTag)||v(Fe).article,"content-padding":((H=a.card)==null?void 0:H.contentPadding)||v(re).small,"footer-right":((K=a.card)==null?void 0:K.footerRight)||!0,expanded:V(n),"image-order":((Q=a.card)==null?void 0:Q.imageOrder)||v(qe).imageOnTop,"image-padding":((X=a.card)==null?void 0:X.imagePadding)||v(re).small,"form-element":Ce.value,"header-content-to-bottom":((Y=a.card)==null?void 0:Y.headerContentToBottom)||!0,layout:((ee=a.card)==null?void 0:ee.layout)||v(Ne).horizontal,"show-images-on-mobile":((ae=a.card)==null?void 0:ae.showImagesOnMobile)||!1,onCardClicked:f=>pe(a)}),Te({cardBeforeTitle:m(()=>[u()==="checkbox"?(s(),g("input",{key:0,id:`card-input-id-${a.id}`,type:"checkbox",class:p(["lp-tile__input",{"lp-tile__input--nested":e.nested}]),disabled:a.disabled,name:`card-name-${a.name}`,checked:o.value.includes(a.value),"aria-describedby":R(a),"aria-controls":z(a),"aria-expanded":D(n),onChange:f=>be(n,a)},null,42,ze)):h("",!0),u()==="radio"?E((s(),g("input",{key:1,id:`card-input-id-${a.id}`,"onUpdate:modelValue":l[0]||(l[0]=f=>k.value=f),class:p(["lp-tile__input",{"lp-tile__input--nested":e.nested}]),disabled:a.disabled,value:a.value,name:`card-name-${a.name}`,type:"radio","aria-describedby":R(a),"aria-controls":z(a),"aria-expanded":D(n),onChange:f=>ve(a)},null,42,De)),[[xe,k.value]]):h("",!0),W(a,n)?(s(),S(Ae,{key:2,class:p(["lp-tile__checked-icon",{"lp-tile__checked-icon--nested":e.nested}]),name:"action-check",title:"Option sélectionnée"},null,8,["class"])):h("",!0)]),cardExtra:m(()=>[_(e.$slots,"tileExtra",{index:n},void 0,!0)]),_:2},[e.$slots.tileBody?{name:"cardBody",fn:m(()=>[_(e.$slots,"tileBody",{index:n},void 0,!0)]),key:"0"}:void 0,e.$slots.tileFooter||c()&&w(a,"vertical")?{name:"cardFooter",fn:m(()=>{var f,le;return[ie("div",Re,[_(e.$slots,"tileFooter",{index:n},void 0,!0),c()&&w(a,"vertical")&&e.showSelectionButton?(s(),g("span",We)):h("",!0),a.toggleText?(s(),S(Ie,{key:1,class:"lp-tile__toggle-link",type:"ghost",icon:"arrow-bottom","icon-reverse":"","aria-label":`Voir plus : ${(le=(f=a.card)==null?void 0:f.title)==null?void 0:le.content}`,"aria-control":`card-extra-id-${a.id}`,"aria-expanded":V(n)?"true":"false",onClick:Pe=>ke(n)},{default:m(()=>[L(F(a.toggleText),1)]),_:2},1032,["aria-label","aria-control","aria-expanded","onClick"])):h("",!0)])]}),key:"1"}:void 0,e.$slots.tileMedias||Se(a)?{name:"cardMedias",fn:m(()=>[_(e.$slots,"tileMedias",{index:n},void 0,!0),c()&&w(a,"horizontal")&&e.showSelectionButton?(s(),g("span",je)):h("",!0)]),key:"2"}:void 0]),1040,["id","card-style","background-color","color","container-tag","content-padding","footer-right","expanded","image-order","image-padding","form-element","header-content-to-bottom","layout","show-images-on-mobile","class","onCardClicked"])}),128))],2)]}),_:3},8,["class","aria-labelledby"])}}}),Ke=Oe(ce,[["__scopeId","data-v-c182e26f"]]);ce.__docgenInfo={exportName:"default",displayName:"TileNew",description:"",tags:{},props:[{name:"gridClass",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"legend",required:!1,type:{name:"TileLegend"}},{name:"nested",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"TileOption"}]}},{name:"setItemClass",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"showMoreWhenSelected",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showSelectionButton",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"tileGap",required:!1,type:{name:"TileGap"},defaultValue:{func:!1,value:"TileGap.s"}},{name:"type",required:!1,type:{name:"ElementType"},defaultValue:{func:!1,value:"ElementType.Clickable"}}],events:[{name:"cardClicked"},{name:"radioChanged"},{name:"checkboxChanged"},{name:"input"}],slots:[{name:"tileLegendAdditional"},{name:"tileBody",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileFooter",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileMedias",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileExtra",scoped:!0,bindings:[{name:"index",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/TileNew/TileNew.vue"]};export{b as E,Ke as S,oe as T};

import{m as Y,r as y,c as p,k as Z,W as ee,o as q,a as x,n as te,b as M,p as C,D as oe,L as S,E as le}from"./vue.esm-bundler-BV06ZB-3.js";import{o as ne}from"./index-Lw3s2UWX.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ae=["tabindex"],W=Y({__name:"Tooltip",props:{color:{default:"default"},displayElement:{default:"inline-flex"},forceShow:{type:Boolean},forcePlacement:{type:Boolean,default:!1},isManual:{type:Boolean},long:{type:Boolean},offset:{default:8},placement:{default:"top"},trigger:{default:"hover"},type:{default:"default"}},emits:["triggerEvent","close"],setup(N,{emit:F}){const t=N,O=F,E=y(null),_=y(null),w=y(t.placement),c=y(""),b=y(),D=["A","BUTTON"],P=y("");ne(E,()=>B());const V=p(()=>{let e="inherit",o="inherit",n="inherit",i="inherit";const m=t.offset;let d="transparent",h="transparent",r="transparent",s="transparent";const T=t.offset;let g=T+4,f="#3C3C3C";t.color!=="quiet"&&(f=!t.long&&t.type==="default"?"#3C3C3C":"#FFF",g=t.type==="empty-no-arrow"?0:T+4),t.color==="spotlight"&&(f="#003DA5");const k=w.value.split("-"),v=k[0],l=k[1];v==="top"&&(n=`calc(100% + ${g}px)`,d=f,l||(i="50%"),l==="start"&&(i="0"),l==="end"&&(o="0")),v==="bottom"&&(e=`calc(100% + ${g}px)`,r=f,l||(i="50%"),l==="start"&&(i="0"),l==="end"&&(o="0")),v==="left"&&(o=`calc(100% + ${g}px)`,s=f,l||(e="50%"),l==="start"&&(e="0"),l==="end"&&(n="0")),v==="right"&&(i=`calc(100% + ${g}px)`,h=f,l||(e="50%"),l==="start"&&(e="0"),l==="end"&&(n="0"));const u={display:"block",background:f,top:e,right:o,bottom:n,left:i},a={"border-width":`${m}px`,"border-top-color":d,"border-right-color":h,"border-bottom-color":r,"border-left-color":s};return{tooltip:u,arrow:a}}),L=p(()=>{let e;return t.color==="quiet"?e="default":e=t.long||t.type==="long"?"long":t.type,`tooltip__popper--${w.value} tooltip__popper--${e}`}),R=p(()=>{let e=t.trigger==="clickToOpen"||t.trigger==="clickToToggle"?"click":t.trigger,o=c.value||"";return t.isManual&&(e="",o=""),`tooltip__trigger--${e} tooltip__trigger--${o} ${j.value}`}),j=p(()=>t.forceShow&&c.value!=="closed"?"tooltip__trigger--forced":""),z=p(()=>`tooltip__arrow--${w.value}`),H=p(()=>b.value?b.value.firstElementChild:null),A=p(()=>{const e=H.value;return t.trigger==="focusOnly"&&e&&!D.includes(e.tagName)?0:null}),I=()=>{t.trigger==="clickToOpen"&&($(),c.value="open"),t.trigger==="clickToToggle"&&($(),c.value=c.value==="open"?"closed":"open"),t.trigger==="focusOnly"&&U(),O("triggerEvent",c.value)},U=()=>{var o;const e=H.value;e instanceof HTMLElement&&(D.includes(e.tagName)||e.tabIndex===0?e.focus():(o=b.value)==null||o.focus())},G=e=>{["hover","focusOnly"].includes(t.trigger)&&e.preventDefault()},J=()=>{$()},B=()=>{c.value="closed",O("close")},$=()=>{const e=t.placement.split("-"),o=E.value,n=o==null?void 0:o.getBoundingClientRect().left,i=o==null?void 0:o.getBoundingClientRect().top,m=o==null?void 0:o.clientWidth,d=o==null?void 0:o.clientHeight,h=_.value,r=h.clientWidth+t.offset,s=h.clientHeight+t.offset,T=window.innerWidth-(n+m+r),g=window.innerHeight-(i+d+s),f=window.innerWidth-(n+r),k=window.innerHeight-(i+s),v=window.innerWidth-(n+r-(r-m)/2),l=window.innerHeight-(i+s-(s-d)/2);let u=e[0],a=e[1];t.forcePlacement||(e[0]==="top"&&i<s&&(u="bottom"),e[0]==="bottom"&&g<0&&(u="top"),(e[0]==="top"||e[0]==="bottom")&&(e[1]==="start"&&f<0&&(a="end"),e[1]==="end"&&n<r-m&&(a="start"),!e[1]&&v<0&&(a="end"),!e[1]&&n<(r-m)/2&&(a="start")),e[0]==="left"&&n<r&&(u="right"),e[0]==="right"&&T<0&&(u="left"),(e[0]==="left"||e[0]==="right")&&(e[1]==="start"&&k<0&&(a="end"),e[1]==="end"&&i<s-d&&(a="start"),!e[1]&&l<0&&(a="end"),!e[1]&&i<(s-d)/2&&(a="start"))),w.value=a?`${u}-${a}`:u},K=e=>{e.key==="Escape"&&B()},Q=p(()=>t.trigger==="clickToToggle"?P.value:null),X=p(()=>t.trigger==="clickToToggle"&&c.value==="open");return Z(()=>{t.forceShow&&(c.value="open"),_.value&&(P.value=_.value.id),window.addEventListener("keydown",K)}),(e,o)=>{const n=ee("generate-id");return q(),x("div",{ref_key:"tooltip",ref:E,class:C(["tooltip",{"tooltip--spotlight":e.color==="spotlight"}]),style:S("display: "+e.displayElement)},[te("div",{ref_key:"tooltipTrigger",ref:b,class:C(["tooltip__trigger",R.value]),tabindex:A.value,onClick:I,onMouseover:J,onMousedown:G},[M(e.$slots,"trigger",{ariaControls:Q.value,ariaExpanded:X.value},void 0,!0)],42,ae),oe((q(),x("div",{ref_key:"tooltipPopper",ref:_,class:C(["tooltip__popper",L.value]),style:S(V.value.tooltip)},[e.type!=="empty-no-arrow"||e.color==="quiet"?(q(),x("i",{key:0,class:C(["tooltip__arrow",z.value]),style:S(V.value.arrow)},null,6)):le("",!0),M(e.$slots,"tooltip",{closed:B},void 0,!0)],6)),[[n,"popper--"]])],6)}}}),re=ie(W,[["__scopeId","data-v-5ee5f564"]]);W.__docgenInfo={exportName:"default",displayName:"Tooltip",description:"",tags:{},props:[{name:"color",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"quiet"'},{name:'"spotlight"'}]},defaultValue:{func:!1,value:"'default'"}},{name:"displayElement",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'inline-flex'"}},{name:"forceShow",required:!1,type:{name:"boolean"}},{name:"forcePlacement",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isManual",required:!1,type:{name:"boolean"}},{name:"long",required:!1,type:{name:"boolean"}},{name:"offset",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"8"}},{name:"placement",required:!1,type:{name:"TooltipPlacement"},defaultValue:{func:!1,value:"'top'"}},{name:"trigger",required:!1,type:{name:"union",elements:[{name:'"hover"'},{name:'"clickToOpen"'},{name:'"clickToToggle"'},{name:'"focusOnly"'}]},defaultValue:{func:!1,value:"'hover'"}},{name:"type",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"long"'},{name:'"empty-border"'},{name:'"empty-no-arrow"'},{name:'"empty"'}]},defaultValue:{func:!1,value:"'default'"}}],events:[{name:"triggerEvent"},{name:"close"}],slots:[{name:"trigger",scoped:!0,bindings:[{name:"aria-controls",title:"binding"},{name:"aria-expanded",title:"binding"}]},{name:"tooltip",scoped:!0,bindings:[{name:"closed",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/atoms/Tooltip/Tooltip.vue"]};const pe=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{re as S,pe as _};

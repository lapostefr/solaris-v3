import{d as S,f as t,g as n,B as v,y as r,A as y,e as p,C as s,v as g,L as I,r as F,F as j,z as D,t as k,G as U,I as T,H as C}from"./vue.esm-bundler-BQVOD3cV.js";import{S as z}from"./Button-qisKMu5t.js";import{S as _}from"./Icon-CNTEbVSX.js";import{S as V}from"./Loader-DlskW7bR.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{S as x}from"./Notification-lGc5pTbv.js";const L={class:"attachment__text"},E=S({__name:"Attachment",props:{file:{}},emits:["removeFile"],setup($){return(a,d)=>(t(),n("div",{class:g(["attachment",{"attachment--isFinishing":a.file.progress===100}]),style:I({"--left":`${a.file.progress}%`})},[v(_,{name:"editing-paperclip",class:"attachment__icon"}),r("div",L,y(a.file.name),1),a.file.progress<100?(t(),p(V,{key:0,class:"attachment__loader",color:"cobalt"})):s("",!0),a.file.progress===100&&!a.file.loaded?(t(),p(_,{key:1,name:"action-check",type:"light",class:"attachment__success"})):s("",!0),a.file.loaded?(t(),p(_,{key:2,role:"button",tabindex:"0","aria-label":`Supprimer la pièce jointe ${a.file.name}`,name:"action-close",type:"light",class:"attachment__closer",onClick:d[0]||(d[0]=m=>a.$emit("removeFile"))},null,8,["aria-label"])):s("",!0)],6))}}),K=q(E,[["__scopeId","data-v-c9d2a27c"]]);E.__docgenInfo={exportName:"default",displayName:"Attachment",description:"",tags:{},props:[{name:"file",required:!0,type:{name:"FileUploaderType"}}],events:[{name:"removeFile"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/FileUploader/Attachment/Attachment.vue"]};const P={class:"fileUploader"},R={class:"filelist"},G=["id","name","accept"],H=["for"],M={key:0,class:"fileUploader__dropzone__subtitle"},J={class:"fileUploader__dropzone__action"},N=S({__name:"FileUploader",props:{digiposte:{type:Boolean},error:{type:Boolean},extension:{},filelist:{},id:{},label:{default:"Parcourir"},subtitle:{},name:{},textError:{},titleError:{},buttonColor:{default:"supernova"},buttonType:{default:"primary"}},emits:["digiposteClick","addFile","removeFile"],setup($,{expose:a,emit:d}){const m=d,i=F(null),u=F(!1),c=()=>{i.value.click()},f=()=>{i.value&&(i.value.value="")},h=()=>{var o;const e=(o=i.value)==null?void 0:o.files;m("addFile",e),f()},w=e=>{i.value.files=e.dataTransfer.files,h(),u.value=!1,f()},A=()=>{m("digiposteClick")},B=e=>{m("removeFile",e),f()};return a({openFileExplorer:c}),(e,o)=>{var b;return t(),n("div",P,[e.error?(t(),p(x,{key:0,id:"1",color:"error",type:"inline",title:e.titleError,text:e.textError,class:"fileUploader__error"},null,8,["title","text"])):s("",!0),r("div",R,[(t(!0),n(j,null,D(e.filelist,l=>(t(),n("div",{key:l.id},[v(K,{file:l,onRemoveFile:O=>B(l)},null,8,["file","onRemoveFile"])]))),128))]),r("input",{id:e.id,ref_key:"fileExplorer",ref:i,type:"file",name:e.name,accept:(b=e.extension)==null?void 0:b.join(","),multiple:"",class:"visually-hidden fileUploader__input",onChange:h},null,40,G),r("div",{class:g(["fileUploader__dropzone",{"fileUploader__dropzone--hightlight":u.value}]),onDrop:o[0]||(o[0]=C(l=>w(l),["prevent"])),onDragover:o[1]||(o[1]=C(l=>u.value=!0,["prevent"])),onDragleave:o[2]||(o[2]=l=>u.value=!1)},[r("div",{class:g(["fileUploader__dropzone__text",[e.subtitle&&"fileUploader__dropzone__text--bold"]])},[r("label",{for:e.id}," Déposez vos fichiers dans cette zone pour les ajouter ",8,H)],2),e.subtitle?(t(),n("div",M,y(e.subtitle),1)):s("",!0),r("div",J,[v(z,{icon:"editing-download",class:"fileUploader__dropzone__button",color:e.buttonColor,type:e.buttonType,onClick:c,onKeydown:T(c,["enter","space"])},{default:k(()=>[U(y(e.label),1)]),_:1},8,["color","type"]),e.digiposte?(t(),p(z,{key:0,class:"fileUploader__dropzone__digiposte",onClick:A},{default:k(()=>o[3]||(o[3]=[r("div",{class:"fileUploader__dropzone__logo"},null,-1),U(" Importer depuis Digiposte ")])),_:1})):s("",!0)])],34)])}}}),ae=q(N,[["__scopeId","data-v-be37e4c7"]]);N.__docgenInfo={exportName:"default",displayName:"FileUploader",description:"",tags:{},expose:[{name:"openFileExplorer"}],props:[{name:"digiposte",required:!1,type:{name:"boolean"}},{name:"error",required:!1,type:{name:"boolean"}},{name:"extension",required:!1,type:{name:"Array",elements:[{name:"string"}]}},{name:"filelist",required:!0,type:{name:"Array",elements:[{name:"FileUploaderType"}]}},{name:"id",required:!0,type:{name:"string"}},{name:"label",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'Parcourir'"}},{name:"subtitle",required:!1,type:{name:"string"}},{name:"name",required:!0,type:{name:"string"}},{name:"textError",required:!1,type:{name:"string"}},{name:"titleError",required:!1,type:{name:"string"}},{name:"buttonColor",required:!1,type:{name:"union",elements:[{name:'"supernova"'},{name:'"default"'},{name:'"cobalt"'},{name:'"brand-lpsb-blue"'},{name:'"darkgrey"'},{name:'"white"'},{name:'"danger"'}]},defaultValue:{func:!1,value:"'supernova'"}},{name:"buttonType",required:!1,type:{name:"union",elements:[{name:'"primary"'},{name:'"secondary"'},{name:'"ghost"'}]},defaultValue:{func:!1,value:"'primary'"}}],events:[{name:"digiposteClick"},{name:"addFile"},{name:"removeFile"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/FileUploader/FileUploader.vue"]};export{ae as S};

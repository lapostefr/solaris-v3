import{m as G,r as m,c as y,_ as J,k as P,o as f,a as _,B as k,G as x,C as R,t as T,J as H,v as K,E as h,n as M,p as z,b as Q,$ as X}from"./vue.esm-bundler-BV06ZB-3.js";import{S as Y}from"./Icon-R0HSrbr6.js";import{S as E}from"./Button-DIKv7yJx.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ee=["aria-label"],te={key:0,class:"carousel__head"},le=["href"],N=G({__name:"Carousel",props:{controlColor:{default:"default"},isFullMobile:{type:Boolean},moreLabel:{},moreLink:{},quantityItemsVisible:{default:void 0},title:{},titleTag:{},type:{default:"multiple"},qtyItems:{}},setup($){X(e=>({cb906e46:U.value}));const a=$,p=m(),s=m(),v=m(!1),c=m(!1),L=m(!1),V=m(!1),j=y(()=>{var e;return((e=s.value)==null?void 0:e.childElementCount)||0}),q=y(()=>["cobalt","nebula","supernova"].includes(a.controlColor)?"default":a.controlColor==="dark-grey"?"quiet":a.controlColor==="white"?"onStrong":a.controlColor),A=e=>{const{scrollLeft:t,clientWidth:o,scrollWidth:l}=e.target;v.value=!1,c.value=!1,o+t>=l&&(c.value=!c.value),t===0&&(v.value=!v.value)},D=e=>Array.from(s.value.children).findIndex(t=>t.contains(e.target)),I=()=>(a.quantityItemsVisible&&a.quantityItemsVisible.desktop)??Math.floor(p.value.clientWidth/C()),O=e=>{var F;const t=e.target,o=D(e),l=C(),r=I(),n=(F=p.value)==null?void 0:F.getBoundingClientRect(),u=t.getBoundingClientRect(),g=u.right>=n.right,d=u.left<=n.left;let i=0;g?(i=(o-r+1)*l,b(i)):d&&(i=l*o,b(i)),o===j.value-1&&(c.value=!0)},U=y(()=>a.quantityItemsVisible&&a.quantityItemsVisible.desktop?`calc(${100/a.quantityItemsVisible.desktop}% - 16px)`:"auto"),C=()=>s.value&&s.value.children[0]?s.value.children[0].getBoundingClientRect().width:0,S=e=>{const{scrollLeft:t,clientWidth:o}=p.value,l=C(),r=Math.floor(t/l),n=I(),u=(t+o)%l>=l-24,g=t%l!==0;let d=0;if(g){const i=Math.ceil(t/l)*l,B=r*l;d=e===1?i:B}else if(u){const i=n+1;d=(r+e*i)*l}else d=(r+e*n)*l;b(d)},b=e=>{var t;(t=p.value)==null||t.scrollTo({left:e})},w=()=>{var r,n,u;const e=((r=s.value)==null?void 0:r.clientWidth)||0,t=((n=s.value)==null?void 0:n.scrollWidth)||0,o=((u=s.value)==null?void 0:u.scrollLeft)||0,l=t>e;L.value=l,V.value=l,c.value=o+e>=t},W=()=>{w()};return J(()=>{window.removeEventListener("resize",W)}),P(()=>{w(),v.value=!0,window.addEventListener("resize",W)}),(e,t)=>{var o;return f(),_("div",{class:"carousel",role:"region","aria-label":`carrousel ${e.title}`},[e.moreLink||e.title?(f(),_("div",te,[(f(),k(H(e.titleTag?e.titleTag:"p"),{class:"carousel__title"},{default:x(()=>[R(T(e.title),1)]),_:1})),e.moreLink&&e.moreLabel?(f(),_("a",{key:0,href:e.moreLink,class:"carousel__link"},[R(T(e.moreLabel)+" ",1),K(Y,{name:"arrow-right",size:"small"})],8,le)):h("",!0)])):h("",!0),M("div",{ref_key:"wrapper",ref:p,class:z(["carousel__wrapper",{"carousel__wrapper--simple":e.type==="simple"}]),onScroll:A},[V.value?(f(),k(E,{key:0,"aria-label":"Faire défiler vers la gauche",class:"carousel__control carousel__control--left",color:q.value,disabled:v.value,"aria-hidden":!0,icon:"arrow-left",size:"regular",onClick:t[0]||(t[0]=l=>S(-1))},null,8,["color","disabled"])):h("",!0),L.value?(f(),k(E,{key:1,"aria-label":"Faire défiler vers la droite",class:"carousel__control carousel__control--right",color:q.value,disabled:c.value,"aria-hidden":!0,icon:"arrow-right",onClick:t[1]||(t[1]=l=>S(1))},null,8,["color","disabled"])):h("",!0),M("div",{ref_key:"container",ref:s,role:"list",class:z(["carousel__container",{"carousel--multiple":e.type==="multiple","carousel--multiple-full":e.isFullMobile,"carousel--simple":e.type==="simple","carousel--custom-width":e.quantityItemsVisible&&((o=e.quantityItemsVisible)==null?void 0:o.desktop)}]),onFocusin:O},[Q(e.$slots,"default",{},void 0,!0)],34)],34)],8,ee)}}}),oe=Z(N,[["__scopeId","data-v-f50ee333"]]);N.__docgenInfo={exportName:"default",displayName:"Carousel",description:"",tags:{},props:[{name:"controlColor",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'default'"}},{name:"isFullMobile",required:!1,type:{name:"boolean"}},{name:"moreLabel",required:!1,type:{name:"string"}},{name:"moreLink",required:!1,type:{name:"string"}},{name:"quantityItemsVisible",required:!1,type:{name:"{ desktop?: number }"},defaultValue:{func:!1,value:"undefined"}},{name:"title",required:!1,type:{name:"string"}},{name:"titleTag",required:!1,type:{name:"union",elements:[{name:'"h1"'},{name:'"h2"'},{name:'"h3"'},{name:'"h4"'},{name:'"h5"'},{name:'"h6"'},{name:'"h7"'}]}},{name:"type",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'multiple'"}},{name:"qtyItems",required:!1,type:{name:"number"}}],slots:[{name:"default"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/organisms/Carousel/Carousel.vue"]};const ie=Object.freeze(Object.defineProperty({__proto__:null,default:oe},Symbol.toStringTag,{value:"Module"}));export{oe as S,ie as _};

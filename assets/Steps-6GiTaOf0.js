import{S as w}from"./Icon-R0HSrbr6.js";import{S as M}from"./Tooltip--bRklYKV.js";import{m as L,c as l,Z as b,o as c,a as d,F as U,q as D,p as v,z as $,A as q,n as p,t as y,v as h,r as _,w as H,G as V,H as Z,C as B,E as A,L as J}from"./vue.esm-bundler-BV06ZB-3.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as Q}from"./index-Lw3s2UWX.js";const R=L({name:"StepperList",components:{SolarisIcon:w},props:{steps:{required:!0,type:Array},tooltipOpen:{required:!1,type:Boolean},colors:{required:!1,type:String},isResponsiveSmall:{required:!1,type:Boolean},version:{required:!1,type:String},current:{required:!1,type:Number},modelValue:{required:!1,type:Number}},emits:["change","goBack","update:modelValue"],setup(e,t){const i=l({get(){return e.modelValue||e.current||1},set(s){e.modelValue?t.emit("update:modelValue",s):t.emit("change",s)}}),r=s=>i.value>s+1?0:void 0;return{goBack:(s,a)=>{t.emit("goBack",s,a)},tabindexForStep:r,setTabIndex:s=>{const a=e.version==="small"||e.isResponsiveSmall;return e.isResponsiveSmall?e.tooltipOpen?r(s):-1:a&&!e.tooltipOpen?-1:r(s)},setAriaLabel:s=>{if(i.value>s+1)return`Etape ${s+1} : ${e.steps[s].label} complétée`},currentStep:i}}}),W=["aria-valuemax","aria-valuenow"],X=["role","tabindex","aria-current","aria-label","onKeydown"],Y=["onClick"],x=["onClick"];function ee(e,t,i,r,f,u){const m=b("SolarisIcon");return c(),d("ol",{role:"progressbar",class:"steps","aria-valuemin":1,"aria-valuemax":e.steps.length,"aria-valuenow":e.currentStep},[(c(!0),d(U,null,D(e.steps,(s,a)=>(c(),d("li",{key:s.id,class:v(["step",[`step--${e.colors}`,{"step--current":e.currentStep===a+1}]]),role:e.setTabIndex(a)===0?"link":null,tabindex:e.setTabIndex(a),"aria-current":e.currentStep===a+1?"step":null,"aria-label":e.setAriaLabel(a),onKeydown:[$(q(o=>e.goBack(s,a),["prevent"]),["enter"]),$(q(o=>e.goBack(s,a),["prevent"]),["space"])]},[p("i",{class:v(["step__picto",`step__picto--${e.colors}`]),onClick:o=>e.goBack(s,a)},null,10,Y),p("span",{class:v(["step__label",{"step__label--active":a+1<e.currentStep}]),onClick:o=>e.goBack(s,a)},y(s.label),11,x),h(m,{class:"step__edit",name:"action-pen",size:"small",onClick:o=>e.goBack(s,a)},null,8,["onClick"])],42,X))),128))],8,W)}const I=C(R,[["render",ee],["__scopeId","data-v-bd8de603"]]);R.__docgenInfo={displayName:"StepperList",exportName:"default",description:"",tags:{},props:[{name:"steps",type:{name:"Array<StepType>"},required:!0},{name:"tooltipOpen",type:{name:"boolean"},required:!1},{name:"colors",type:{name:"string"},required:!1},{name:"isResponsiveSmall",type:{name:"boolean"},required:!1},{name:"version",type:{name:"string"},required:!1},{name:"current",type:{name:"number"},required:!1},{name:"modelValue",type:{name:"number"},required:!1}],events:[{name:"change"},{name:"goBack"},{name:"update:modelValue"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/organisms/Stepper/StepperList/StepperList.vue"]};const fe=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"})),N=L({name:"Steps",components:{SolarisTooltip:M,SolarisStepperList:I,SolarisIcon:w},model:{prop:"current",event:"change"},props:{steps:{required:!0,type:Array},color:{required:!1,type:String,default:"supernova"},version:{required:!1,default:"responsive",type:String},current:{required:!1,type:Number},modelValue:{required:!1,type:Number}},emits:["change","goToStep","state","update:modelValue"],setup(e,t){const i=_(!1),r=_(),f=_(null),u=l(()=>e.modelValue||e.current||1);H(()=>u.value,n=>{i.value=!0,e.modelValue?t.emit("update:modelValue",n):t.emit("change",n),setTimeout(()=>{i.value=!1},500)},{immediate:!0});const m=l(()=>k.value?"small__popover":S.value?"large__popover":e.version!=="large"?"small__popover":"large__popover"),s=l(()=>({long:!0,trigger:"clickToToggle",placement:"bottom",forceShow:e.version==="large"||S.value})),o=Q({tablet:992}).smaller("tablet"),g=l(()=>o.value||!1),k=l(()=>e.version==="responsive"&&g.value),T=l(()=>k.value||e.version==="small"),S=l(()=>e.version==="responsive"&&!g.value),O=(n,K)=>{K+1<u.value&&t.emit("goToStep",n.id)},j=n=>{n==="open"?r.value=!0:n==="closed"&&(r.value=!1),t.emit("state",n)},z=()=>{r.value=!1},E=l(()=>T.value?"Ouverture du panneau d'étapes":null),P=n=>T.value?n:null,F=_(!1),G=l(()=>e.color);return{handleResize:()=>{S.value&&f.value&&(r.value=!1)},tooltipOpen:r,handleTriggerEvent:j,goToStep:O,setAriaAttributes:P,closeTooltip:z,changed:i,showPopover:F,colors:G,currentStep:u,isResponsiveSmall:k,isResponsiveLarge:S,theClass:m,tooltipParams:s,setAriaLabel:E}}}),se={class:"stepper__inner"},ae=["aria-label","aria-controls","aria-expanded"],te={key:0,class:"stepper__content"},re={class:"stepper__current"},oe={class:"stepper__qty"},ne={key:1,class:"stepper__list"};function le(e,t,i,r,f,u){const m=b("SolarisStepperList"),s=b("SolarisIcon"),a=b("SolarisTooltip");return c(),d("section",{class:v(["stepper",`stepper--${e.version}`])},[p("div",se,[h(a,Z({ref:"tooltipRef",class:e.theClass},e.tooltipParams,{onTriggerEvent:e.handleTriggerEvent,onClose:e.closeTooltip}),{tooltip:V(()=>[h(m,{modelValue:e.currentStep,"onUpdate:modelValue":t[0]||(t[0]=o=>e.currentStep=o),"tooltip-open":e.tooltipOpen,"is-responsive-small":e.isResponsiveSmall,version:e.version,steps:e.steps,colors:e.colors,onGoBack:e.goToStep},null,8,["modelValue","tooltip-open","is-responsive-small","version","steps","colors","onGoBack"])]),trigger:V(({ariaControls:o,ariaExpanded:g})=>[p("button",{class:"stepper__btnTrigger","aria-label":e.setAriaLabel,"aria-controls":e.setAriaAttributes(o),"aria-expanded":e.setAriaAttributes(g)},[h(s,{class:"stepper__trigger",name:"settings-menu-action-vertical"})],8,ae)]),_:1},16,["class","onTriggerEvent","onClose"]),e.version!=="large"||e.isResponsiveSmall?(c(),d("span",te,[t[1]||(t[1]=B(" Etape ")),p("span",re,y(e.currentStep),1),t[2]||(t[2]=B(" sur ")),p("span",oe,y(e.steps.length),1),p("span",{class:v(["stepper__name",{"stepper__name--changed":e.changed}])},y(e.steps[e.currentStep-1].label),3)])):A("",!0),e.version!=="large"||e.isResponsiveSmall?(c(),d("div",ne,[p("span",{class:v(["stepper__steps",`stepper__steps--${e.colors}`]),style:J(`width: calc(100% * ${e.currentStep-1} / ${e.steps.length-1})`)},null,6)])):A("",!0)])],2)}const ie=C(N,[["render",le],["__scopeId","data-v-854f2fa9"]]);N.__docgenInfo={displayName:"Steps",exportName:"default",description:"",tags:{},props:[{name:"steps",type:{name:"Array<StepType>"},required:!0},{name:"color",values:["supernova","colissimo"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'supernova'"}},{name:"version",values:["small","large","responsive"],type:{name:"string"},required:!1,defaultValue:{func:!1,value:"'responsive'"}},{name:"v-model",type:{name:"number"},required:!1},{name:"modelValue",type:{name:"number"},required:!1}],events:[{name:"change"},{name:"goToStep"},{name:"state"},{name:"update:modelValue"}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/organisms/Stepper/Steps.vue"]};const ge=Object.freeze(Object.defineProperty({__proto__:null,default:ie},Symbol.toStringTag,{value:"Module"}));export{ie as S,fe as _,ge as a};

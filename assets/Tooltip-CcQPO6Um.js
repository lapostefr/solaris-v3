import{d as Y,r as h,c as p,l as ee,e as S,t as te,f as W,v as B,G as oe,L as D,B as le,o as O,Z as ne}from"./vue.esm-bundler-BHwbD8xO.js";import{o as ie}from"./index-pMn-qRVg.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";var _=(m=>(m.default="default",m.quiet="quiet",m.spotlight="spotlight",m))(_||{});const re=["tabindex"],F=Y({__name:"Tooltip",props:{color:{default:_.default},displayElement:{default:"inline-flex"},forceShow:{type:Boolean},forcePlacement:{type:Boolean,default:!1},isManual:{type:Boolean},long:{type:Boolean},offset:{default:8},placement:{default:"top"},trigger:{default:"hover"},type:{default:"default"}},emits:["triggerEvent","close"],setup(m,{emit:L}){const t=m,P=L,q=h(null),b=h(null),T=h(t.placement),c=h(""),C=h(),V=["A","BUTTON"],H=h("");ie(q,()=>$());const M=p(()=>{let e="inherit",o="inherit",n="inherit",i="inherit";const v=t.offset;let d="transparent",w="transparent",r="transparent",s="transparent";const k=t.offset;let g=k+4,f="#3C3C3C";t.color!==_.quiet&&(f=!t.long&&t.type==="default"?"#3C3C3C":"#FFF",g=t.type==="empty-no-arrow"?0:k+4),t.color===_.spotlight&&(f="#003DA5");const E=T.value.split("-"),y=E[0],l=E[1];y==="top"&&(n=`calc(100% + ${g}px)`,d=f,l||(i="50%"),l==="start"&&(i="0"),l==="end"&&(o="0")),y==="bottom"&&(e=`calc(100% + ${g}px)`,r=f,l||(i="50%"),l==="start"&&(i="0"),l==="end"&&(o="0")),y==="left"&&(o=`calc(100% + ${g}px)`,s=f,l||(e="50%"),l==="start"&&(e="0"),l==="end"&&(n="0")),y==="right"&&(i=`calc(100% + ${g}px)`,w=f,l||(e="50%"),l==="start"&&(e="0"),l==="end"&&(n="0"));const u={display:"block",background:f,top:e,right:o,bottom:n,left:i},a={"border-width":`${v}px`,"border-top-color":d,"border-right-color":w,"border-bottom-color":r,"border-left-color":s};return{tooltip:u,arrow:a}}),R=p(()=>{let e;return t.color===_.quiet?e="default":e=t.long||t.type==="long"?"long":t.type,`tooltip__popper--${T.value} tooltip__popper--${e}`}),A=p(()=>{let e=t.trigger==="clickToOpen"||t.trigger==="clickToToggle"?"click":t.trigger,o=c.value||"";return t.isManual&&(e="",o=""),`tooltip__trigger--${e} tooltip__trigger--${o} ${I.value}`}),I=p(()=>t.forceShow&&c.value!=="closed"?"tooltip__trigger--forced":""),z=p(()=>`tooltip__arrow--${T.value}`),N=p(()=>C.value?C.value.firstElementChild:null),j=p(()=>{const e=N.value;return t.trigger==="focusOnly"&&e&&!V.includes(e.tagName)?0:null}),U=()=>{t.trigger==="clickToOpen"&&(x(),c.value="open"),t.trigger==="clickToToggle"&&(x(),c.value=c.value==="open"?"closed":"open"),t.trigger==="focusOnly"&&G(),P("triggerEvent",c.value)},G=()=>{var o;const e=N.value;e instanceof HTMLElement&&(V.includes(e.tagName)||e.tabIndex===0?e.focus():(o=C.value)==null||o.focus())},Z=e=>{["hover","focusOnly"].includes(t.trigger)&&e.preventDefault()},J=()=>{x()},$=()=>{c.value="closed",P("close")},x=()=>{const e=t.placement.split("-"),o=q.value,n=o==null?void 0:o.getBoundingClientRect().left,i=o==null?void 0:o.getBoundingClientRect().top,v=o==null?void 0:o.clientWidth,d=o==null?void 0:o.clientHeight,w=b.value,r=w.clientWidth+t.offset,s=w.clientHeight+t.offset,k=window.innerWidth-(n+v+r),g=window.innerHeight-(i+d+s),f=window.innerWidth-(n+r),E=window.innerHeight-(i+s),y=window.innerWidth-(n+r-(r-v)/2),l=window.innerHeight-(i+s-(s-d)/2);let u=e[0],a=e[1];t.forcePlacement||(e[0]==="top"&&i<s&&(u="bottom"),e[0]==="bottom"&&g<0&&(u="top"),(e[0]==="top"||e[0]==="bottom")&&(e[1]==="start"&&f<0&&(a="end"),e[1]==="end"&&n<r-v&&(a="start"),!e[1]&&y<0&&(a="end"),!e[1]&&n<(r-v)/2&&(a="start")),e[0]==="left"&&n<r&&(u="right"),e[0]==="right"&&k<0&&(u="left"),(e[0]==="left"||e[0]==="right")&&(e[1]==="start"&&E<0&&(a="end"),e[1]==="end"&&i<s-d&&(a="start"),!e[1]&&l<0&&(a="end"),!e[1]&&i<(s-d)/2&&(a="start"))),T.value=a?`${u}-${a}`:u},K=e=>{e.key==="Escape"&&$()},Q=p(()=>t.trigger==="clickToToggle"?H.value:null),X=p(()=>t.trigger==="clickToToggle"&&c.value==="open");return ee(()=>{t.forceShow&&(c.value="open"),b.value&&(H.value=b.value.id),window.addEventListener("keydown",K)}),(e,o)=>{const n=ne("generate-id");return O(),S("div",{ref_key:"tooltip",ref:q,class:B(["tooltip",{"tooltip--spotlight":e.color==="spotlight"}]),style:D("display: "+e.displayElement)},[te("div",{ref_key:"tooltipTrigger",ref:C,class:B(["tooltip__trigger",A.value]),tabindex:j.value,onClick:U,onMouseover:J,onMousedown:Z},[W(e.$slots,"trigger",{ariaControls:Q.value,ariaExpanded:X.value},void 0,!0)],42,re),oe((O(),S("div",{ref_key:"tooltipPopper",ref:b,class:B(["tooltip__popper",R.value]),style:D(M.value.tooltip)},[e.type!=="empty-no-arrow"||e.color==="quiet"?(O(),S("i",{key:0,class:B(["tooltip__arrow",z.value]),style:D(M.value.arrow)},null,6)):le("",!0),W(e.$slots,"tooltip",{closed:$},void 0,!0)],6)),[[n,"popper--"]])],6)}}}),pe=ae(F,[["__scopeId","data-v-596ae8af"]]);F.__docgenInfo={exportName:"default",displayName:"Tooltip",description:"",tags:{},props:[{name:"color",required:!1,type:{name:"Colors"},defaultValue:{func:!1,value:"Colors.default"}},{name:"displayElement",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'inline-flex'"}},{name:"forceShow",required:!1,type:{name:"boolean"}},{name:"forcePlacement",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isManual",required:!1,type:{name:"boolean"}},{name:"long",required:!1,type:{name:"boolean"}},{name:"offset",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"8"}},{name:"placement",required:!1,type:{name:"TooltipPlacement"},defaultValue:{func:!1,value:"'top'"}},{name:"trigger",required:!1,type:{name:"union",elements:[{name:'"hover"'},{name:'"clickToOpen"'},{name:'"clickToToggle"'},{name:'"focusOnly"'}]},defaultValue:{func:!1,value:"'hover'"}},{name:"type",required:!1,type:{name:"union",elements:[{name:'"default"'},{name:'"long"'},{name:'"empty-border"'},{name:'"empty-no-arrow"'},{name:'"empty"'}]},defaultValue:{func:!1,value:"'default'"}}],events:[{name:"triggerEvent"},{name:"close"}],slots:[{name:"trigger",scoped:!0,bindings:[{name:"aria-controls",title:"binding"},{name:"aria-expanded",title:"binding"}]},{name:"tooltip",scoped:!0,bindings:[{name:"closed",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/vue3-solaris/src/components/atoms/Tooltip/Tooltip.vue"]};export{_ as C,pe as S};

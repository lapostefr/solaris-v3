import{d as Se,m as te,Z as _e,b as de,r as w,c as E,o as $e,e as k,t as g,v as b,x as se,f as n,G as L,g as m,H as F,A as q,F as ne,C as f,h as C,y as re,z as we,D as Me,u as p,a0 as Te,O as Be,U as xe}from"./vue.esm-bundler-S_SeJiWS.js";import{S as Ve}from"./Button-CBxU2lEn.js";import{S as Ie}from"./Icon-D8mvpj6W.js";import{S as Ae,C as Ee,b as Le,a as ie,I as Fe,L as qe}from"./Card-6OSMqUYR.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";var v=(t=>(t.Clickable="Clickable",t.SelectableSingle="Selectable single",t.SelectableMultiple="Selectable multiple",t.Editable="Editable",t))(v||{}),oe=(t=>(t.none="none",t.xs="xs",t.s="s",t.m="m",t.l="l",t.xl="xl",t))(oe||{});const Oe=["id","disabled","name","checked","aria-describedby","aria-controls","aria-expanded","onChange"],ze=["id","disabled","value","name","aria-describedby","aria-controls","aria-expanded","onChange"],De={class:"lp-tile__footer"},Re={key:0,class:"lp-tile__custom"},We={key:0,class:"lp-tile__custom"},ce=Se({__name:"TileNew",props:te({gridClass:{type:Boolean,default:!1},legend:{},nested:{type:Boolean,default:!1},options:{},setItemClass:{default:void 0},showMoreWhenSelected:{type:Boolean,default:!1},showSelectionButton:{type:Boolean,default:!0},tileGap:{default:oe.s},type:{default:v.Clickable}},{modelValue:{},modelModifiers:{},checkbox:{default:[]},checkboxModifiers:{}}),emits:te(["cardClicked","radioChanged","checkboxChanged"],["update:modelValue","update:checkbox"]),setup(t,{emit:ue}){const r=t,M=ue,T=_e(),S=de(t,"modelValue"),o=de(t,"checkbox"),B=w(null),x=w(null),N=w(""),O=w(""),ge=()=>c()?"fieldset":"section",z=E(()=>{var e;return((e=r.legend)==null?void 0:e.label)||"Légende à remplir pour l'accessibilité"}),i=E(()=>r.options),me=e=>["h1","h2","h3","h4","h5","h6"].includes(e||""),fe=e=>["heading-xxs","heading-xs","heading-s","heading-m","heading-l","visually-hidden"].includes(e||""),he=()=>{if(c()){const e=[N.value];return T.tileLegendAdditional&&e.push(O.value),e.join(" ")}return null},D=e=>r.showMoreWhenSelected?`card-extra-id-${e.id}`:void 0,R=e=>{if(r.showMoreWhenSelected)return I(e)},W=e=>{const l=[];return e.card.subtitle&&l.push(`card-subtitle-id-${e.id}`),(e.card.bodyText||T.tileBody)&&l.push(`card-body-id-${e.id}`),(e.card.footerText||T.tileFooter)&&l.push(`card-footer-id-${e.id}`),l.length>0?l.join(" "):void 0},c=()=>u()==="checkbox"||u()==="radio",_=(e,l)=>{var d;return((d=e.card)==null?void 0:d.layout)===l},u=()=>{let e=null;return r.type===v.SelectableMultiple&&(e="checkbox"),r.type===v.SelectableSingle&&(e="radio"),e},be=e=>{M("cardClicked",e)},pe=e=>{M("radioChanged",e)},ve=(e,l)=>{i.value[e].checked=!i.value[e].checked,ye(i.value[e].value),M("checkboxChanged",l)},ye=e=>{o.value&&Array.isArray(o.value)&&o.value.includes(e)?o.value=o.value.filter(l=>l!==e):o.value=[...o.value,e]},V=(e,l)=>{let d=!1;return u()==="radio"&&(d=S.value===e.value),u()==="checkbox"&&(d=i.value[l].checked),d},I=e=>{var y;const l=((y=i.value[e].card)==null?void 0:y.expanded)||!1,d=i.value[e].value===S.value,$=i.value[e].checked;return r.showMoreWhenSelected&&(d||$)||l},ke=e=>{var d;if(!i.value[e].card)return;const l=(d=i.value[e].card)==null?void 0:d.expanded;i.value[e].card.expanded=!l},Ce=E(()=>{const e=r.type===v.SelectableSingle||r.type===v.SelectableMultiple,l=r.showMoreWhenSelected&&u()==="radio";return{isAllInputs:e,isRadio:l}});return $e(()=>{var e;B.value&&(N.value=(e=B.value)==null?void 0:e.id),x.value&&(O.value=x.value.id)}),(e,l)=>{const d=xe("generate-id");return n(),k(se(ge()),{class:b(["lp-tile__wrapper",{"lp-tile__wrapper--selectable":c()}]),"aria-labelledby":he()},{default:g(()=>{var $,A,y,j,P,U;return[c()?L((n(),m("legend",{key:0,ref_key:"legendRef",ref:B,class:b(["lp-tile__legend",{[`lp-tile__legend--${($=e.legend)==null?void 0:$.style}`]:fe((A=e.legend)==null?void 0:A.style),"lp-tile__legend--brand":((y=e.legend)==null?void 0:y.color)==="brand","visually-hidden":((j=e.legend)==null?void 0:j.style)==="visually-hidden"}])},[me((P=e.legend)==null?void 0:P.tag)?(n(),k(se((U=e.legend)==null?void 0:U.tag),{key:0,class:"lp-tile__tag"},{default:g(()=>[F(q(z.value),1)]),_:1})):(n(),m(ne,{key:1},[F(q(z.value),1)],64))],2)),[[d,"legend--"]]):f("",!0),e.$slots.tileLegendAdditional?L((n(),m("div",{key:1,ref_key:"additional",ref:x,class:"lp-tile__additional"},[C(e.$slots,"tileLegendAdditional",{},void 0,!0)])),[[d,"additional--"]]):f("",!0),re("div",{class:b({"lp-grid":e.gridClass,[`lp-tile__content--${e.tileGap}`]:!e.gridClass})},[(n(!0),m(ne,null,we(e.options,(a,s)=>{var G,H,Z,J,K,Q,X,Y,ee,ae;return n(),k(Ae,Me({key:a.id,ref_for:!0},a.card,{id:`${a.id}`,class:["lp-tile lp-tile--quiet",[{"lp-tile--checked":V(a,s)},{"lp-tile--disabled":a.disabled},`lp-tile--${u()} ${e.setItemClass}`]],"card-style":p(Ee).elevated,"background-color":a.disabled?"#F7F7F7":(G=a.card)==null?void 0:G.backgroundColor,color:a.disabled?"#717171":(H=a.card)==null?void 0:H.color,"container-tag":((Z=a.card)==null?void 0:Z.containerTag)||p(Le).article,"content-padding":((J=a.card)==null?void 0:J.contentPadding)||p(ie).small,"footer-right":((K=a.card)==null?void 0:K.footerRight)||!0,expanded:I(s),"image-order":((Q=a.card)==null?void 0:Q.imageOrder)||p(Fe).imageOnTop,"image-padding":((X=a.card)==null?void 0:X.imagePadding)||p(ie).small,"form-element":Ce.value,"header-content-to-bottom":((Y=a.card)==null?void 0:Y.headerContentToBottom)||!0,layout:((ee=a.card)==null?void 0:ee.layout)||p(qe).horizontal,"show-images-on-mobile":((ae=a.card)==null?void 0:ae.showImagesOnMobile)||!1,onCardClicked:h=>be(a)}),Te({cardBeforeTitle:g(()=>[u()==="checkbox"?(n(),m("input",{key:0,id:`card-input-id-${a.id}`,type:"checkbox",class:b(["lp-tile__input",{"lp-tile__input--nested":e.nested}]),disabled:a.disabled,name:`card-name-${a.name}`,checked:o.value.includes(a.value),"aria-describedby":W(a),"aria-controls":D(a),"aria-expanded":R(s),onChange:h=>ve(s,a)},null,42,Oe)):f("",!0),u()==="radio"?L((n(),m("input",{key:1,id:`card-input-id-${a.id}`,"onUpdate:modelValue":l[0]||(l[0]=h=>S.value=h),class:b(["lp-tile__input",{"lp-tile__input--nested":e.nested}]),disabled:a.disabled,value:a.value,name:`card-name-${a.name}`,type:"radio","aria-describedby":W(a),"aria-controls":D(a),"aria-expanded":R(s),onChange:h=>pe(a)},null,42,ze)),[[Be,S.value]]):f("",!0)]),cardExtra:g(()=>[C(e.$slots,"tileExtra",{index:s},void 0,!0)]),_:2},[e.$slots.tileBody||V(a,s)?{name:"cardBody",fn:g(()=>[C(e.$slots,"tileBody",{index:s},void 0,!0),V(a,s)?(n(),k(Ie,{key:0,class:b(["lp-tile__checked-icon",{"lp-tile__checked-icon--nested":e.nested}]),name:"action-check",title:"Option sélectionnée"},null,8,["class"])):f("",!0)]),key:"0"}:void 0,e.$slots.tileFooter||c()&&_(a,"vertical")?{name:"cardFooter",fn:g(()=>{var h,le;return[re("div",De,[C(e.$slots,"tileFooter",{index:s},void 0,!0),c()&&_(a,"vertical")&&e.showSelectionButton?(n(),m("span",Re)):f("",!0),a.toggleText?(n(),k(Ve,{key:1,class:"lp-tile__toggle-link",type:"ghost",icon:"arrow-bottom","icon-reverse":"","aria-label":`Voir plus : ${(le=(h=a.card)==null?void 0:h.title)==null?void 0:le.content}`,"aria-control":`card-extra-id-${a.id}`,"aria-expanded":I(s)?"true":"false",onClick:je=>ke(s)},{default:g(()=>[F(q(a.toggleText),1)]),_:2},1032,["aria-label","aria-control","aria-expanded","onClick"])):f("",!0)])]}),key:"1"}:void 0,e.$slots.tileMedias||c()&&_(a,"horizontal")?{name:"cardMedias",fn:g(()=>[C(e.$slots,"tileMedias",{index:s},void 0,!0),c()&&_(a,"horizontal")&&e.showSelectionButton?(n(),m("span",We)):f("",!0)]),key:"2"}:void 0]),1040,["id","card-style","background-color","color","container-tag","content-padding","footer-right","expanded","image-order","image-padding","form-element","header-content-to-bottom","layout","show-images-on-mobile","class","onCardClicked"])}),128))],2)]}),_:3},8,["class","aria-labelledby"])}}}),Je=Ne(ce,[["__scopeId","data-v-22922043"]]);ce.__docgenInfo={exportName:"default",displayName:"TileNew",description:"",tags:{},props:[{name:"gridClass",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"legend",required:!1,type:{name:"TileLegend"}},{name:"nested",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"options",required:!0,type:{name:"Array",elements:[{name:"TileOption"}]}},{name:"setItemClass",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"showMoreWhenSelected",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"showSelectionButton",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"tileGap",required:!1,type:{name:"TileGap"},defaultValue:{func:!1,value:"TileGap.s"}},{name:"type",required:!1,type:{name:"ElementType"},defaultValue:{func:!1,value:"ElementType.Clickable"}}],events:[{name:"cardClicked"},{name:"radioChanged"},{name:"checkboxChanged"}],slots:[{name:"tileLegendAdditional"},{name:"tileBody",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileFooter",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileMedias",scoped:!0,bindings:[{name:"index",title:"binding"}]},{name:"tileExtra",scoped:!0,bindings:[{name:"index",title:"binding"}]}],sourceFiles:["/Users/jchourdeaux/workspace/projects/solaris/vue3/src/components/organisms/TileNew/TileNew.vue"]};export{v as E,Je as S,oe as T};
